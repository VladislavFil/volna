!function(){"use strict";var e,t={544:function(e,t,n){var i=n(667);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"handlerDocumentReady",value:function(e){return"function"==typeof e&&("interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e))}},{key:"removeElement",value:function(e){e.parentNode.removeChild(e)}},{key:"siblings",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Array.from(e.parentNode.children).filter(function(n){return t?n:n!==e})}},{key:"show",value:function(e){e.style.display="block"}},{key:"hide",value:function(e){e.style.display="none"}},{key:"clearHtml",value:function(e){e.innerHTML=""}},{key:"insetContent",value:function(e,t){var n;"string"==typeof t?e.insertAdjacentHTML("beforeend",t):"object"==(void 0===t?"undefined":(n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&e.appendChild(t)}},{key:"keyExist",value:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},{key:"isEmptyObject",value:function(e){return 0===Object.keys(e).length}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"getWindowHeight",value:function(){return window.innerHeight||document.documentElement.clientHeight}},{key:"getWindowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth}},{key:"getScrollTop",value:function(){return window.scrollY||document.documentElement.scrollTop}},{key:"isTouchDevice",value:function(){return Boolean("undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&"undefined"!=typeof document&&(e=document,null!=(t=window.DocumentTouch)&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t)))||Boolean("undefined"!=typeof navigator&&(navigator.maxTouchPoints||navigator.msMaxTouchPoints));var e,t}},{key:"isBreakpoint",value:function(e,t){return window.innerWidth>=e&&window.innerWidth<t}},{key:"isDesktop",value:function(){return window.innerWidth>1199}},{key:"isTablet",value:function(){return window.innerWidth<1023}},{key:"isMobile",value:function(){return window.innerWidth<768}},{key:"youTubeGetId",value:function(e){return e.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be[.]?\/|youtube\.com[.]?\/(?:embed\/|v\/|watch\/?\?(?:\S+=\S*&)*v=))([\w-]{11})\S*$/)?RegExp.$1:void 0}},{key:"numberFormatted",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}},{key:"getElementIndex",value:function(e){for(var t=0;e=e.previousElementSibling;)t++;return t}},{key:"getElementOffset",value:function(e){var t=document.documentElement,n=e.getBoundingClientRect();return{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}}},{key:"loadScript",value:function(e,t){var n=document.createElement("script");n.onload=function(){if(t)return t()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}},{key:"send",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};fetch(t,{method:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(e){return e.json()}).then(function(e){n.success(e),n.complete&&n.complete()}).catch(function(e){n.error&&n.error(e)})}},{key:"throttle",value:function(e,t){var n=null;return function(i){var o=n;n=Date.now(),(void 0===o||n-o>t)&&e(i)}}},{key:"debounce",value:function(e,t){var n=this,i=null;return function(o){var a=i;i=Date.now(),a&&i-a<=t&&clearTimeout(n.lastCallTimer),n.lastCallTimer=setTimeout(function(){e(o)},t)}}},{key:"wrapContent",value:function(e,t,n){var i=document.createElement(t);return n&&i.classList.add(n),e.parentNode.insertBefore(i,e),i.appendChild(e)}},{key:"bodyFixed",value:function(e){var t="".concat(window.innerWidth-document.documentElement.clientWidth,"px");setTimeout(function(){(0,i.mh)(e,{reserveScrollBarGap:!0})},0),setTimeout(function(){var e=document.documentElement;e&&e.style.setProperty("--lock-offset",t)},0)}},{key:"bodyStatic",value:function(){setTimeout(function(){(0,i.qY)()},0),setTimeout(function(){var e=document.documentElement;e&&e.style.setProperty("--lock-offset","")},0)}},{key:"convertToNumber",value:function(e){return parseFloat(e.toString().replace(/\s/g,""))}},{key:"replaceSpace",value:function(e){return e.replace(/\s/g,"")}},{key:"convertToDigit",value:function(e){return Number(e)?Number(e).toLocaleString("ru-Ru"):e}},{key:"convertToRank",value:function(e,t){return Number(e)/t}},{key:"pluralWord",value:function(e,t){return t[e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2]}},{key:"getUrlParams",value:function(e){var t=window.location.search;return new URLSearchParams(t).get(e)}},{key:"isElement",value:function(e){return Boolean(e.tagName)}},{key:"closest",value:function(e,t){return!(!e||!t)&&e.closest(t)}},{key:"clickOutside",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){var o=[];e.nodeType===Node.ELEMENT_NODE?o=[[e]]:"string"==typeof e?o.push(Array.from(document.querySelectorAll(e))):Array.from(e).forEach(function(e){o.push(Array.from(document.querySelectorAll(e)))}),document.addEventListener("click",function(a){var s=a.target;i&&(o=[],e.nodeType===Node.ELEMENT_NODE?o=[[e]]:"string"==typeof e?o.push(Array.from(document.querySelectorAll(e))):Array.from(e).forEach(function(e){o.push(Array.from(document.querySelectorAll(e)))}));do{try{o.forEach(function(e){if(-1!==e.indexOf(s))throw n(),!1})}catch(e){return}s=s.parentNode}while(s);t()})}}},{key:"addScript",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=document.createElement("script");i.type="application/javascript",i.src=e,i.onload=n.onload,i.onerror=function(e){console.warn("Ошибка загрузки "+t.src),n.onerror(e)},document.head.appendChild(i)}}],(n=null)&&o(t.prototype,n),a&&o(t,a),e}(),s=a,r=n(692);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}s.handlerDocumentReady(function(){window.jQuery=window.$=r;var e=document.querySelector("html"),t=function(){s.isTouchDevice()?e.classList.remove("no-touch"):e.classList.add("no-touch")};["resize","orientationchange"].forEach(function(e){window.addEventListener(e,t)}),t();var n=document.querySelectorAll("[data-scroll-to]");n.length&&n.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.dataset.scrollBy||e.getAttribute("href");!function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return!1;var t=r(e).offset().top;r("html").animate({scrollTop:t},500)}(document.querySelector(n))})})});var h=null,d=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.components=[],h||(h=this),h}var t,n,i;return t=e,n=[{key:"register",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.components=u(this.components).concat(u(e)),!0}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return this.components.length&&Array.from(this.components).forEach(function(t){t.init(e),document.dispatchEvent(new CustomEvent("afterInitComponent",{detail:{component:t,context:e}}))}),!0}}],n&&c(t.prototype,n),i&&c(t,i),e}(),p=n(144),f=n.n(p);function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var v=null,y=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v||(v=this),this.channels={},v}var t,n,i;return t=e,n=[{key:"subscribe",value:function(e,t){this.channels[e]||(this.channels[e]=[]),this.channels[e].push({context:this,callback:t})}},{key:"unsubscribe",value:function(e){return!!this.channels[e]&&(delete this.channels[e],this)}},{key:"publish",value:function(e){if(!this.channels[e])return!1;var t=Array.prototype.slice.call(arguments,1);return this.channels[e].forEach(function(e){e.callback.apply(e.context,t)}),this}},{key:"installTo",value:function(e){e.channels={},e.publish=this.publish,e.subscribe=this.subscribe}}],n&&m(t.prototype,n),i&&m(t,i),e}(),g=y;function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function k(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}var w=new g,S=function(){function e(){b(this,e)}return k(e,null,[{key:"init",value:function(){arguments.length>0&&void 0!==arguments[0]||document;(new C).init(),(new E).init()}}]),e}(),E=function(){function e(){b(this,e),this.lazyloadEnter=null}return k(e,[{key:"init",value:function(){this.subscibe()}},{key:"subscibe",value:function(){var e=this;w.subscribe("preloader:end",function(){setTimeout(function(){e.start()},300)})}},{key:"start",value:function(){this.lazyloadEnter=new(f())({elements_selector:"[data-lazy-enter]",threshold:400,callback_exit:this._onEnter.bind(this,"exit",1),callback_enter:this._onEnter.bind(this,"enter",0)})}},{key:"_onEnter",value:function(e,t,n){var i=n.getAttribute("data-lazy-enter").split(",")[t];n.classList.contains("_".concat(e))||(w.publish(i,n),n.classList.add("_".concat(e)))}}]),e}(),C=function(){function e(){b(this,e),this.lazyloadImage=null}return k(e,[{key:"init",value:function(){this.lazyloadImage=new(f())({elements_selector:".lazy",threshold:300,unobserve_entered:!0,callback_error:function(e){}})}}]),e}();function O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var L=new g,P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.preloader=document.querySelector(".preloader"),this.html=document.documentElement,this.timeOnView=700}var t,n,i;return t=e,i=[{key:"init",value:function(){(new e).init()}}],(n=[{key:"init",value:function(){this.preloader&&this._subscribe()}},{key:"_subscribe",value:function(){var e=this;L.subscribe("animation:inited",function(){e._bindEvents()})}},{key:"_bindEvents",value:function(){var e=this;s.handlerDocumentReady(function(){setTimeout(function(){e._hide()},e.timeOnView)})}},{key:"_hide",value:function(){var e=this;this.preloader.classList.add("_ready"),this.html.classList.add("_loaded"),L.publish("preloader:end"),setTimeout(function(){s.removeElement(e.preloader)},1e3)}}])&&O(t.prototype,n),i&&O(t,i),e}(),x=P,T=n(700),j=n(319),A=n(575);function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}j.os.registerPlugin(A.u);var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements=document.querySelectorAll("[data-anim-fadetop]")}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;this.elements.length&&this.elements.forEach(function(t){e._animate(t)})}},{key:"_animate",value:function(e){j.os.set(e,{y:"100%"}),j.os.timeline({scrollTrigger:{trigger:e,start:"top bottom",end:"top 60%",invalidateOnRefresh:!0,scrub:1}}).to(e,{y:"0"})}}])&&I(t.prototype,n),i&&I(t,i),e}();function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function B(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function q(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}j.os.registerPlugin(A.u);var N=new g,R=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wrapper=document.querySelector("body"),this.blockSelector="[data-anim]",this.animationObjects=j.os.utils.toArray(this.blockSelector),this.animationSettings={delayAfterPreloader:600,breakpoint:1},this.gsapSettings={ease:"power2.out",duration:.9,delay:0,scrub:!s.isDesktop()&&2},this.animationObjects=q(this.wrapper.querySelectorAll(this.blockSelector)).map(function(e){var n,i,o,a;return{animationBlock:e,items:q(e.querySelectorAll("\n                  [data-anim-item]")),delay:(null===(n=e.dataset)||void 0===n?void 0:n.animDelay)||0,duration:(null===(i=e.dataset)||void 0===i?void 0:i.animDuration)||t.gsapSettings.duration,isOnly:e.hasAttribute("data-anim-only")||!1,type:(null===(o=e.dataset)||void 0===o?void 0:o.anim)||"fadeIn",ease:(null===(a=e.dataset)||void 0===a?void 0:a.animEase)||t.gsapSettings.ease}}),j.os.config({nullTargetWarn:!1})}var t,n,i;return t=e,n=[{key:"init",value:function(){s.isDesktop()?(this._animationInit(),this._subscribes()):N.publish("animation:inited")}},{key:"_subscribes",value:function(){var e=this;N.subscribe("preloader:end",function(){setTimeout(function(){e.animationObjects.forEach(function(t){e._show(t.animationBlock),e._animateMove(t)}),e._updateAnimation(),e._initOtherAnimations()},e.animationSettings.delayAfterPreloader)})}},{key:"_getScrollSettings",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={trigger:e,start:s.isDesktop()?"top 80%":"top 95%",end:"top 60%",scrub:this.gsapSettings.scrub,once:!0,toggleActions:"play none none reverse"};return n.onEnter&&(i.onEnter=n.onEnter),i}},{key:"_counterRowItems",value:function(e){var t=e.animationBlock,n=t.querySelector("[data-anim-item], .col"),i=t.getBoundingClientRect().width,o=n.getBoundingClientRect().width;return Math.trunc(i/o)}},{key:"_animationInit",value:function(){var e=this;(new M).init(),this.animationObjects.forEach(function(t){e._hide(t.animationBlock)}),N.publish("animation:inited")}},{key:"_initOtherAnimations",value:function(){}},{key:"_animateMove",value:function(e){var t=this,n=e.animationBlock,i=e.items.length?e.items:n,o=[];if(i.length){for(var a=this._counterRowItems(e),s=0;s<i.length;s+=a){var r=i.slice(s,s+a);o.push(r)}o.forEach(function(n){var i=j.os.timeline({scrollTrigger:t._getScrollSettings(n,e)}),o=t._animatePosition(e.type);i.fromTo(n,{opacity:0,x:o.x,y:o.y},{opacity:1,y:0,x:0,duration:e.duration,delay:e.delay||0,ease:e.ease||t.gsapSettings.ease,stagger:.15})})}else{var l=j.os.timeline({scrollTrigger:this._getScrollSettings(n,e,{onEnter:function(){}})});if("clipPath"===e.type)return void this._setClipPathAnimation(e);var c=this._animatePosition(e.type);l.fromTo(n,{opacity:0,y:c.y,x:c.x,scale:c.scale},{opacity:1,y:0,x:0,scale:1,duration:e.duration,ease:e.ease||this.gsapSettings.ease})}}},{key:"_animatePosition",value:function(e){var t=0,n=0,i=1;switch(e){case"fadeIn":break;case"fadeInTop":n="30";break;case"fadeInDown":n="-30";break;case"fadeInLeft":t=s.isDesktop()?"-30":0;break;case"fadeInRight":t=s.isDesktop()?"30":0;break;case"zoomIn":i=.5}return{x:t,y:n,scale:i}}},{key:"_setClipPathAnimation",value:function(e){var t=this,n=e.animationBlock,i=e.animationBlock.querySelector("img");n.style.overflow="hidden",j.os.timeline({scrollTrigger:this._getScrollSettings(n,e,{onEnter:function(){t._show(n)}})}).from(i,{scale:1.2}).fromTo(n,{css:{opacity:0,clipPath:"polygon(0 0, 0 0, 0 100%, 0% 100%)",webkitClipPath:"polygon(0 0, 0 0, 0 100%, 0% 100%)"}},{css:{opacity:1,clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)",webkitClipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)"},duration:e.duration,ease:e.ease||this.gsapSettings.ease},0)}},{key:"_updateAnimation",value:function(){var e=document.body.scrollHeight;window.addEventListener("scroll",(0,T.s)(10,function(){var t=document.body.scrollHeight;t!==e&&(A.u.refresh(!0),e=t)}))}},{key:"_hide",value:function(e){j.os.set(e,{opacity:0})}},{key:"_show",value:function(e){j.os.set(e,{opacity:1})}}],i=[{key:"init",value:function(){(new e).init()}}],n&&B(t.prototype,n),i&&B(t,i),e}(),$=n(571);function H(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}j.os.registerPlugin($.I);var F=new g,z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pageClassList=document.documentElement.classList,this.autoScrolling=!1,this.maxScrollTop=null,this.scrollTop=0,this.lock=null,this.unlock=null,this.isNativeScroll=!1}var t,n,i;return t=e,i=[{key:"init",value:function(){var t=new e;t.init(),window.Site.Modules.PageScrolling=t}}],(n=[{key:"init",value:function(){var e=this;if(this._disabledScroll(),s.isDesktop()&&!this.isNativeScroll){this._initDesktop();var t=window.location.hash;t&&this.scrollToBlockByHash(t),window.addEventListener("resize",this._updateMaxScroll.bind(this)),this._updateMaxScroll(),Array.from(document.querySelectorAll("[data-scroll-to]")||[]).forEach(function(t){return t.addEventListener("click",function(t){t.preventDefault(),e.scrollTo(t.currentTarget.getAttribute("href"))})})}}},{key:"_disabledScroll",value:function(){(document.querySelector(".page-kit")||document.body.hasAttribute("data-native-scrolling"))&&(this.isNativeScroll=!0)}},{key:"scrollToBlockByHash",value:function(e){if(e){var t=document.querySelector(e);t&&this.scrollTo(t,!0)}}},{key:"_updateMaxScroll",value:function(){this.maxScrollTop=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-window.innerHeight}},{key:"scrollTo",value:function(e){var t=this;"number"!=typeof e&&("string"==typeof e&&(e=document.querySelector(e)),e=e.getBoundingClientRect().top+(window.scrollY||document.body.scrollTop)),this._updateMaxScroll(),e=e>this.maxScrollTop?this.maxScrollTop:e;var n=Math.abs(window.scrollY-e)/500;n=(n<.15?.15:n)>1?1:n,this.isNativeScroll?window.scrollTo(0,e):(this.autoScrolling=!0,j.os.to(window,{duration:n,scrollTo:{y:e,autoKill:!1,onAutoKill:function(){t.autoScrolling=!1}},ease:n>=.5?"power4.inOut":"",onStart:function(){t.autoScrolling=!0},onComplete:function(){t.autoScrolling=!1}}))}},{key:"_initDesktop",value:function(){var e,t=this,n=this,i=window.scrollY,o=i;this.scrollTop=i;var a=!1,s=!0,r=!1,l=function(e){(o+=e)<0&&(o=0),o>t.maxScrollTop&&(o=t.maxScrollTop)};function c(){if(!a)if(n.autoScrolling)n.scrollTop=i=o;else if(i!==o){var e=(o-i)/21;i+=e=(e=e<-25?-25:e)>25?25:e,Math.abs(i-o)<2&&(o=Math.round(i),i=o),n.scrollTop=i,window.scrollTo(0,i)}}window.addEventListener("keydown",function(e){a?40!==e.key&&38!==e.key||e.preventDefault():40===e.key?l(100):38===e.key&&l(-100)}),window.addEventListener("scroll",function(){if(!a){var e=window.scrollY;e=e<0?0:e,r||n.autoScrolling?n.scrollTop=o=i=e:r=!1}}),F.subscribe("selectOpen",function(){var e=document.querySelectorAll(".select2-container");e.length&&e.forEach(function(e){e.addEventListener("mouseenter",function(){a=!0,s=!1}),e.addEventListener("mouseleave",function(){a=!1,s=!0})})}),document.addEventListener("mousedown",function(e){r=document.body.offsetWidth<e.clientX}),document.addEventListener("mouseup",function(){r=!1}),window.addEventListener("blur",function(){r=!1}),window.addEventListener("wheel",function(e){if(a)s&&e.preventDefault();else{e.preventDefault();var t=e.deltaY;l(t)}},{passive:!1}),j.os.ticker.add(function(){c()}),setInterval(function(){n._updateMaxScroll()},250),window.addEventListener("resize",function(){c()}),this.lock=function(n){a||(a=!0,e=t.scrollTop,t.pageClassList.add("_scroll-locked"),n&&(s=!1))},this.unlock=function(){a&&(a=!1,s=!0,window.scrollTo(0,e),this.pageClassList.remove("_scroll-locked"))},c()}}])&&H(t.prototype,n),i&&H(t,i),e}();function W(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var G=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.openClass="_menu-opened",this.opened=!1,this.animating=!1,this.menu=t,this.closeBtn=this.menu.querySelector(".menu-head__close"),this.menuBack=this.menu.querySelector(".menu-back"),this.menuItems=this.menu.querySelectorAll(".nav-item, .menu-content__bottom"),this.menuHead=this.menu.querySelectorAll(".menu-head"),this.menuRight=this.menu.querySelector(".menu-content__right"),this.menuMobileElements=this.menu.querySelectorAll(".nav-item, .menu-content__right, .menu-content__bottom"),this.openers=document.querySelectorAll("[data-menu-trigger]"),this.htmlElem=document.documentElement}var t,n,i;return t=e,n=[{key:"init",value:function(){this._bindContext(),this._bindEvents()}},{key:"_bindContext",value:function(){this.open=this.open.bind(this),this.close=this.close.bind(this),this._changeState=this._changeState.bind(this)}},{key:"_bindEvents",value:function(){var e=this;document.addEventListener("keyup",function(t){e._closeByKeyboard(t)}),this.openers.length&&this.openers.forEach(function(t){t.addEventListener("click",e._changeState)}),this.closeBtn&&this.closeBtn.addEventListener("click",this._changeState),["resize","orientationchange"].forEach(function(t){window.addEventListener(t,e._onResize.bind(e))}),s.isDesktop()||this.menuItems.forEach(function(t){t.addEventListener("click",function(t){var n=t.target;if("LI"===n.tagName){var i=n.classList.contains("_opened");e._toggleSubmenu(t.currentTarget,!i)}})})}},{key:"_onResize",value:function(){this.opened&&s.isDesktop()&&this._changeState()}},{key:"_closeByKeyboard",value:function(e){27===e.keyCode&&this.opened&&this._changeState()}},{key:"_changeState",value:function(){this.opened?this.close():this.open()}},{key:"open",value:function(){var e=this;!this.opened&&this.animating||(this.opened=!0,this.animating=!0,this.menu.style.pointerEvents="all",this.menu.style.display="block",this.htmlElem.classList.add(this.openClass),s.bodyFixed(this.menu.querySelector(".menu-content__scroll")),j.os.fromTo(this.menuBack,{alpha:0},{alpha:.7,duration:.55,delay:.6}),j.os.fromTo(this.menuHead,{alpha:0},{alpha:1,duration:.35,delay:.6}),s.isTablet()?j.os.fromTo(this.menuMobileElements,{y:"20px",alpha:0},{y:"0",alpha:1,duration:.75,ease:"strong.out",delay:.6,stagger:.075,onComplete:function(){e.animating=!1}}):(j.os.fromTo(this.menuRight,{y:"30px",alpha:0},{y:"0",alpha:1,duration:.35,delay:.6}),j.os.fromTo(this.menuItems,{x:"-5%",alpha:0},{x:"0%",alpha:1,duration:.75,ease:"strong.out",delay:.6,stagger:.075,onComplete:function(){e.animating=!1}})))}},{key:"close",value:function(){var e=this;this.opened&&this.animating||(this.opened=!1,this.animating=!0,this.menu.style.pointerEvents="none",j.os.fromTo(this.menuHead,{alpha:1},{alpha:0,duration:.35,delay:.3}),s.isTablet()?j.os.fromTo(this.menuMobileElements,{alpha:1},{alpha:0,duration:.35,delay:.3,ease:"strong.out",onComplete:function(){e.animating=!1,e.htmlElem.classList.remove(e.openClass)}}):(j.os.fromTo(this.menuRight,{y:"0",alpha:1},{y:"30px",alpha:0,duration:.35,delay:.3}),j.os.to(this.menuItems,{x:"5%",alpha:0,duration:.15,stagger:.05,delay:.3})),j.os.fromTo(this.menuBack,{alpha:.7},{alpha:0,duration:.55,delay:.3,onComplete:function(){e.animating=!1,e.htmlElem.classList.remove(e.openClass),setTimeout(function(){e.menu.style.display="none"},900)}}),s.bodyStatic())}},{key:"_toggleSubmenu",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.querySelector(".nav__dropdown");if(n){var i=n.querySelectorAll(".nav__dropdown-item");if(t){e.classList.add("_opened"),n.style.pointerEvents="all",j.os.fromTo(i,{alpha:0,y:"-5%"},{alpha:1,y:"0%",duration:.35,delay:.15,stagger:.075});var o=n.offsetHeight;j.os.killTweensOf(n),n.style.display="block",n.style.height="";var a=n.offsetHeight;j.os.fromTo(n,{height:o},{height:a,duration:.25,onComplete:function(){n.style.height=""}})}else e.classList.remove("_opened"),n.style.pointerEvents="none",j.os.to(i,{alpha:0,y:"-5%",duration:.15}),j.os.to(n,{height:0,duration:.5,onComplete:function(){n.style.display="none"}})}}}],i=[{key:"init",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelector(".menu");t&&new e(t).init()}}],n&&W(t.prototype,n),i&&W(t,i),e}(),V=G,X=n(987);function Z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cookie=t,this.cookies=X.A,this.messageShowDelay=5e3,this.cookieDuration=this.cookie.dataset.cookieTime||365,this.activeClass="is-active",this.hideClass="is-hide"}var t,n,i;return t=e,i=[{key:"init",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelector(".j-cookie");t&&new e(t)._init()}}],(n=[{key:"_init",value:function(){0===+this.cookieDuration&&this._removeCookie("cookie-accepted"),void 0===this._getCookie("cookie-accepted")?(this._showMessage(),this._bindEvents()):this._hideMessage()}},{key:"_bindEvents",value:function(){var e=this;document.querySelector(".cookie__close").addEventListener("click",function(){e.cookie.classList.add(e.hideClass),setTimeout(function(){e._hideMessage(),e._setCookie("cookie-accepted","yes")},300)})}},{key:"_setCookie",value:function(e,t){this.cookies.set(e,t,{expires:+this.cookieDuration})}},{key:"_getCookie",value:function(e){return this.cookies.get(e)}},{key:"_removeCookie",value:function(e){this.cookies.remove(e)}},{key:"_showMessage",value:function(){var e=this;setTimeout(function(){e.cookie.classList.add(e.activeClass)},this.messageShowDelay)}},{key:"_hideMessage",value:function(){s.removeElement(this.cookie)}}])&&Z(t.prototype,n),i&&Z(t,i),e}(),Y=U;function Q(e,t,n){return t=ne(t),function(e,t){if(t&&("object"==(n=t,n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)||"function"==typeof t))return t;var n;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ae()?Reflect.construct(t,n||[],ne(e).constructor):t.apply(e,n))}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ee(e,t,n){return t&&J(e.prototype,t),n&&J(e,n),e}function te(e,t,n){return te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ne(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n||e):o.value}},te(e,t,n||e)}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function ie(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}function oe(e,t){return oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oe(e,t)}function ae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ae=function(){return!!e})()}var se=new g,re=function(){function e(){K(this,e),this.openClass="is-open",this.isOpen=!1,this.closedHeight=0,this.height=null,this.elem=null,this.toggler=null,this.content=null,this.contentOuter=null,this.title=null,this.closed=null,this.changeTitle="",this.subAccordion=!1,this.close=this.close.bind(this),this.open=this.open.bind(this)}return ee(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setElements(e),this._setInitState(),this._subscribe(),this._bindEvents()}},{key:"reinit",value:function(){this._setInitState()}},{key:"_setElements",value:function(e){this.elem=e.elem,this.elemParent=this.elem.parentNode||!1,this.closed=this.elem.dataset.close||!0,this.toggler=this.elem.querySelector(e.toggler)||this.elem.querySelector(".acc__head"),this.content=this.elem.querySelector(e.content)||this.elem.querySelector(".acc__content-inner"),this.contentOuter=this.elem.querySelector(e.contentOuter)||this.elem.querySelector(".acc__content"),this.title=this.elem.querySelector(e.title)||this.elem.querySelector(".acc__title"),this.contentOuter.querySelector("[data-acc]")&&(this.subAccordion=!0)}},{key:"_setInitState",value:function(){this.height=this._getHeight(),this.isOpen=this.elem.classList.contains(this.openClass),this.titleText=!!this.title&&this.title.innerHTML,this.changeTitle=this.elem.hasAttribute("data-title"),this.hiddenText=this.elem.dataset.title||"Скрыть"}},{key:"_getHeight",value:function(){return this.content.offsetHeight}},{key:"_subscribe",value:function(){throw new Error("Метод _subscribe должен быть переопределен")}},{key:"_bindEvents",value:function(){var e=this;this.toggler.addEventListener("click",this._onTogglerClick.bind(this));["resize","orientationchange"].forEach(function(t){window.addEventListener(t,e._onResize.bind(e))})}},{key:"_onTogglerClick",value:function(){var e=this.isOpen?this.close:this.open;this.height=this._getHeight(),e()}},{key:"_onResize",value:function(){this.isOpen&&this.update()}},{key:"_setContentHeight",value:function(e){this.contentOuter.style.height=e?"".concat(e,"px"):e}},{key:"open",value:function(){var e=this;this.changeTitle&&this.titleText&&(s.clearHtml(this.title),s.insetContent(this.title,this.hiddenText)),this.elem.classList.add(this.openClass),this.isOpen=!0,this._setContentHeight(this.height),setTimeout(function(){e.contentOuter.style.overflow="visible"},600),this.subAccordion&&setTimeout(function(){e.contentOuter.style.height="auto",e.elem.classList.add("_is-sub-accordion")},1e3)}},{key:"close",value:function(e){e&&this.elemParent!==e||(this.subAccordion&&(this._setContentHeight(this.height),this.elem.classList.remove("_innerAcc")),this.changeTitle&&this.titleText&&(s.clearHtml(this.title),s.insetContent(this.title,this.titleText)),this.elem.classList.remove(this.openClass),this.isOpen=!1,this.contentOuter.style.overflow="hidden",this._setContentHeight(this.closedHeight))}},{key:"update",value:function(){this.height=this._getHeight(),this._setContentHeight(this.isOpen?this.height:this.closedHeight)}}]),e}(),le=function(e){function t(){return K(this,t),Q(this,t,arguments)}return ie(t,e),ee(t,[{key:"_setInitState",value:function(){te(ne(t.prototype),"_setInitState",this).call(this),this._setContentHeight(this.isOpen?this.height:this.closedHeight)}},{key:"open",value:function(){se.publish("openAccordion",this.elemParent),setTimeout(function(){se.publish("scrollResize")},600),te(ne(t.prototype),"open",this).call(this)}},{key:"_subscribe",value:function(){"false"!==this.closed&&se.subscribe("openAccordion",this.close)}}],[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=e.querySelectorAll("[data-accordion]");n.length&&n.forEach(function(e){(new t).init({elem:e})});var i=e.querySelectorAll("[data-accordion-filter]");i.length&&i.forEach(function(e){(new t).init({elem:e,toggler:".realty-filtres__controls-button-more"})})}}]),t}(re),ce=function(e){function t(){return K(this,t),Q(this,t,arguments)}return ie(t,e),ee(t,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.breakpoint=e.breakpoint||e.elem.dataset.accMobile||1199,te(ne(t.prototype),"init",this).call(this,e)}},{key:"_isDesktop",value:function(){return s.isBreakpoint(this.breakpoint,1e4)}},{key:"_setInitState",value:function(){te(ne(t.prototype),"_setInitState",this).call(this),this._isDesktop()||this._setContentHeight(this.isOpen?this.height:this.closedHeight)}},{key:"_subscribe",value:function(){"false"!==this.closed&&se.subscribe("openMobileAccordion",this.close)}},{key:"_onResize",value:function(){this.update()}},{key:"open",value:function(){this._isDesktop()||(se.publish("openMobileAccordion"),te(ne(t.prototype),"open",this).call(this))}},{key:"close",value:function(){this._isDesktop()||te(ne(t.prototype),"close",this).call(this)}},{key:"update",value:function(){if(this._isDesktop())return this.height=this._getHeight(),void this._setContentHeight(null);te(ne(t.prototype),"update",this).call(this)}}],[{key:"init",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll("[data-accordion-mobile]");e.length&&e.forEach(function(e){(new t).init({elem:e})})}}]),t}(re);function ue(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var he=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getTemplateArrows",value:function(){return'<div class="swiper-navigation">\n        <div class="swiper-button swiper-button-prev"></div>\n        <div class="swiper-button swiper-button-next"></div>\n    </div>'}},{key:"getTemplateArrowsAndPagination",value:function(){return'<div class="swiper-navigation">\n              <div class="swiper-navigation__container container">\n              <div class="swiper-navigation__buttons">\n                <div class="swiper-button swiper-button-prev"></div>\n                <div class="swiper-button swiper-button-next"></div>\n              </div>\n        </div>\n    </div>'}},{key:"getTemplatePrev",value:function(){return'\n        <svg class="swiper-button__decore" xmlns="http://www.w3.org/2000/svg" width="68" height="69" viewBox="0 0 68 69" fill="none">\n          <path d="M21.3187 1.17839C19.526 1.5396 17.8388 1.99113 17.54 2.17173C17.2588 2.32224 16.5031 2.62325 15.8704 2.83396C15.2552 3.04467 14.5346 3.37579 14.2886 3.61659C14.0425 3.82731 13.7438 4.00791 13.6383 4.00791C13.1462 4.00791 9.77178 6.47622 8.40092 7.86088C6.06343 10.1486 3.40958 14.6638 2.23204 18.3061C1.75751 19.8111 1.63449 20.2024 1.30056 21.4667C1.10723 22.2192 0.738156 24.236 0.474529 25.9819C0.0351503 28.8716 0 29.6242 0 34.5608C0 39.6178 0.0351503 40.1897 0.527254 43.2902C1.40601 48.7987 2.60112 52.3808 4.86832 56.2338C6.34463 58.7623 7.52216 60.2372 9.1918 61.7122C9.71906 62.1637 10.1936 62.6152 10.2463 62.7356C10.299 62.826 10.6505 63.0969 11.0372 63.3076C11.4238 63.5183 11.8984 63.8494 12.0917 64.0601C12.285 64.2407 12.8826 64.6019 13.4098 64.8126C13.9371 65.0234 14.4643 65.2943 14.5522 65.4147C14.6577 65.5351 15.2025 65.806 15.7825 65.9866C16.3625 66.1973 16.9952 66.4682 17.1885 66.6187C17.3818 66.7692 18.5242 67.1003 19.7369 67.3713C20.9496 67.6121 22.4435 67.9733 23.0762 68.1238C23.7089 68.2743 24.4295 68.4248 24.7107 68.4248H25.1852V60.4479V52.4711H24.4295C23.4101 52.4711 20.7562 51.8691 20.5278 51.568C20.4399 51.4476 20.0005 51.267 19.5611 51.1466C18.2606 50.8155 15.6067 48.3773 14.5346 46.5411C12.8474 43.6213 12.0038 39.5877 12.0038 34.5307C12.0038 29.0221 12.988 24.7477 14.974 21.7075C16.0988 19.9616 18.3485 18.0953 19.7369 17.704C20.1763 17.5836 20.6156 17.3729 20.7211 17.2224C20.8265 17.0719 21.8635 16.801 23.041 16.5903L25.1852 16.2291V8.3124C25.1852 0.967674 25.1676 0.395752 24.8864 0.42585C24.7107 0.455956 23.1113 0.787071 21.3187 1.17839Z"/>\n      </svg>\n      <div class="swiper-button__inner">\n        <svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" class="swiper-button__svg"><path d="M8.121 9.00023L11.8335 12.7127L10.773 13.7732L6 9.00023L10.773 4.22723L11.8335 5.28773L8.121 9.00023Z"></path></svg>\n      </div>'}},{key:"getTemplateNext",value:function(){return'\n        <svg class="swiper-button__decore" xmlns="http://www.w3.org/2000/svg" width="68" height="69" viewBox="0 0 68 69" fill="none">\n        <path d="M21.3187 1.17839C19.526 1.5396 17.8388 1.99113 17.54 2.17173C17.2588 2.32224 16.5031 2.62325 15.8704 2.83396C15.2552 3.04467 14.5346 3.37579 14.2886 3.61659C14.0425 3.82731 13.7438 4.00791 13.6383 4.00791C13.1462 4.00791 9.77178 6.47622 8.40092 7.86088C6.06343 10.1486 3.40958 14.6638 2.23204 18.3061C1.75751 19.8111 1.63449 20.2024 1.30056 21.4667C1.10723 22.2192 0.738156 24.236 0.474529 25.9819C0.0351503 28.8716 0 29.6242 0 34.5608C0 39.6178 0.0351503 40.1897 0.527254 43.2902C1.40601 48.7987 2.60112 52.3808 4.86832 56.2338C6.34463 58.7623 7.52216 60.2372 9.1918 61.7122C9.71906 62.1637 10.1936 62.6152 10.2463 62.7356C10.299 62.826 10.6505 63.0969 11.0372 63.3076C11.4238 63.5183 11.8984 63.8494 12.0917 64.0601C12.285 64.2407 12.8826 64.6019 13.4098 64.8126C13.9371 65.0234 14.4643 65.2943 14.5522 65.4147C14.6577 65.5351 15.2025 65.806 15.7825 65.9866C16.3625 66.1973 16.9952 66.4682 17.1885 66.6187C17.3818 66.7692 18.5242 67.1003 19.7369 67.3713C20.9496 67.6121 22.4435 67.9733 23.0762 68.1238C23.7089 68.2743 24.4295 68.4248 24.7107 68.4248H25.1852V60.4479V52.4711H24.4295C23.4101 52.4711 20.7562 51.8691 20.5278 51.568C20.4399 51.4476 20.0005 51.267 19.5611 51.1466C18.2606 50.8155 15.6067 48.3773 14.5346 46.5411C12.8474 43.6213 12.0038 39.5877 12.0038 34.5307C12.0038 29.0221 12.988 24.7477 14.974 21.7075C16.0988 19.9616 18.3485 18.0953 19.7369 17.704C20.1763 17.5836 20.6156 17.3729 20.7211 17.2224C20.8265 17.0719 21.8635 16.801 23.041 16.5903L25.1852 16.2291V8.3124C25.1852 0.967674 25.1676 0.395752 24.8864 0.42585C24.7107 0.455956 23.1113 0.787071 21.3187 1.17839Z"/>\n    </svg>\n    <div class="swiper-button__inner">\n      <svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" class="swiper-button__svg"><path d="M9.87852 9.00023L6.16602 5.28773L7.22652 4.22723L11.9995 9.00023L7.22652 13.7732L6.16602 12.7127L9.87852 9.00023Z"></path></svg>\n    </div>'}}],(n=null)&&ue(t.prototype,n),i&&ue(t,i),e}(),de=he;function pe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var fe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"setSettingSlidesViews",value:function(e,t){switch(e){case"1":t.slidesPerView="auto",t.spaceBetween=10;break;case"2":t.slidesPerView=1,t.breakpoints={480:{slidesPerView:2,spaceBetween:20}};break;case"3":t.slidesPerView=1,t.breakpoints={480:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:3,spaceBetween:20}};break;case"4":t.slidesPerView=1,t.spaceBetween=10,t.breakpoints={480:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:20}}}}},{key:"getTemplateGalleryButton",value:function(){return'<span class="slider-gallery-button">\n              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n              <path d="M2 9V6.5C2 4.01 4.01 2 6.5 2H9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M15 2H17.5C19.99 2 22 4.01 22 6.5V9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M22 16V17.5C22 19.99 19.99 22 17.5 22H16" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M9 22H6.5C4.01 22 2 19.99 2 17.5V15" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              </svg>\n            </span>'}},{key:"getDirection",value:function(e){return 0===e?"NONE":e>0?"NEXT":"BACK"}},{key:"zeroBeforeNumber",value:function(e){return e<9?"0".concat(e):e}}],(n=null)&&pe(t.prototype,n),i&&pe(t,i),e}(),me=n(889),ve=n(708);function ye(e,t,n){return t=we(t),function(e,t){if(t&&("object"===Ee(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ce()?Reflect.construct(t,n||[],we(e).constructor):t.apply(e,n))}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _e(e,t,n){return t&&be(e.prototype,t),n&&be(e,n),e}function ke(e,t,n){return ke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=we(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n||e):o.value}},ke(e,t,n||e)}function we(e){return we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},we(e)}function Se(e,t){return Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Se(e,t)}function Ee(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function Ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ce=function(){return!!e})()}var Oe=new g,Le=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ge(this,t),(e=ye(this,t,[n])).arrayAllElements=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(t,e),_e(t,[{key:"init",value:function(){var e=this;ke(we(t.prototype),"init",this).call(this),this.slider.params.parallax&&(this.slideElements=Array.from(this.sliderElement.querySelectorAll(".swiper-slide__picture")),this.slideElements.forEach(function(t){t.setAttribute("data-swiper-parallax","".concat(.75*e.sliderElement.offsetWidth))}))}},{key:"_bindEvents",value:function(){ke(we(t.prototype),"_bindEvents",this).call(this),this.slider.on("init",this._onInit.bind(this)),this.slider.on("lazyImageReady",this._lazyImageReady.bind(this))}},{key:"_lazyImageReady",value:function(){var e,t;(null===(t=this.slider.params)||void 0===t||null===(e=t.autoplay)||void 0===e?void 0:e.enabled)&&!this.slider.autoplay.running&&this.slider.autoplay.start()}},{key:"_onInit",value:function(){var e=this;this.arrayAllElements=this.arrayAllElements.concat(this.sliderElement.querySelectorAll("[data-title]")),this.arrayAllElements=this.arrayAllElements.concat(this.sliderElement.querySelectorAll("[data-subtitle]")),this.arrayAllElements=this.arrayAllElements.concat(this.sliderElement.querySelectorAll(".swiper-slide-caption")),this.slider.on("slideNextTransitionStart",this._slideNextTransitionStart.bind(this)),this.slider.on("slidePrevTransitionStart",this._slidePrevTransitionStart.bind(this)),this._hideElements(),Oe.subscribe("slider:enter",function(t){var n,i;t===e.sliderWrapper&&(e._animate("next",!0),(null===(i=e.slider.params)||void 0===i||null===(n=i.autoplay)||void 0===n?void 0:n.enabled)&&e.slider.autoplay.start())})}},{key:"_slideNextTransitionStart",value:function(){this._animate("next")}},{key:"_slidePrevTransitionStart",value:function(){this._animate("prev")}},{key:"_hideElements",value:function(){this.arrayAllElements.forEach(function(e){j.os.to(e,{duration:"0.3",x:0,opacity:0})})}},{key:"_animate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",t=this.sliderElement.querySelector(".swiper-slide-active"),n=t.querySelector("[data-title]"),i=t.querySelector("[data-subtitle]"),o=t.querySelector(".swiper-slide-caption");this._hideElements(),j.os.fromTo(n,{x:"next"===e?10:-10},{ease:"power2.out",delay:"0.6",duration:"0.7",x:0,opacity:1}),j.os.fromTo(i,{x:"next"===e?10:-10},{ease:"power2.out",delay:"0.7",duration:"0.5",x:0,opacity:1}),j.os.to(o,{ease:"power2.in",delay:"0.9",duration:"0.7",opacity:1})}}]),t}(function(){function e(t){var n;ge(this,e),this.sliderWrapper=t.item,this.sliderElement=this.sliderWrapper.querySelector(".swiper"),this.slider=null,this.sliderNum=null,this.interleaveOffset=.5,this.settingsCommon={},this.settingsOption=(null==t?void 0:t.settings)||{},this.settingsCustom=(null==t?void 0:t.custom)||{},this.settingsData=this.sliderWrapper.dataset.swiper||(null===(n=this.sliderElement)||void 0===n?void 0:n.dataset.swiper)||{},this.btnPrev=null,this.btnNext=null,this.slides=Array.from(this.sliderElement.querySelectorAll(".swiper-slide"))}return _e(e,[{key:"_setSettingsDefault",value:function(){return{modules:[ve.Vx,ve.dK,ve.Ij,ve._R,ve.FJ,ve.GP,ve.s3,ve.kQ],init:!1,watchSlidesProgress:!0,simulateTouch:this.slides.length>1,speed:700,lazy:{loadPrevNext:!0,loadPrevNextAmount:2},fadeEffect:{crossFade:!0},loop:!0,loopedSlides:2,navigation:{nextEl:this.btnNext,prevEl:this.btnPrev,disabledClass:"is-disabled"},custom:{animation:!1},on:{resize:function(){this.update()}},pagination:{el:this.sliderWrapper.querySelector(".swiper-pagination"),clickable:!0,type:"bullets"}}}},{key:"init",value:function(){var e,t,n,i=null;s.isEmptyObject(this.settingsData)||(i=JSON.parse(this.settingsData));var o=!0;if(!1===(null===(e=this.settingsOption)||void 0===e?void 0:e.navigation)&&(o=!1),this.slides.length>1&&o&&this._addTemplateArrowsAndIcons(),(null===(t=this.settingsOption)||void 0===t?void 0:t.custom)&&(this.settingsCustom=null===(n=this.settingsOption)||void 0===n?void 0:n.custom),(null==i?void 0:i.custom)&&this._connectSettingsCustom(null==i?void 0:i.custom),this.settingsCustom.paginationOut){var a=this.sliderWrapper.closest(".slider-wrapper");this.settingsCommon.pagination.el=a.querySelector(".swiper-pagination")}this.settingsCustom.gallery&&(s.insetContent(this.sliderWrapper,fe.getTemplateGalleryButton()),this.sliderWrapper.querySelector(".slider-gallery-button").addEventListener("click",function(e){console.log("⟶ click",e)}));this.slideOnWindow=String(this.sliderWrapper.dataset.slide)||"1",fe.setSettingSlidesViews(this.slideOnWindow,this.settingsCommon),this._connectSettings(this._setSettingsDefault()),this._connectSettings(this.settingsOption),i&&this._connectSettings(i),"scrolling"===this.settingsCommon.effect&&this.sliderElement.classList.add("slider-scrolling"),this.slider=new me.A(this.sliderElement,this.settingsCommon),this._bindEvents(),this.slider.init(),this.sliderNum=this.sliderWrapper.querySelector(".slider-counter__current")}},{key:"_addTemplateArrowsAndIcons",value:function(){s.insetContent(this.sliderWrapper,this.settingsCustom.paginationOut?de.getTemplateArrows():de.getTemplateArrowsAndPagination()),this.btnPrev=this.sliderWrapper.querySelector(".swiper-button-prev"),this.btnNext=this.sliderWrapper.querySelector(".swiper-button-next"),s.insetContent(this.btnNext,de.getTemplateNext()),s.insetContent(this.btnPrev,de.getTemplatePrev())}},{key:"_bindEvents",value:function(){this.slider.on("slideChange",this._onChange.bind(this))}},{key:"_onChange",value:function(){this._setSlideNumber()}},{key:"_setSlideNumber",value:function(){if(this.sliderNum){var e=Number(this.slider.slides[this.slider.activeIndex].dataset.swiperSlideIndex)+1;this.sliderNum.innerHTML="".concat(fe.zeroBeforeNumber(e))}}},{key:"sliderDisable",value:function(){this.slider.disable()}},{key:"slideTo",value:function(e,t,n){this.slider.slideTo(e,t,n)}},{key:"_connectSettings",value:function(e){"object"===(void 0===e?"undefined":Ee(e))&&Object.assign(this.settingsCommon,e)}},{key:"_connectSettingsCustom",value:function(e){"object"===(void 0===e?"undefined":Ee(e))&&Object.assign(this.settingsCustom,e)}}]),e}()),Pe=(n(732),n(692));function xe(e,t,n){return t=Me(t),Be(e,Re()?Reflect.construct(t,n||[],Me(e).constructor):t.apply(e,n))}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ae(e,t,n){return t&&je(e.prototype,t),n&&je(e,n),e}function Ie(e,t,n){return Ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Me(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n||e):o.value}},Ie(e,t,n||e)}function Me(e){return Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Me(e)}function De(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}function Be(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e,t){return qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qe(e,t)}function Ne(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function Re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Re=function(){return!!e})()}var $e=new g,He=function(){function e(t){Te(this,e),this.settingsCommon={},this.settingsData=(null==t?void 0:t.settings)||!1}return Ae(e,[{key:"init",value:function(){this._setSettingsDefault(),this._connectSettings(this._setSettingsDefault()),this._connectSettings(this.settingsData)}},{key:"_setSettingsDefault",value:function(){return{type:"inline",fixedContentPos:!1,fixedBgPos:!1,overflowY:"auto",removalDelay:700,closeBtnInside:!1,closeOnBgClick:!0,mainClass:"popup-theme-inline-white",closeMarkup:'<button title="%title%" type="button" class="mfp-close popup-close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" class="mfp-close__svg"><path d="M.393 2.331C-.131 1.807-.131.935.393.393a1.392 1.392 0 0 1 1.94 0l11.636 11.652L25.625.393a1.366 1.366 0 0 1 1.919 0 1.356 1.356 0 0 1 0 1.938L15.908 13.966l11.636 11.652a1.358 1.358 0 0 1 0 1.939 1.368 1.368 0 0 1-1.919 0L13.969 15.904 2.333 27.557a1.394 1.394 0 0 1-1.94 0c-.524-.542-.524-1.416 0-1.939L12.03 13.966.393 2.331z"/></svg></button>',midClick:!0,callbacks:{open:function(){console.log("Hello 🐯");var e=this.contentContainer[0];e&&(window.Site.Modules.PageScrolling.lock&&window.Site.Modules.PageScrolling.lock(!0),e.querySelector(".popup-content")&&s.bodyFixed(e.querySelector(".popup-content")))},close:function(){window.Site.Modules.PageScrolling.unlock&&window.Site.Modules.PageScrolling.unlock(),s.bodyStatic()}},tClose:"",tLoading:"",tNotFound:"Контент не найден",ajax:{tError:"Ошибка запроса"}}}},{key:"_initPopup",value:function(){Pe(this.link).magnificPopup(this.settingsCommon)}},{key:"isOpenPopup",value:function(){return!!document.querySelector(".mfp-ready")}},{key:"_connectSettings",value:function(e){"object"===(void 0===e?"undefined":Ne(e))&&Object.assign(this.settingsCommon,e)}}]),e}(),Fe=function(e){function t(e){var n,i;return Te(this,t),n=xe(this,t,[e]),e?(n.link=null==e?void 0:e.item,n.view=(null===(i=n.link.dataset)||void 0===i?void 0:i.popup)||!1,n.isAjax=n.link.hasAttribute("data-popup-ajax"),n.tabHash=n.link.href.split("#")[1],n.showPopup=n.showPopup.bind(n),n.hidePopup=n.hidePopup.bind(n),n):Be(n)}return De(t,e),Ae(t,[{key:"init",value:function(){Ie(Me(t.prototype),"init",this).call(this),this._viewPopup(),this._initPopup()}},{key:"showPopup",value:function(e,n){Ie(Me(t.prototype),"init",this).call(this);var i=0,o=this;this.view=n||"inline",this._connectSettings(e),this.isOpenPopup()&&(this.hidePopup(),i=800),setTimeout(function(){o._viewPopup(),Pe.magnificPopup.open(o.settingsCommon)},i)}},{key:"openPopup",value:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Ie(Me(t.prototype),"init",this).call(this);var s=0,r=this;this._isPopupContent(e)&&(this.isOpenPopup()&&(this.hidePopup(),s=800),setTimeout(function(){n.view="inline",n.openededPopup=!1,n._connectSettings({items:{src:e},mainClass:a||"popup-theme-inline-white",closeBtnInside:!!a,closeOnBgClick:!0}),n._viewPopup(),setTimeout(function(){n.isOpenPopup()?$e.subscribe("popupClosed",function(){r.openededPopup||(setTimeout(function(){Pe.magnificPopup.open(r.settingsCommon),r.openededPopup=!0},1e3),i&&r.hidePopup(i))}):(Pe.magnificPopup.open(n.settingsCommon),i&&n.hidePopup(i))},o)},s))}},{key:"hidePopup",value:function(){setTimeout(function(){Pe.magnificPopup.close()},arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}},{key:"_isPopupContent",value:function(e){return!!document.querySelector(e)||(console.warn("[PopupStatic]: ","Упс... Не найден попан - ".concat(e)),!1)}},{key:"_viewPopup",value:function(){switch(this.view){case"gallery":this._viewGallery();break;case"full":this._viewFull();break;default:this._viewStatic()}}},{key:"_viewFull",value:function(){this._connectSettings({mainClass:"popup-theme-inline-white full-popup"})}},{key:"_viewGallery",value:function(){this._connectSettings({mainClass:"popup-theme-gallery",callbacks:{open:function(){var e=this.contentContainer.find(".popup-gallery")[0];$e.publish("openGalleryPopup",e),s.bodyFixed(e.querySelector(".popup-content")),window.Site.Modules.PageScrolling.lock&&window.Site.Modules.PageScrolling.lock(!0)},close:function(){$e.publish("closeGalleryPopup",this),s.bodyStatic(),window.Site.Modules.PageScrolling.unlock&&window.Site.Modules.PageScrolling.unlock()}}})}},{key:"_viewStatic",value:function(){var e=this;if(this.isAjax)this._connectSettings({type:"ajax",mainClass:"popup-theme-inline-white",closeBtnInside:!1,callbacks:{ajaxContentAdded:function(){var e=this.contentContainer.find(".popup")[0];if(e){s.bodyFixed(this.contentContainer[0]),window.Site.Modules.PageScrolling.lock&&window.Site.Modules.PageScrolling.lock(!0);var t=e.querySelectorAll("[data-slider]");t.length&&t.forEach(function(e){new Le({item:e,settings:{speed:800,loop:!0,effect:"linear",spaceBetween:4}}).init()});var n=e.querySelectorAll("[data-popup-open]");n.length&&n.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.getAttribute("href");n&&window.Site.Modules.Popup.showPopup({items:{src:n}},"inline-white")})})}},close:function(){s.bodyStatic(),window.Site.Modules.PageScrolling.unlock&&window.Site.Modules.PageScrolling.unlock()}}});else{var n=null;this._connectSettings({callbacks:{open:function(){var i=this.contentContainer.find(".popup")[0]||this.contentContainer.find(".popup-double__popup")[0];if(i){s.bodyFixed(this.contentContainer[0]),window.Site.Modules.PageScrolling.lock&&window.Site.Modules.PageScrolling.lock(!0);var o=null==i?void 0:i.classList.contains("popup-message"),a=null==i?void 0:i.querySelector("[data-popup-dismiss]");o&&(n=setTimeout(function(){e.hidePopup()},1e4)),a&&a.addEventListener("click",function(){e.hidePopup()}),e.settingsCommon.closeOnBgClick&&e._fixCloseOnBgClick();var r=this.contentContainer.find(".popup-double__popup")[0];if(r)r.querySelectorAll(".btn").forEach(function(n){n.hasAttribute("data-popup-2")?n.addEventListener("click",function(e){var n=e.target.href,i="";(n.indexOf("#")>-1&&(i=n.split("#")[1]),""!==i)&&(new t).openPopup("#".concat(i),0,600,"popup-theme-inline-white")}):n.addEventListener("click",function(t){t.preventDefault(),e.hidePopup(),setTimeout(function(){var e=t.target.href;e&&window.open(e)},700)})})}},beforeClose:function(){n&&clearTimeout(n),$e.publish("popupBeforeClosed",this)},close:function(){$e.publish("popupClosed"),s.bodyStatic(),window.Site.Modules.PageScrolling.unlock&&window.Site.Modules.PageScrolling.unlock()}}})}}},{key:"_fixCloseOnBgClick",value:function(){var e=this;document.querySelector(".mfp-content").addEventListener("click",function(t){t.target.closest(".popup")||e.hidePopup()})}}],[{key:"init",value:function(){window.Site.Modules.Popup=new t,window.Site.Modules.Popup.update=function(){var e=document.querySelectorAll("[data-popup]");0!==e.length&&e.forEach(function(e){e.classList.contains("_inited")||(new t({item:e}).init(),e.classList.add("_inited"))})},window.Site.Modules.Popup.update()}}]),t}(He),ze=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Te(this,t),xe(this,t,[e])}return De(t,e),Ae(t,[{key:"init",value:function(){this.popupHashName=this._getPopupHashName(),this.popupHashName&&this._displayPopup()}},{key:"_displayPopup",value:function(){var e=this;this._checkPopup(this.popupHashName)&&$e.subscribe("preloader:end",function(){setTimeout(function(){window.Site.Modules.Popup.showPopup({items:{src:"#".concat(e.popupHashName)},type:"inline"},"inline")},600)})}},{key:"_getPopupHashName",value:function(){var e=window.location.hash.replace(RegExp("^#","u"),"");if(e.includes("popup"))return e}},{key:"_checkPopup",value:function(e){return!!document.querySelector("#".concat(e))||(console.warn("[PopupOpenByHash]: ","Упс... Не найден попан - ".concat(e)),!1)}}],[{key:"init",value:function(){(new t).init()}}]),t}(He),We=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Te(this,t),(e=xe(this,t,[n])).cookies=X.A,e.popup=n.item,e.popupDelay=e.popup.dataset.popupOpen||600,e.popupId=e.popup.getAttribute("id"),e}return De(t,e),Ae(t,[{key:"init",value:function(){var e=this;this.popup&&(this._getCookie(this.popupId)||((new Fe).openPopup("#".concat(this.popupId),0,this.popupDelay,"popup-theme-inline"),$e.subscribe("popupBeforeClosed",function(t){t.items[0].src==="#".concat(e.popupId)&&e._setCookie(e.popupId,"yes")})))}},{key:"_setCookie",value:function(e,t){this.cookies.set(e,t,{expires:1/48})}},{key:"_getCookie",value:function(e){return this.cookies.get(e)}}],[{key:"init",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelector("[data-popup-open]");e&&new t({item:e}).init()}}]),t}(He);function Ge(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ve=function(){return null},Xe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wrapper=t.elem,this.hash=t.hash||this.wrapper.hasAttribute("data-tab-hash")||!1,this.tabsParent=this.wrapper.querySelector(t.tabsParent||"[data-tab-buttons]")||null,this.tabItem=t.tabItem||"[data-tab-opener]",this.tabs=Array.from(this.tabsParent.querySelectorAll(this.tabItem)),this.isType=t.type||this.wrapper.dataset.type,this.contentItem="true"!==this.isType?t.contentItem||"[data-tab]":"[data-tab-type]",this.contentsParent=this.wrapper.querySelector(t.contentsParent||"[data-tab-contents]")||null,this.contents=!!this.contentsParent&&s.siblings(this.contentsParent.querySelector(this.contentItem)),this.dataTab={},this.onChangeCallback=t.onChangeCallback||Ve,this.activeClass="is-active"}var t,n,i;return t=e,i=[{key:"init",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll("[data-tabs]");t.length&&t.forEach(function(t){new e({elem:t}).init()})}}],(n=[{key:"init",value:function(){this._setInitialState(),this._bindEvents()}},{key:"_setInitialState",value:function(){var e=this.tabsParent.querySelector(".".concat(this.activeClass))||this.tabs[0];if(this.hash){var t=this._getHash();e=t&&this.wrapper.querySelector('[data-tab-opener="'.concat(t,'"]'))||e}this.isType&&(this.contents=!!this.contentsParent&&Array.from(this.contentsParent.querySelectorAll(".col"))),this.toggleTab(e)}},{key:"_getHash",value:function(){return window.location.hash.replace(RegExp("^#","u"),"")}},{key:"_bindEvents",value:function(){this.wrapper.addEventListener("click",this._onTabs.bind(this))}},{key:"_onTabs",value:function(e){var t=e.target;t.closest(this.tabItem)&&(e.preventDefault(),e.stopPropagation()),t&&t.closest(this.tabItem)&&this.toggleTab(t.closest(this.tabItem))}},{key:"toggleTab",value:function(e){this._setData(e),this._changeState(),this.onChangeCallback(this.dataTab),this.isType&&this._toggleTabType()}},{key:"_setData",value:function(e){this.dataTab={tab:e,id:e.dataset.tabOpener}}},{key:"_changeState",value:function(){var e=this,t=this.dataTab.id;this.tabs.forEach(function(n){n.classList.toggle(e.activeClass,n.dataset.tabOpener===t)}),this.contentsParent&&this.contents.forEach(function(n){n.classList.toggle(e.activeClass,n.dataset.tab===t)})}},{key:"_toggleTabType",value:function(){var e=this.dataTab.id;this.contents.forEach(function(t){t.dataset.tab===e||"all"===e?setTimeout(function(){t.style.display="block",t.style.opacity=1},200):(t.style.opacity=0,setTimeout(function(){t.style.display="none"},200))})}}])&&Ge(t.prototype,n),i&&Ge(t,i),e}();function Ze(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ue=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.textContent=t,this.textContent&&(this.iframes=this.textContent.querySelectorAll(":scope > iframe"),this.images=this.textContent.querySelectorAll(":scope > img"))}var t,n,i;return t=e,i=[{key:"init",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll(".text-content");t.length&&t.forEach(function(t){new e(t)._init()})}}],(n=[{key:"_init",value:function(){var e=this;this.iframes.forEach(function(t){e.iframeContent(t)}),this.images.forEach(function(t){e.imageContent(t)})}},{key:"iframeContent",value:function(e){s.wrapContent(e,"div","ui-iframe")}},{key:"imageContent",value:function(e){var t=e.getAttribute("alt");if(""!==t&&!e.classList.length){s.wrapContent(e,"figure");var n=e.parentNode;s.insetContent(n,"<figcaption>"+t+"</figcaption>")}}}])&&Ze(t.prototype,n),i&&Ze(t,i),e}();function Ye(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Qe=new g,Ke=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"init",value:function(){(new e).init()}}],(n=[{key:"init",value:function(){var e=document.querySelectorAll("[data-slider]");e.length&&e.forEach(function(e){new Le({item:e,settings:{loop:!0}}).init()});var t=document.querySelectorAll(".layouts-examles__slider");t.length&&t.forEach(function(e){new Le({item:e,settings:{loop:!1,speed:700,spaceBetween:12,width:340,breakpoints:{768:{width:560,spaceBetween:32},1023:{width:840},1400:{width:1140}}}}).init()});var n=document.querySelectorAll(".atmosphere-top__slider");n.length&&n.forEach(function(e){var t=new Le({item:e,settings:{navigation:!1,slidesPerView:3,slidesPerGroup:1,spaceBetween:24,loop:!1,centeredSlides:!0,breakpoints:{768:{slidesPerView:3,slidesPerGroup:1},1024:{slidesPerView:5,slidesPerGroup:1,centeredSlides:!1}}}});t.init(),s.isMobile()&&t.slider.slideTo(1,0)});var i=document.querySelectorAll(".progress-slider");i.length&&(i.forEach(function(e){new Le({item:e,settings:{slidesPerView:1,slidesPerGroup:1,spaceBetween:24,speed:750,preloadImages:!1,lazy:!0,loop:!1,breakpoints:{768:{slidesPerView:3,spaceBetween:32},1024:{slidesPerView:4}}}}).init()}),Qe.publish("initProgressSlider"));var o=document.querySelectorAll(".main-slider");o.length&&(o.forEach(function(e){new Le({item:e,settings:{loop:!0,speed:1e3,watchSlidesProgress:!0,slidesPerGroup:1,slidesPerView:1,effect:"fade",dots:!0,autoplay:{delay:6e3,enabled:!1,disableOnInteraction:!1}}}).init()}),Qe.subscribe("preloader:end",function(){setTimeout(function(){document.querySelector(".main-slider .swiper-slide-active").classList.remove("is-hidden")},300)}));var a=document.querySelector(".main-slider .main-slider__items");a&&!s.isDesktop()&&new Le({item:a,settings:{loop:!0,centeredSlides:!0,slidesPerView:"auto",spaceBetween:50,autoplay:{delay:4e3,enabled:!0,disableOnInteraction:!1},breakpoints:{768:{slidesPerView:3,slidesPerGroup:1,spaceBetween:32}}}}).init();var r=document.querySelectorAll(".design-projects__slider");r.length&&r.forEach(function(e){new Le({item:e,settings:{loop:!1,speed:700,allowTouchMove:!1}}).init()})}}])&&Ye(t.prototype,n),i&&Ye(t,i),e}(),Je=function(e,t){var n="";return e.forEach(function(t){n+=function(t){var n="";return t.caption&&(n='<div class="slide-caption"><span class="slide-caption__name">'.concat(t.caption,'</span> <span class="slide-caption__count">').concat(t.count," / ").concat(e.length,"</span></div>")),'\n      <div class="swiper-slide">\n        <div class="slide-inner">\n          <div class="swiper-zoom-container">\n            <img class="slide-image" loading="lazy" src="'.concat(t.src,'" alt="#" style="width:').concat(t.width,';"/>\n            ').concat(n,'<div class="swiper-lazy-preloader"></div>\n          </div>\n        </div>\n      </div>')}(t)}),'<div class="popup-gallery mfp-hide" id="'.concat(t,'">\n  <div class="popup-content">\n    <div class="slider-gallery-wrapper is-hide">\n      <div class="slider-gallery">\n        <div class="swiper">\n          <div class="swiper-wrapper">\n            ').concat(n,"\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>")};function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function tt(e,t,n){return t=st(t),function(e,t){if(t&&("object"==(n=t,n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)||"function"==typeof t))return t;var n;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ut()?Reflect.construct(t,n||[],st(e).constructor):t.apply(e,n))}function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ot(e,t,n){return t&&it(e.prototype,t),n&&it(e,n),e}function at(e,t,n){return at="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=st(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n||e):o.value}},at(e,t,n||e)}function st(e){return st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},st(e)}function rt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}function lt(e,t){return lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lt(e,t)}function ct(e){return function(e){if(Array.isArray(e))return et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ut=function(){return!!e})()}var ht=new g,dt=function(){function e(t){nt(this,e),this.wrapper=t.item,this.selector=t.selector||"[data-gallery-item]",this.template=t.template,this.id=t.galleryId||"gallery-base",this.data=t.data||[],this.needRemovePopup=t.remove||!0}return ot(e,[{key:"init",value:function(){this._subscribe(),this._setData(),this._bindEvents()}},{key:"_subscribe",value:function(){ht.subscribe("closeGalleryPopup",this._remove)}},{key:"_setData",value:function(){var e=this;this.data=ct(this.wrapper.querySelectorAll(this.selector)).map(function(t){var n,i,o,a,s,r,l,c,u,h;return{image:t,id:t.dataset.popupId||e.id,src:(null===(n=t.dataset)||void 0===n?void 0:n.src)||t.src,caption:(null===(i=t.dataset)||void 0===i?void 0:i.title)||!1,width:(null===(a=t.dataset)||void 0===a||null===(o=a.size)||void 0===o?void 0:o.split(",")[0])?(null===(r=t.dataset)||void 0===r||null===(s=r.size)||void 0===s?void 0:s.split(",")[0])+"px":"100%",height:(null===(c=t.dataset)||void 0===c||null===(l=c.size)||void 0===l?void 0:l.split(",")[1])?(null===(h=t.dataset)||void 0===h||null===(u=h.size)||void 0===u?void 0:u.split(",")[1])+"px":"100vh"}})}},{key:"_bindEvents",value:function(){var e=this;this.data.forEach(function(t){t.image.addEventListener("click",e._makeOpen.bind(e))})}},{key:"_makeOpen",value:function(e){var t=this;e.preventDefault();var n=e.target,i=this.data.length?this.data[0].id:this.id;this.openPopup=document.querySelector("#".concat(i)),this.openPopup?this._show(i):(this._create(i),this._show(i),setTimeout(function(){t._setElements(),t._initSlider(),t._toSlide(t._setIndex(n))},100)),ht.publish("openGalleryPopup")}},{key:"_create",value:function(e){this.template&&document.body.insertAdjacentHTML("beforeend",this.template(this.data,e))}},{key:"_show",value:function(e){window.Site.Modules.Popup.showPopup({items:{src:"#".concat(e)},type:"inline"},"gallery")}},{key:"_setElements",value:function(){var e=document.querySelector(".mfp-content");this.gallerySlider=e.querySelector(".slider-gallery"),this.gallerySliderWrap=e.querySelector(".slider-gallery-wrapper")}},{key:"_initSlider",value:function(){var e=this.data.length;this.sliderBase=new Le({item:this.gallerySlider,settings:{effect:"linear",mousewheel:!0,speed:500,zoom:!1,loop:e>1,keyboard:!0}}),this.sliderBase.init()}},{key:"_toSlide",value:function(e){var t;this._preloaderShow();var n=this.gallerySlider.querySelector(".swiper").swiper;(null===(t=this.sliderBase)||void 0===t?void 0:t.settingsCommon.loop)&&0===e&&(e=0),n.slideTo(e,0,!1),this._preloaderHide()}},{key:"_preloaderShow",value:function(){this.gallerySliderWrap.classList.remove("is-show")}},{key:"_preloaderHide",value:function(){var e=this;setTimeout(function(){e.gallerySliderWrap.classList.add("is-show")},300)}},{key:"_remove",value:function(e){if(this.needRemovePopup){var t=e.items[0].data.src,n=document.querySelector(t);n&&s.removeElement(n)}}},{key:"_setIndex",value:function(e){var t=0;return this.data.forEach(function(n,i){n.image===e&&(t=i)}),t}}]),e}(),pt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nt(this,t),tt(this,t,[e])}return rt(t,e),ot(t,[{key:"init",value:function(){at(st(t.prototype),"init",this).call(this)}}],[{key:"init",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll("[data-gallery-base]");e.length&&e.forEach(function(e){new t({item:e,selector:"[data-gallery-item]",template:Je}).init()})}}]),t}(dt),ft=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nt(this,t),tt(this,t,[e])}return rt(t,e),ot(t,[{key:"init",value:function(){this._subscribe(),this._bindEvents()}},{key:"_subscribe",value:function(){at(st(t.prototype),"_subscribe",this).call(this)}},{key:"_bindEvents",value:function(){this.wrapper.addEventListener("click",this._makeOpen.bind(this))}}],[{key:"init",value:function(){ht.subscribe("initProgressSlider",function(){var e=document.querySelectorAll("[data-gallery-progress]");e.length&&e.forEach(function(e){var n=e.dataset.json;new t({item:e,template:Je,data:JSON.parse(n)}).init()})})}}]),t}(dt),mt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nt(this,t),tt(this,t,[e])}return rt(t,e),ot(t,[{key:"init",value:function(){this._subscribe(),this._bindEvents()}},{key:"_subscribe",value:function(){at(st(t.prototype),"_subscribe",this).call(this)}},{key:"_bindEvents",value:function(){this.wrapper.addEventListener("click",this._makeOpen.bind(this))}},{key:"_makeOpen",value:function(e){var t=this;e.preventDefault();var n=e.target,i=this.data.length?this.data[0].id:this.id,o=n.dataset.slideId;this.openPopup=document.querySelector("#".concat(i)),this.openPopup&&(this._show(i),setTimeout(function(){t._setElements(),t._initSlider(),t._toSlide(o)},100))}},{key:"_setElements",value:function(){var e=document.querySelector(".mfp-content");this.gallerySlider=e.querySelector(".atmosphere-popup__main-slider"),this.gallerySliderWrap=e.querySelector(".atmosphere-popup__main-slider-wrapper")}},{key:"_initSlider",value:function(){var e=this,t=document.querySelector(".atmosphere-popup__main-slider"),n=t.querySelector(".swiper");if(!n.classList.contains("swiper-initialized")){this.sliderBase=new Le({item:t,settings:{slidesPerView:1,slidesPerGroup:1,spaceBetween:24,speed:750,preloadImages:!1,lazy:!0,loop:!1,centeredSlides:!0,breakpoints:{600:{slidesPerView:1,spaceBetween:48},1024:{slidesPerView:3,spaceBetween:48},1680:{slidesPerView:3,spaceBetween:120}},pagination:{el:".swiper-pagination-white",clickable:!0,type:"bullets"}}}),this.sliderBase.init();var i=n.swiper;i.on("transitionEnd",function(e){a(e),o(e)}),i.on("click",function(e){s(e)});var o=function(e){var t=e.el.querySelector(".atmosphere-popup__main-slide.swiper-slide-active .swiper");t.classList.contains("_stoped")||t.swiper.autoplay.start()},a=function(e){e.el.querySelectorAll(".atmosphere-popup__main-slide:not(.swiper-slide-active").forEach(function(e){var t=e.querySelector(".swiper");if(!t.classList.contains("_stoped")){var n=t.swiper;n.autoplay.stop(),n.slideTo(0,0,!1)}})},s=function(e){e.el.querySelector(".atmosphere-popup__main-slide.swiper-slide-active .swiper").classList.add("_stoped")};document.querySelectorAll(".atmosphere-popup__inner-slider").forEach(function(t){e.sliderInner=new Le({item:t,settings:{slidesPerView:1,slidesPerGroup:1,speed:750,preloadImages:!1,lazy:!0,loop:!1,autoplay:{delay:5500,enabled:!1,disableOnInteraction:!0}}}),e.sliderInner.init()})}}}],[{key:"init",value:function(){var e=document.querySelectorAll("[data-gallery-atmosphere]");e.length&&e.forEach(function(e){new t({item:e,template:!1,galleryId:e.dataset.galleryId}).init()})}}]),t}(dt);function vt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var yt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"ru",value:function(){return{errorLoading:function(){return"Результат не может быть загружен."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Пожалуйста, удалите "+t+" символ";return t>=2&&t<=4?n+="а":t>=5&&(n+="ов"),n},inputTooShort:function(e){return"Пожалуйста, введите "+(e.minimum-e.input.length)+" или более символов"},loadingMore:function(){return"Загружаем ещё ресурсы…"},maximumSelected:function(e){var t="Вы можете выбрать "+e.maximum+" элемент";return e.maximum>=2&&e.maximum<=4?t+="а":e.maximum>=5&&(t+="ов"),t},noResults:function(){return"Ничего не найдено"},searching:function(){return"Поиск…"},removeAllItems:function(){return"Удалить все елементы"}}}}],(n=null)&&vt(t.prototype,n),i&&vt(t,i),e}(),gt=(n(458),n(692));function bt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _t=new g,kt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=gt(t.element),this.element=t.element,this.isSingle=this.$element.hasClass("j-select-single"),this.isMultiple=this.$element.hasClass("j-select-multiple"),this.right=this.$element.hasClass("select-right"),this.data=this.$element.data("json")}var t,n,i;return t=e,n=[{key:"init",value:function(){this.options={minimumResultsForSearch:1/0,dropdownCssClass:":all:",templateResult:this._formatState,cashe:!0,width:"100%",multiple:this.isMultiple,closeOnSelect:!this.isMultiple,allowClear:!1,dropdownAutoWidth:!0,dropdownParent:this.$element.parent(),language:yt.ru(),data:this.data?this.data:null,escapeMarkup:function(e){return e}},this.$element.select2(this.options),this._bindEvents(),this.getNumberSelection(),this.setPlaceholder()}},{key:"_bindEvents",value:function(){this.$element.on("select2:open",this._onOpen.bind(this)),this.$element.on("select2:selecting",this._onSelecting.bind(this)),this.$element.on("select2:select",this._onSelect.bind(this)),this.$element.on("select2:unselect",this._onUnSelect.bind(this)),this.$element.on("select2:close",this._onClose.bind(this))}},{key:"_formatState",value:function(e){if(!e.id)return e.text;var t=e.status?'<span class="select2-item-state">'.concat(e.status,"</span>"):"";return gt('<div class="select2-item">\n            <span class="select2-item-text"> '.concat(e.text," </span>\n            ").concat(t,"\n            </div>"))}},{key:"_onOpen",value:function(){_t.publish("selectOpen",this)}},{key:"_onSelecting",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$element.find('option[value="all"]').prop("selected",t)}},{key:"_onSelect",value:function(e){this.getNumberSelection(),this.checkOptions();var t=e.params.data;this.checkOptions(t);var n="";void 0!==t.$element&&(n=t.$element.dataset.link),void 0!==n&&""!==n&&(document.location.href=n)}},{key:"_onUnSelect",value:function(){this.checkOptions(),this.getNumberSelection()}},{key:"_onClose",value:function(){this.getNumberSelection(),_t.publish("selectClose",this)}},{key:"getNumberSelection",value:function(){var e=this.$element.select2("data").length;0===e&&this.setPlaceholder(),e<3||this.$element.next("span.select2").find("ul").html('<li class="select2-selection__choice__display">Выбрано: '.concat(e,"</li>"))}},{key:"setPlaceholder",value:function(){var e=this.$element.data("placeholder"),t=this.isMultiple?this.$element.next("span.select2").find("ul"):this.$element.next("span.select2").find(".select2-selection__rendered"),n=this.$element.find("option:selected"),i=this.$element.find('option[value="all"]:selected');1!==i.length&&""!==e&&e&&t.html("".concat(e)),i.length||n.length||(this._onSelecting(this,!0),t.html("<li>".concat(e,"</li>")))}},{key:"checkOptions",value:function(e){var t=this.element.querySelectorAll("option"),n=[];if(e&&"all"===e.element.getAttribute("value"))return this.getValue("all"),void this.$element.select2("close");t.forEach(function(e){e.selected&&("all"===e.getAttribute("value")&&(e.selected=!1),n.push(e))}),0===n.length&&(this.getValue("all"),this.$element.select2("close"))}},{key:"destroy",value:function(){this.$element.select2("destroy")}},{key:"disable",value:function(){this.$element.prop("disabled",!0)}},{key:"clearingfilter",value:function(){this.$element.val(null).trigger("change")}},{key:"getValue",value:function(e){this.$element.val(e).trigger("change")}},{key:"checkInit",value:function(){return this.$element.hasClass("select2-hidden-accessible")}}],i=[{key:"init",value:function(){var t=document.querySelectorAll(".j-select");t.length&&t.forEach(function(t){new e({element:t}).init()})}}],n&&bt(t.prototype,n),i&&bt(t,i),e}(),wt=(n(822),n(692));function St(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Et=new g,Ct=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rangeSlider={}}var t,n,i;return t=e,n=[{key:"initRange",value:function(e){this.$wrapper=wt(e.element),this.outerOptions=e.outerOptions||this.$wrapper.find(".j-form-range-base").data(),this._setOptions(),this._initRangeSlider(),this._getElements(),this._bindEvents(),this._subscribes(),this._initDigit()}},{key:"_setOptions",value:function(){var e=this;this.options={skin:"round",type:this.outerOptions.type,min:this.outerOptions.min,max:this.outerOptions.max,from:this.outerOptions.from,to:this.outerOptions.to,step:this.outerOptions.step,min_interval:this.outerOptions.step,digit:this.outerOptions.digit||!1,disable:this.outerOptions.disable||!1,validate:this.outerOptions.validate,hide_from_to:!0,hide_min_max:!0,prettify_enabled:!0,onStart:function(t){Et.publish("rangesliderStart",t,e)},onChange:function(t){e._updateInputs(t),Et.publish("rangesliderChange",t)},onFinish:function(e){Et.publish("rangesliderFinish",e)}},this.startOptions=this.options,this.isNumberShort="number_short"===this.options.validate}},{key:"_initRangeSlider",value:function(){this.$rangeSlider=this.$wrapper.find(".j-form-range-base"),this.$rangeSlider.ionRangeSlider(this.options)}},{key:"_getElements",value:function(){this.$inputs=this.$wrapper.find(".form-range__input"),this.$inputFrom=this.$inputs.first(),this.$inputTo="double"===this.options.type?this.$inputs.last():null,this.slider=this.$rangeSlider.data("ionRangeSlider"),this.id=this.slider.input.id,this.rangeSlider[this.id]=this.slider,this.$inputOutMin=this.$wrapper.find(".j-form-range-output-min"),this.$inputOutMax=this.$wrapper.find(".j-form-range-output-max")}},{key:"_subscribes",value:function(){Et.subscribe("resetFilter",this._reset.bind(this))}},{key:"_bindEvents",value:function(){var e=this;this.$inputFrom.on("change",this._onInputFromChange.bind(this)),"double"===this.options.type&&this.$inputTo.on("change",this._onInputToChange.bind(this)),this.$inputs.each(function(t,n){if(e.isNumberShort){var i=wt(n),o=i.val();i.val(e._getNumberDecimal(o))}n.addEventListener("input",function(t){var n=wt(t.target),i=n.val();e._validate(n),e._setDigit(n,i)})})}},{key:"_onInputFromChange",value:function(e){var t=e.target.name.slice(0,-5),n=this._getNumber(wt(e.target).val()),i=this.slider.result.to,o="number_decimal"===this.options.validate?1:0,a="number"===this.options.validate,s="single"===this.options.type?0:this.options.step;a||(n=this._getNumberThousands(n)),n<this.options.min?n=this.options.min:n>i&&(n=i-s),n=n.toFixed(o),wt(e.target).val(a?n:this._getNumberDecimal(n)),this._getOutputInputs("".concat(t,"-from"),n),this._setDigit(wt(e.target),n),this._update({from:n})}},{key:"_onInputToChange",value:function(e){var t=e.target.name.slice(0,-5),n=this._getNumber(wt(e.target).val()),i=this.slider.result.from,o="number_decimal"===this.options.validate?1:0,a="number"===this.options.validate;a||(n=this._getNumberThousands(n)),n<=i?n=i+this.options.step:n>this.options.max&&(n=this.options.max),n=n.toFixed(o),wt(e.target).val(a?n:this._getNumberDecimal(n)),this._getOutputInputs("".concat(t,"-to"),n),this._setDigit(wt(e.target),n),this._update({to:n})}},{key:"_validate",value:function(e){var t=this.options.validate;if(t)switch(t){case"number":this._validateNumber(e);break;case"number_decimal":this._validateNumberDecimal(e)}}},{key:"_validateNumber",value:function(e){var t=e.val();t=t.replace(/\s/g,""),e.val(/\d*/.exec(t))}},{key:"_validateNumberDecimal",value:function(e){var t=e.val();e.val(/\d*\.?\d?/g.exec(t))}},{key:"_getNumberDecimal",value:function(e){return(e/1e6).toFixed(1)}},{key:"_getNumberThousands",value:function(e){return 1e6*e}},{key:"_update",value:function(e){this.slider.update(e)}},{key:"_updateInputs",value:function(e){var t=e.input[0].id;this.$inputFrom.val(this.isNumberShort?this._getNumberDecimal(e.from):e.from_pretty),this._getOutputInputs("".concat(t,"-from"),this._getNumber(e.from_pretty)),this._setDigit(this.$inputFrom,e.from_pretty),"double"===this.options.type&&(this.$inputTo.val(this.isNumberShort?this._getNumberDecimal(e.to):e.to_pretty),this._getOutputInputs("".concat(t,"-to"),this._getNumber(e.to_pretty)),this._setDigit(this.$inputTo,e.to_pretty))}},{key:"_reset",value:function(){this.slider.input.classList.contains("is-not-search")||("double"===this.options.type?(this.startOptions.from=this.startOptions.min,this.startOptions.to=this.startOptions.max,this.$inputFrom[0].setAttribute("value",this.startOptions.from),this.$inputTo[0].setAttribute("value",this.startOptions.to),this.$inputFrom.val(this.startOptions.from),this.$inputTo.val(this.startOptions.to)):(this.startOptions.from=this.startOptions.max,this.$inputFrom[0].setAttribute("value",this.startOptions.max),this.$inputFrom.val(this.startOptions.max)),this.slider.update(this.startOptions),this._updateInputs(this.startOptions))}},{key:"_initDigit",value:function(){var e=this;this.$inputs.each(function(t,n){e.options.digit&&e._setDigit(wt(n))})}},{key:"_setDigit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.options.digit){var n=t||e.val(),i=this._getNumber(n);e.val(s.convertToDigit(i))}}},{key:"_getNumber",value:function(e){return e?s.convertToNumber(e):0}},{key:"_getOutputInputs",value:function(e,t){"price-from"===e&&this.$inputOutMin.val(t),"price-to"===e&&this.$inputOutMax.val(t)}}],i=[{key:"init",value:function(){var t=document.querySelectorAll(".form-range:not(.form-range--mortgage)");t&&t.forEach(function(t){(new e).initRange({element:t})})}}],n&&St(t.prototype,n),i&&St(t,i),e}();function Ot(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Lt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.header=t,this.headerMain=document.querySelector(".header"),this.innerElement=this.header.querySelector(".header-top__inner"),this.height=this.header.offsetHeight,this.heightBase=this.innerElement.offsetHeight,this.scrollPosition=0,this.classes={show:"is-showed",hide:"is-hidden",animate:"is-animate",fix:"is-fixed",themeTransparent:"is-theme--transparent"},this.wrapperSite=document.querySelector(".wrapper"),this._changeState=this._changeState.bind(this),this.transitionTime=300,this.isFixedDefault=document.querySelector(".main-slider")||!1}var t,n,i;return t=e,n=[{key:"init",value:function(){this._checkTop(),this._initState(),this._bindEvents()}},{key:"_checkTop",value:function(){if(this.isFixedDefault)return document.querySelector("html").classList.add("_main-page"),this.headerMain.classList.add(this.classes.themeTransparent),!1}},{key:"_initState",value:function(){this.header.dataset.static||(this.scrollPosition=s.getScrollTop(),this._isScrollInTarget()||this.header.classList.add(this.classes.fix,this.classes.hide))}},{key:"_bindEvents",value:function(){var e=this;window.addEventListener("scroll",(0,T.s)(6,this._changeState)),["resize","orientationchange"].forEach(function(t){window.addEventListener(t,function(){e.height=e.header.offsetHeight,e.heightBase=e.innerElement.offsetHeight,e._changeState()})})}},{key:"_changeState",value:function(){var e=this;if(!this.header.dataset.static){this.scrollPosition=s.getScrollTop();var t=this.classes,n=t.animate,i=t.fix,o=t.hide,a=t.show;this._isScrollUp()&&(window.scrollY>window.innerHeight/2&&(this.header.classList.add(a,i,n),this.header.classList.remove(o)),this._isScrollInTarget(-1*this.height)&&this.header.classList.remove(i,n,o,a)),this._isScrollDown()&&window.scrollY>window.innerHeight/2&&(this.header.classList.add(o,n),setTimeout(function(){e.header.classList.add(a,i)},300)),this.prevScrollPosition=this.scrollPosition}}},{key:"_isScrollUp",value:function(){return this.scrollPosition-this.prevScrollPosition<-1}},{key:"_isScrollDown",value:function(){return this.scrollPosition>this.height&&this.scrollPosition-this.prevScrollPosition>1}},{key:"_isScrollInTarget",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.scrollPosition<100)return!0;if(!this.targetElement)return!1;var t=this.targetElement.offsetHeight-e;return t<0&&(t=0),t>this.scrollPosition&&this.scrollPosition}}],i=[{key:"init",value:function(){var t=document.querySelector(".header-top");t&&new e(t).init()}}],n&&Ot(t.prototype,n),i&&Ot(t,i),e}(),Pt=n(380),xt=n.n(Pt),Tt=(n(371),n(692));function jt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var At=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.form=t,this.form&&(this.formValidate="false"!==this.form.dataset.validate,this.constraints=null,this.inputs=this.form.querySelectorAll(".form-input__input, .form-textarea__textarea"),this.BtnSubmit=this.form.querySelector("button"),this.inputs=Array.from(this.inputs).filter(function(e){return"hidden"!==e.type&&""!==e.getAttribute("notvalidate")}))}var t,n,i;return t=e,n=[{key:"init",value:function(){this.initPhoneMask(),this.inputFocus(),this.formValidate&&(this.setOptions(),this.checkInputAttributes(),this.bindEvents())}},{key:"initPhoneMask",value:function(){Tt(this.form).find("input[type=tel]").mask("+7(A00)000-00-00",{translation:{A:{pattern:/[0-69]/}}})}},{key:"checkRequiredEmail",value:function(){var e=!1;return this.inputs.forEach(function(t){"email"===t.type&&t.required&&(e=!0)}),e?{message:"^Поле обязятельно для заполнения"}:null}},{key:"checkInputAttributes",value:function(){this.inputs.forEach(function(e){e.required&&e.removeAttribute("required")})}},{key:"setOptions",value:function(){this.constraints={email:{presence:this.checkRequiredEmail(),email:{message:"^Введите корректный e-mail"}},phone:{presence:{message:"^Поле обязятельно для заполнения"},length:{minimum:16,tooShort:function(e){return"^Минимум 10 цифр, сейчас ".concat(e.replace(/[^\d]/g,"").length-1)}}},message:{length:{minimum:5,message:"^Минимум 5 символов"}},name:{presence:{message:"^Поле обязятельно для заполнения"},length:{minimum:2,maximum:20,message:"^Минимум 2 символа"},format:{pattern:/^[a-zA-Zа-яёА-ЯЁs\s]+$/i,message:"^Имя может содержать только буквы"}},agreement:{presence:{message:"^Для продолжения необходимо согласие с условиями"},inclusion:{within:[!0],message:"^Для продолжения необходимо согласие с условиями"}}}}},{key:"inputFocus",value:function(){var e=document.querySelectorAll(".form-input__label, .form-textarea__label");function t(e){var t=e.target.parentNode;t.classList.add("is-focused"),t.classList.add("is-filled")}function n(e){var t=e.target.parentNode,n=e.target;t.classList.remove("is-focused"),""===n.value.trim()&&t.classList.remove("is-filled")}e.length&&e.forEach(function(e){var i=e.previousElementSibling,o=e.parentNode;i.value&&""!==i.value.trim()&&o.classList.add(".is-filled"),i.addEventListener("focus",t),i.addEventListener("blur",n)})}},{key:"bindEvents",value:function(){var e=this;this.inputs.forEach(function(t){t.addEventListener("change",function(){var n=xt()(e.form,e.constraints)||{};e.showErrorsForInput(t,n[t.name]),e._validate()}),t.addEventListener("keyup",function(){var n=xt()(e.form,e.constraints)||{};""!==t.value.trim()&&(e.showErrorsForInput(t,n[t.name]),e._validate())})})}},{key:"_validate",value:function(){var e=this,t=!0;this.inputs.forEach(function(n){var i=e.validateInput(n);void 0===i||i.result||(t=!1)}),this.BtnSubmit&&t&&this.BtnSubmit.classList.remove("is-disabled")}},{key:"validateInput",value:function(e){var t=e.closest(".form-input");if(t||(t=e.closest(".form__consent")),t)return t.classList.contains("has-error")?{result:!1}:{result:!0}}},{key:"showErrorsForInput",value:function(e,t){var n=this,i=e.closest(".form-input");if(i||(i=e.closest(".form__consent")),i){var o=i.querySelector(".form-input__messages")||i.querySelector(".messages");this.resetFormGroup(i),t?(i.classList.add("has-error"),t.forEach(function(e){n.addError(o,e)}),this.BtnSubmit.classList.add("is-disabled")):i.classList.add("has-success")}}},{key:"resetFormGroup",value:function(e){e.classList.remove("has-error"),e.classList.remove("has-success");var t=e.querySelectorAll(".help-block.error");t.length&&t.forEach(function(e){e.parentNode.removeChild(e)})}},{key:"addError",value:function(e,t){var n=document.createElement("p");n.classList.add("help-block"),n.classList.add("error"),n.innerText=t,e.appendChild(n)}}],i=[{key:"init",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll("[data-validate]");t.length&&t.forEach(function(t){new e(t).init()})}}],n&&jt(t.prototype,n),i&&jt(t,i),e}(),It=At;function Mt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Dt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.labelElement=this.container.querySelector("[data-photo-label]"),this.inputElem=this.container.querySelector("[data-photo-input]"),this.buttonElement=this.container.querySelector("[data-photo-button]"),this.buttonTextElement=this.container.querySelector("[data-photo-text]"),this.reader=new FileReader,this.fileName=null,this.fileSrc=null,this.isUploaded=!1,this.onInputChange=this.onInputChange.bind(this),this.onUploadSuccess=this.onUploadSuccess.bind(this),this.onUploadError=this.onUploadError.bind(this),this.onButtonClick=this.onButtonClick.bind(this),this.onLabelClick=this.onLabelClick.bind(this),this.fileExtension=["jpg","jpeg","png"]}var t,n,i;return t=e,i=[{key:"init",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll("[data-photo]");t.length&&t.forEach(function(t){new e(t).init()})}}],(n=[{key:"init",value:function(){this.inputElem.addEventListener("change",this.onInputChange),this.buttonElement.addEventListener("click",this.onButtonClick),this.labelElement&&this.labelElement.addEventListener("click",this.onLabelClick),this.reader.addEventListener("load",this.onUploadSuccess)}},{key:"onInputChange",value:function(){var e=this;if(!this.isUploaded){var t=this.inputElem.files[0];this.fileName=t.name.toLowerCase(),this.fileExtension.some(function(t){return e.fileName.endsWith(t)})?this.reader.readAsDataURL(t):this.onUploadError()}}},{key:"onUploadSuccess",value:function(){this.buttonElement.classList.add("_cross"),this.buttonElement.classList.remove("_invalid"),this.inputElem.classList.remove("_invalid"),this.buttonTextElement.textContent=this.fileName,this.fileSrc=this.reader.result,this.isUploaded=!0}},{key:"onUploadError",value:function(){this.reset(),this.inputElem.classList.add("_invalid"),this.buttonElement.classList.add("_invalid"),console.warn("Неверный формат файла")}},{key:"onButtonClick",value:function(e){this.isUploaded&&(e.preventDefault(),this.reset())}},{key:"onLabelClick",value:function(e){this.isUploaded&&e.preventDefault()}},{key:"reset",value:function(){this.buttonElement.classList.remove("_cross"),this.inputElem.value="",this.buttonTextElement.textContent="Выбрать фото",this.fileName=null,this.fileSrc=null,this.isUploaded=!1}},{key:"resetHard",value:function(){this.reset(),this.inputElem.classList.remove("_invalid"),this.buttonElement.classList.remove("_invalid")}}])&&Mt(t.prototype,n),i&&Mt(t,i),e}();function Bt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var qt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.kitWrap=t,this.bodyNode=document.body,this.themeSwitcherElem=this.kitWrap.querySelector(".switch-appearance"),this.themeMode="light",this.navItems=this.kitWrap.querySelectorAll(".kit-nav__item"),this.rightItems=this.kitWrap.querySelectorAll(".kit-content__item"),this.dropdownElems=this.kitWrap.querySelectorAll("[data-dropdown-toggle]")}var t,n,i;return t=e,i=[{key:"init",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelector(".kit-wrapper");t&&new e(t).init()}}],(n=[{key:"init",value:function(){this._themeDetect(),this._bindEvents(),this.bodyNode.classList.add("page-kit"),this._initPrism(),this._initClipboard(),this._initCloseSidebar(),this._checkDropdownOnActiveElement()}},{key:"_bindEvents",value:function(){var e=this;this.themeSwitcherElem&&this.themeSwitcherElem.addEventListener("click",this._themeToggle.bind(this)),this.navItems.forEach(function(t){t.addEventListener("click",e._setHash.bind(e))}),this.dropdownElems.length&&this.dropdownElems.forEach(function(t){t.addEventListener("click",e._toggleDropdown.bind(e))})}},{key:"_initPrism",value:function(){Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0})}},{key:"_initCloseSidebar",value:function(){var e=this,t=document.querySelector(".kit-sidebar__head-toggle"),n="default";"collapsed"===localStorage.getItem("layout-style")&&(n="collapsed",this.kitWrap.setAttribute("data-layout-style",n)),t&&t.addEventListener("click",function(){"default"===n?(n="collapsed",e.kitWrap.setAttribute("data-layout-style",n)):(n="default",e.kitWrap.setAttribute("data-layout-style",n)),localStorage.setItem("layout-style",n)})}},{key:"_initClipboard",value:function(){var e=document.querySelectorAll("[data-clipboard]");e.length<1||e.forEach(function(e){var t=e.querySelector("[data-clipboard-tooltip]"),n=new ClipboardJS(e,{target:function(e){return e.nextElementSibling}});n.on("success",function(){t.innerHTML="Скопировано!"}),n.on("error",function(){t.innerHTML="Ошибка!"})})}},{key:"_checkDropdownOnActiveElement",value:function(){this.dropdownElems.forEach(function(e){var t=e.nextElementSibling;t.querySelectorAll(".kit-nav__dropdown-link").forEach(function(e){e.firstChild.classList.contains("is-active")&&t.previousElementSibling.classList.add("is-open")})})}},{key:"_toggleDropdown",value:function(e){var t=e.target,n=t.classList.contains("is-open");this.dropdownElems.forEach(function(e){e.classList.remove("is-open")}),n?t.classList.remove("is-open"):t.classList.add("is-open")}},{key:"_setHash",value:function(e){var t=(e.target.dataset.tabOpener?e.target:e.target.parentNode).dataset.tabOpener;t&&this.setHash(t),s.isDesktop()||this._menuToggle()}},{key:"_themeDetect",value:function(){var e=localStorage.getItem("theme-appearance");e?"light"===e?this._setThemeLight():this._setThemeDark():(localStorage.setItem("theme-appearance","light"),this._setThemeLight())}},{key:"_themeToggle",value:function(){"light"===this.themeMode?this._setThemeDark():this._setThemeLight()}},{key:"_setThemeLight",value:function(){this.themeMode="light",localStorage.setItem("theme-appearance",this.themeMode),this.kitWrap.setAttribute("data-theme",this.themeMode)}},{key:"_setThemeDark",value:function(){this.themeMode="dark",localStorage.setItem("theme-appearance",this.themeMode),this.kitWrap.setAttribute("data-theme",this.themeMode)}},{key:"getHash",value:function(){return window.location.hash.replace(RegExp("^#","u"),"")}},{key:"setHash",value:function(e){return window.location.hash="#"+e}},{key:"isBreakpoint",value:function(e,t){return window.innerWidth>=e&&window.innerWidth<t}}])&&Bt(t.prototype,n),i&&Bt(t,i),e}();function Nt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Rt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ymaps=window.ymaps}var t,n,i;return t=e,(n=[{key:"init",value:function(e){this.geoObjectCollection=e,this.create()}},{key:"create",value:function(){var e=this.ymaps.templateLayoutFactory.createClass('<div class="yandex-map__cluster">{{ properties.geoObjects.length }}</div>');this.clusterer=new this.ymaps.Clusterer({clusterIconLayout:e,groupByCoordinates:!1,gridSize:128,zoomMargin:50,hasBalloon:!1,minClusterSize:5,clusterIconShape:{type:"Circle",coordinates:[0,0],radius:40}});var t=this.geoObjectCollection.toArray().filter(function(e){return"Placemark"===e.options.get("type")&&!e.options.get("data").not_cluster});this.clusterer.add(t),this.geoObjectCollection.add(this.clusterer)}},{key:"addGeoObjectToClusterer",value:function(e){this.clusterer.add(e)}},{key:"removeGeoObjectToClusterer",value:function(e){this.clusterer.remove(e)}}])&&Nt(t.prototype,n),i&&Nt(t,i),e}(),$t=Rt;var Ht=n(692);function Ft(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var zt=new g,Wt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"init",value:function(e,t,n){this.overlay=document.querySelector(".j-yandex-map-overlay"),this.map=e,this.settings=t,this.ymaps=n,this.body=document.querySelector("body"),this.header=document.querySelector(".header"),this._initZoom(),this._initScrollZoom(),this._addFullScreenControl(),this._bindEvents(),t.disableMobileDrag&&this._disableMobileDrag()}},{key:"_initZoom",value:function(){this.settings.zoomControl&&(this.settings.customZoomControl?this._initCustomZoomControl():this.map.controls.add("zoomControl"))}},{key:"_initScrollZoom",value:function(){this.settings.zoomScroll?this.map.behaviors.enable("scrollZoom"):this.map.behaviors.disable("scrollZoom")}},{key:"_addFullScreenControl",value:function(){this.settings.fullScreenControl&&(this.settings.customFullScreenControl?this._initCustomFullscreenControl():this.map.controls.add("fullscreenControl"))}},{key:"_bindEvents",value:function(){var e=this;["resize","orientationchange"].forEach(function(t){window.addEventListener(t,e._setZoomControlPosition.bind(e))})}},{key:"_disableMobileDrag",value:function(){var e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};e.any()&&this.map.behaviors.disable("drag")}},{key:"_initCustomZoomControl",value:function(){var e=this.ymaps;this.zoomControl=new e.control.ZoomControl({options:{layout:this._createLayoutZoomControl()}}),this.map.controls.add(this.zoomControl,{float:"none"}),this._setZoomControlPosition()}},{key:"_createLayoutZoomControl",value:function(){var e,t=this.ymaps,n=this.map.container._parentElement.id,i=t.templateLayoutFactory.createClass('\n  <div class="yandex-map__zoom-wrapper">\n    <div class="yandex-map__zoom-button yandex-map__zoom-button--zoom-in" id="'.concat((e={mapId:n}).mapId,'-zoom-in">\n        <svg width="13" height="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12"><path d="M7 5h4a1 1 0 0 1 0 2H7v4a1 1 0 0 1-2 0V7H1a1 1 0 0 1 0-2h4V1a1 1 0 0 1 2 0v4z"/></svg>\n    </div>\n    <div class="yandex-map__zoom-button yandex-map__zoom-button--zoom-out" id="').concat(e.mapId,'-zoom-out">\n          <svg width="13" height="2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 2"><path d="M7 0h4a1 1 0 1 1 0 2H1a1 1 0 1 1 0-2h6z"/></svg>\n    </div>\n    </div>'),{build:function(){i.superclass.build.call(this),this.zoomInCallback=t.util.bind(this.zoomIn,this),this.zoomOutCallback=t.util.bind(this.zoomOut,this),Ht("#".concat(n,"-zoom-in")).bind("click",this.zoomInCallback),Ht("#".concat(n,"-zoom-out")).bind("click",this.zoomOutCallback)},clear:function(){Ht("#".concat(n,"-zoom-in")).unbind("click",this.zoomInCallback),Ht("#".concat(n,"-zoom-out")).unbind("click",this.zoomOutCallback),i.superclass.clear.call(this)},zoomIn:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()-1,{checkZoomRange:!0})}});return i}},{key:"_setZoomControlPosition",value:function(){var e=this.map.container._size[1];this.zoomControl&&this.zoomControl.options.set("position",{top:e/2,right:0})}},{key:"_initCustomFullscreenControl",value:function(){var e,t=this,n=this.ymaps,i=n.templateLayoutFactory.createClass('<div class="yandex-map__fullscreen-button yandex-map__fullscreen-button-open" '.concat(e,' data-tooltip="На весь экран" data-tooltip-position="left">\n    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path fill-rule="evenodd" clip-rule="evenodd" d="M19.0512 4H12V2H21H22V3V12H20V5.86693L5.46313 20H12V22H3H2V21V12H4V18.6331L19.0512 4Z"/>\n    </svg>\n      </div>')+'<div class="yandex-map__fullscreen-button yandex-map__fullscreen-button-close" data-tooltip="Закрыть" data-tooltip-position="left">\n        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n        </svg>\n        </div>'),o=new n.control.FullscreenControl({options:{layout:i,position:{top:null,right:0}}});this.map.controls.add(o),this.overlay&&this.overlay.addEventListener("click",function(e){e.preventDefault(),o.enterFullscreen(),t._setZoomControlPosition(),t.body.classList.add("map-open"),t.header.classList.remove("is-showed"),t.header.classList.add("is-hidden")}),this.map.container.events.add("fullscreenexit",function(){setTimeout(function(){zt.publish("fullscreenexit"),t.body.classList.remove("map-open"),s.isDesktop()||t.map.behaviors.disable("drag")},100)}),this.map.container.events.add("fullscreenenter",function(){t.body.classList.add("map-open"),t.map.behaviors.enable("drag")})}}])&&Ft(t.prototype,n),i&&Ft(t,i),e}(),Gt=Wt;function Vt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Xt=new g,Zt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"init",value:function(e,t,n){this.map=t,this.settings=n,this.content=e,this.settings.groups&&this.settings.groups.length&&(this._clearIfHas(),this._createLayout(),this._initElements(),this._subscribes(),this._bindEvent())}},{key:"_subscribes",value:function(){var e=this;Xt.subscribe("map:updateGroups",function(t){var n=!0,i=!1,o=void 0;try{for(var a,s=function(){var t=a.value;e.items.find(function(e){return e.dataset.id===t.groupId.toString()}).querySelector(".j-yandex-map__group-count").innerHTML=t.count},r=t[Symbol.iterator]();!(n=(a=r.next()).done);n=!0)s()}catch(e){i=!0,o=e}finally{try{n||null==r.return||r.return()}finally{if(i)throw o}}})}},{key:"_clearIfHas",value:function(){var e=this.content.querySelector(".j-yandex-map__groups");e&&s.removeElement(e)}},{key:"_createLayout",value:function(){this.content.children[0].insertAdjacentHTML("beforeend",(this.settings.groups,'<div class="yandex-map__groups j-yandex-map__groups">\n    <div class="yandex-map__group j-yandex-map__group" data-coords="" data-zoom="">\n        <span class="j-yandex-map__group-count"></span>\n    </div>\n</div>'))}},{key:"_initElements",value:function(){this.items=Array.from(this.content.querySelectorAll(".j-yandex-map__group"))}},{key:"_bindEvent",value:function(){var e=this;this.items.forEach(function(t){t.addEventListener("click",function(){var n=t.dataset.coords.split(","),i=t.dataset.zoom;e.map.panTo([e.map.getCenter(),n],{delay:0,flying:!1,safe:!1,duration:300}).then(function(){e.map.setZoom(i,{duration:300})})})})}}])&&Vt(t.prototype,n),i&&Vt(t,i),e}(),Ut=Zt;function Yt(e){function t(){return e.balloon.title?'<div class="yandex-map-balloon__title">'.concat(e.balloon.title,"</div>"):""}function n(){return e.balloon.text?'<div class="yandex-map-balloon__text">'.concat(e.balloon.text,"</div>"):""}return'\n  <div class="yandex-map-balloon yandex-map-balloon--default j-yandex-map-balloon yandex-map-balloon--'.concat(e.modifyClass,'">\n    <div class="yandex-map-balloon__modal">\n      <div class="yandex-map-balloon__content">\n        ').concat(t(),"\n        ").concat(n(),'\n      </div>\n    </div>\n  <div class="yandex-map-balloon__panel">\n      <div class="yandex-map-balloon__content">\n        ').concat(t(),"\n        ").concat(n(),'\n      </div>\n  </div>\n  <div class="yandex-map-balloon__close j-yandex-map-balloon-close">\n    <svg width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n    </svg>\n  </div>\n  </div>\n')}function Qt(e){function t(){if(!e.balloon.tags)return"";var t=e.balloon.tags,n="";return t.forEach(function(e){n+='<div class="yandex-map-balloon__tags-item">'.concat(e,"</div>")}),'<div class="yandex-map-balloon__tags">'.concat(n,"</div>")}function n(){return e.icon?'<img class="yandex-map-balloon__image" src="'.concat(e.icon,'" alt="ЖК"/>'):""}function i(){return e.balloon.title?'<div class="yandex-map-balloon__title">'.concat(e.balloon.title,"</div>"):""}function o(){var t="",n="";return e.balloon.deadline||e.balloon.walkToCenter?(e.balloon.deadline&&(t="<li>Передача ключей  ".concat(e.balloon.deadline," </li>")),e.balloon.walkToCenter&&(n='<li><span class="walking"></span>до центра '.concat(e.balloon.walkToCenter," </li>")),"<ul>".concat(t).concat(n,"</ul>")):e.balloon.text?"".concat(e.balloon.text):void 0}return'<div class="yandex-map-balloon j-yandex-map-balloon yandex-map-balloon--'.concat(e.modifyClass,'">\n    <div class="yandex-map-balloon__modal">\n    <div class="yandex-map-balloon__content">\n        ').concat(t(),'\n          <div class="yandex-map-balloon__top">\n            ').concat(n(),'\n            <div class="yandex-map-balloon__top-right">\n              ').concat(e.typeName?'<div class="yandex-map-balloon__type">'.concat(e.typeName,"</div>"):"","\n              ").concat(i(),'\n            </div>\n          </div>\n          <div class="yandex-map-balloon__list">').concat(o(),'</div>\n          <div class="yandex-map-balloon__bottom">\n            <div class="yandex-map-balloon__price"> ').concat(e.balloon.price,'</div>\n            <div class="yandex-map-balloon__counter">').concat(e.balloon.rooms,'</div>\n          </div>\n\n    </div>\n    </div>\n      <div class="yandex-map-balloon__panel">\n          <div class="yandex-map-balloon__content">\n          ').concat(t(),"\n          ").concat(n(),'\n              <div class="yandex-map-balloon__info">\n                ').concat(i(),'\n                <div class="yandex-map-balloon__list">').concat(o(),'</div>\n                <div class="yandex-map-balloon__bottom">\n                  <div class="yandex-map-balloon__price"> ').concat(e.balloon.price,'</div>\n                  <div class="yandex-map-balloon__counter">').concat(e.balloon.rooms,"</div>\n                </div>\n                ").concat(e.active&&e.href?'<a href="'+e.href+'" class="yandex-map-balloon__link">Подробнее</a>':"",'\n              </div>\n          </div>\n      </div>\n      <div class="yandex-map-balloon__close j-yandex-map-balloon-close">\n        <svg width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n        </svg>\n      </div>\n      </div>\n  ')}function Kt(e){function t(){return e.balloon.image?'<img class="" src="'.concat(e.balloon.image,'" alt="ЖК"/>'):""}function n(){return e.balloon.type?'<div class="yandex-map-balloon__type">'.concat(e.balloon.type,"</div>"):""}function i(){return e.balloon.title?'<div class="yandex-map-balloon__title">'.concat(e.balloon.title,"</div>"):""}return'\n  <div class="j-yandex-map-balloon yandex-map-balloon yandex-map-balloon--'.concat(e.modifyClass,'">\n    <div class="yandex-map-balloon__modal">\n      <div class="yandex-map-balloon__content">\n        <div class="yandex-map-balloon__image">\n          ').concat(t(),'\n        </div>\n        <div class="yandex-map-balloon__info">\n          ').concat(n(),"\n          ").concat(i(),'\n        </div>\n      </div>\n    </div>\n    <div class="yandex-map-balloon__panel">\n      <div class="yandex-map-balloon__content">\n        <div class="yandex-map-balloon__image">\n          ').concat(t(),'\n        </div>\n        <div class="yandex-map-balloon__info">\n          ').concat(n(),"\n          ").concat(i(),'\n        </div>\n      </div>\n    </div>\n    <div class="yandex-map-balloon__close j-yandex-map-balloon-close">\n      <svg width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n      </svg>\n    </div>\n  </div>\n')}function Jt(e){function t(){return e.balloon.title?'<div class="yandex-map-balloon__title">'.concat(e.balloon.title,"</div>"):""}function n(){return e.balloon.text?'<div class="yandex-map-balloon__text">'.concat(e.balloon.text,"</div>"):""}function i(){return e.balloon.worktime?'<div class="yandex-map-balloon__text">'.concat(e.balloon.worktime,"</div>"):""}function o(){return e.balloon.phones?'<div class="yandex-map-balloon__text">'.concat(e.balloon.phones,"</div>"):""}return'\n<div class="yandex-map-balloon yandex-map-balloon--office j-yandex-map-balloon yandex-map-balloon--'.concat(e.modifyClass,'">\n  <div class="yandex-map-balloon__modal">\n    <div class="yandex-map-balloon__content">\n    ').concat(t(),"\n    ").concat(n(),"\n    ").concat(i(),"\n    ").concat(o(),'\n    </div>\n  </div>\n<div class="yandex-map-balloon__panel">\n    <div class="yandex-map-balloon__content">\n      ').concat(t(),"\n      ").concat(n(),"\n      ").concat(i(),"\n      ").concat(o(),'\n    </div>\n</div>\n<div class="yandex-map-balloon__close j-yandex-map-balloon-close">\n  <svg width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n  </svg>\n</div>\n</div>\n')}function en(e){function t(){return e.balloon.title?'<div class="yandex-map-balloon__title">'.concat(e.balloon.title,"</div>"):""}function n(){return e.balloon.text?'<div class="yandex-map-balloon__text">'.concat(e.balloon.text,"</div>"):""}return'\n    <div class="yandex-map-balloon j-yandex-map-balloon yandex-map-balloon--'.concat(e.modifyClass,'">\n      <div class="yandex-map-balloon__modal">\n        <div class="yandex-map-balloon__content">\n          ').concat(t(),"\n          ").concat(n(),'\n        </div>\n      </div>\n    <div class="yandex-map-balloon__panel">\n        <div class="yandex-map-balloon__content">\n          ').concat(t(),"\n          ").concat(n(),'\n        </div>\n    </div>\n    <div class="yandex-map-balloon__close j-yandex-map-balloon-close">\n      <svg width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n      </svg>\n    </div>\n    </div>\n')}function tn(){return'<div class="yandex-map__dot-marker j-yandex-map-marker"></div>'}function nn(e){return'<div class="yandex-map__text-marker j-yandex-map-marker">'.concat(e.text,"</div>")}function on(e){return'<div class="yandex-map__infrastructure-marker j-yandex-map-marker" style="background: '.concat(e.color,'">\n    <i class="yandex-map__infrastructure-marker-icon ').concat(e.icon,'"></i>\n</div>')}var an=function(){return window.innerWidth<1199},sn=function(){return window.innerWidth<1199};function rn(e){return'<div class="yandex-map__marker j-yandex-map-marker">\n    <img src="'.concat(e.icon,'" alt=""/>\n</div>')}function ln(e){return'<div data-href="'.concat(e.href,'" class="yandex-map__object-marker j-yandex-map-marker j-map-project ').concat(e.active?" is-active":"",'" data-marker-id="').concat(e.id,'">\n      <div class="marker-image">\n      ').concat(e.icon?'<img class="marker-image__image" src="'+e.icon+'" alt="ЖК"/>':"",'\n      </div>\n      <div class="marker-content">\n        <div class="marker-content__type">').concat(e.typeName?e.typeName:"",'</div>\n        <div class="marker-content__name">').concat(e.name?e.name:"","</div>\n      </div>\n</div>")}function cn(e){return'<div class="yandex-map__point-marker j-yandex-map-marker data-marker-id="'.concat(e.id,'">\n    <div class="marker-image">\n    ').concat(e.icon?'<img class="marker-image__image" src="'+e.icon+'" alt="ЖК"/>':"","\n    </div>\n</div>")}function un(e){return'\n    <div class="yandex-map__office-marker j-yandex-map-marker" data-marker-id="'.concat(e.id,'">\n        <svg class="yandex-map__office-marker-svg" width="46" height="46" viewBox="0 0 46 46" xmlns="http://www.w3.org/2000/svg">\n          <path d="M22.9998 24.9167C26.1755 24.9167 28.7498 22.3423 28.7498 19.1667C28.7498 15.9911 26.1755 13.4167 22.9998 13.4167C19.8242 13.4167 17.2498 15.9911 17.2498 19.1667C17.2498 22.3423 19.8242 24.9167 22.9998 24.9167Z"  stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round"/>\n          <path d="M22.9998 42.1667C30.6665 34.5 38.3332 27.6351 38.3332 19.1667C38.3332 10.6983 31.4682 3.83337 22.9998 3.83337C14.5315 3.83337 7.6665 10.6983 7.6665 19.1667C7.6665 27.6351 15.3332 34.5 22.9998 42.1667Z"  stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg>\n    </div>')}function hn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var dn=new g,pn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state="close",this.id=null,this.defDelay=300,this.aciveClass="is-active",this._subscribes()}var t,n,i;return t=e,n=[{key:"_subscribes",value:function(){var e=this;dn.subscribe("fullscreenexit",function(){"close"!==e.state&&e._close()})}},{key:"open",value:function(e){this.data=e.options.get("data"),this.template=e.options.get("template"),this.domTarget=e.getOverlaySync().getLayoutSync().getElement(),this.marker=this.domTarget.querySelector(".j-yandex-map-marker"),this.wrapper=document.querySelector(".j-yandex-map-base"),this.id===Number(this.data.id)?this._close():this.id!==Number(this.data.id)&&"close"!==this.state?(this._close(),this._createTemplate("repeat")):this._createTemplate(),this._bindMapClickListener()}},{key:"_bindMapClickListener",value:function(){var e=this;window.addEventListener("bindMapClick",function(){e._close()})}},{key:"_createTemplate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.defDelay:0;this._setStateMarker(),setTimeout(function(){s.insetContent(e.wrapper,e.template(e.data)),e.id=Number(e.data.id),e._getElements(),e._bindEvents(),e._showPanel()},t)}},{key:"_getElements",value:function(){this.panel=this.wrapper.querySelector(".j-yandex-map-balloon"),this.panelHeight=this.panel.offsetHeight}},{key:"_bindEvents",value:function(){var e=this,t=Array.from(this.panel.querySelectorAll(".j-yandex-map-balloon-close"));t.length&&t.forEach(function(t){t.addEventListener("click",function(){e._close()})})}},{key:"_showPanel",value:function(){this.panel.style.transform="translateY(".concat(-this.panelHeight,"px)"),this.state="show",this.wrapper.classList.add(this.aciveClass)}},{key:"_hideAll",value:function(){this.panel.style.transform="translateY(0)",this.state="close",this.wrapper.classList.remove(this.aciveClass)}},{key:"_close",value:function(){var e=this;this._removeStateMarker(),this._hideAll(),this.id="тест",setTimeout(function(){s.removeElement(e.panel)},this.defDelay)}},{key:"_setStateMarker",value:function(){this.marker&&this.marker.classList.add(this.aciveClass)}},{key:"_removeStateMarker",value:function(){this.marker&&(this.activeMarker=document.querySelector(".j-yandex-map-marker.is-active"),this.activeMarker&&this.activeMarker.classList.remove(this.aciveClass),this.marker.classList.remove(this.aciveClass))}}],n&&hn(t.prototype,n),i&&hn(t,i),e}(),fn=pn,mn=n(692);function vn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var yn=new fn,gn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ymaps=window.ymaps,this.desktopBreakpoint=1199}var t,n,i;return t=e,n=[{key:"createMarker",value:function(e){return this._setSettings(e),e.balloon.title||e.balloon.text?this._initWithBallon():this._initWithoutBalloon()}},{key:"createHtmlMarker",value:function(e){this._setTemplateMarker(e),this._setTemplateBalloon(e),this.ballon=e,this.office=e.office||!1,this.route=e.route||!1;var t=this.ymaps.templateLayoutFactory.createClass(this.markerTemplate(e),{build:function(){this.constructor.superclass.build.call(this),this._$element=mn(".yandex-map__".concat(e.modifyClass,"-marker"),this.getParentElement()),this._options=this.getData().options,this._size=[this._$element[0].offsetWidth,this._$element[0].offsetHeight],this._offset=this._calcElementOffset();var t={type:"Rectangle",coordinates:[this._offset,[this._offset[0]+this._size[0],this._offset[1]+this._size[1]]]};this._options.set("shape",t),this._applyElementOffset(this._offset),this._bindEvents()},_bindEvents:function(){var e=this;this.inited||(this.inited=!0,this.innerWidth=window.innerWidth,window.addEventListener("resize",function(){window.innerWidth!==e.innerWidth&&(e.innerWidth=window.innerWidth,e.rebuild())}))},_calcElementOffset:function(){switch(e.modifyClass){case"infrastructure":case"point":return[-this._size[0]/2,-this._size[1]/2];case"object":return[-this._size[1]/2,-this._size[1]/2];default:return[-this._size[0]/2,-this._size[1]]}},_applyElementOffset:function(e){this._$element[0].style.marginLeft="".concat(e[0],"px"),this._$element[0].style.marginTop="".concat(e[1],"px")}}),n=e.zIndex||!1,i=e.balloon,o=!(an()||!i)&&this._createBalloonContentLayout(),a=new this.ymaps.Placemark(e.coords,{},{type:"Placemark",balloonLayout:o,iconLayout:t,hideIconOnBalloonOpen:this.hideIconOnBalloonOpen,office:this.office,template:this.balloonTemplate,data:e,iconShape:this._setIconShape(e),zIndex:n,panel:yn,cursor:i?"pointer":"default",isBalloon:i});return this._bindEventsMarker(a),e.isHidden&&a.options.set("visible",!1),a}},{key:"_setSettings",value:function(e){var t={lat:59.939014,lon:30.315545,iconWidth:24,iconHeight:24,offsetTop:0,offsetLeft:0};this.type=e.type||"Point",this.coords=e.coords||[t.lat,t.lon],this.iconLayout="default#image",this.iconImageHref=e.icon||"../../webicons/map/media/markers/marker.svg",this.iconImageSize=e.size||[t.iconWidth,t.iconHeight],this.iconImageOffset=e.offset||[t.offsetTop,t.offsetLeft],this.route=e.route||!1,this.ballon=e}},{key:"_initWithoutBalloon",value:function(){return new this.ymaps.Placemark(this.coords,{type:this.type},{iconLayout:this.iconLayout,iconImageHref:this.iconImageHref,iconImageSize:this.iconImageSize,iconImageOffset:this.iconImageOffset})}},{key:"_initWithBallon",value:function(){this._setTemplateBalloon();var e=new this.ymaps.Placemark(this.coords,{type:this.type},{balloonLayout:this._createBalloonContentLayout(),iconLayout:this.iconLayout,iconImageHref:this.iconImageHref,iconImageSize:this.iconImageSize,iconImageOffset:this.iconImageOffset,route:this.route,template:this.balloonTemplate,data:this.ballon,hideIconOnBalloonOpen:!1});return this._bindEventsMarker(e),e}},{key:"_setTemplateMarker",value:function(e){switch(e.modifyClass){case"object":this.hideIconOnBalloonOpen=!1,this.markerTemplate=ln;break;case"point":this.hideIconOnBalloonOpen=!1,this.markerTemplate=cn;break;case"infrastructure":this.hideIconOnBalloonOpen=!1,this.markerTemplate=on;break;case"office":this.hideIconOnBalloonOpen=!1,this.markerTemplate=un;break;case"dot":this.hideIconOnBalloonOpen=!1,this.markerTemplate=tn;break;case"text":this.hideIconOnBalloonOpen=!1,this.markerTemplate=nn;break;default:this.hideIconOnBalloonOpen=!1,this.markerTemplate=rn}}},{key:"_setTemplateBalloon",value:function(e){switch(e.modifyClass){case"object":this.balloonTemplate=Qt;break;case"point":this.balloonTemplate=Kt;break;case"office":this.balloonTemplate=Jt;break;case"infrastructure":this.balloonTemplate=en;break;default:this.balloonTemplate=Yt}}},{key:"_setIconShape",value:function(e){return an()?this.iconImageSize=[Number(e.size.height),Number(e.size.height)]:this.iconImageSize=[-Number(e.size.width/2),-Number(e.size.height)],{type:"Rectangle",coordinates:[[0,0],this.iconImageSize]}}},{key:"_createBalloonContentLayout",value:function(){var e=this,t=this.ymaps.templateLayoutFactory.createClass(this.balloonTemplate(this.ballon),{build:function(){var t=this;this.constructor.superclass.build.call(this),this.balloon=document.querySelector(".j-yandex-map-balloon"),this.closeBallooneButtons=Array.from(document.querySelectorAll(".j-yandex-map-balloon-close")),e.markerOffset(this.balloon),this.closeBallooneButtons.forEach(function(e){e.addEventListener("click",t.onCloseClick.bind(t))})},clear:function(){this.constructor.superclass.clear.call(this)},onCloseClick:function(e){e.preventDefault(),this.events.fire("userclose")},onSublayoutSizeChange:function(){t.superclass.onSublayoutSizeChange.apply(this,arguments),this.balloon&&(e.markerOffset(this.balloon),this.events.fire("shapechange"))},getShape:function(){if(!this.balloon)return t.superclass.getShape.call(this);var e=this.balloon.offsetHeight,n=this.balloon.offsetWidth,i=this.balloon.offsetTop,o=this.balloon.offsetLeft,a=[[o,i],[o+n,i+e]];return new window.ymaps.shape.Rectangle(new window.ymaps.geometry.pixel.Rectangle(a))}});return t}},{key:"markerOffset",value:function(e){var t=this.iconImageSize[0],n=this.iconImageSize[1],i=e.classList;switch(!0){case i.contains("yandex-map-balloon--infrastructure"):e.style.left="".concat(-e.offsetWidth/2,"px"),e.style.top="".concat(-e.offsetHeight-10+n/2,"px");break;case i.contains("yandex-map-balloon--object"):e.style.left="".concat(t,"px"),e.style.top="".concat(-(n-10)/2,"px");break;case i.contains("yandex-map-balloon--point"):e.style.left="".concat(-e.offsetWidth/2,"px"),e.style.top="".concat(-e.offsetHeight-10+n/2,"px");break;case i.contains("yandex-map-balloon--office"):e.style.left="".concat(-e.offsetWidth/2,"px"),e.style.top="".concat(-e.offsetHeight-10+n,"px");break;default:e.style.left="".concat(-e.offsetWidth/2+t/2,"px"),e.style.top="".concat(-e.offsetHeight-n/2,"px")}}},{key:"closeBalloonOnClickMap",value:function(e){window.innerWidth>this.desktopBreakpoint&&(e.geoObjects.events.add("click",function(){e.balloon.isOpen()&&e.balloon.close()}),e.events.add("click",function(){e.balloon.isOpen()&&e.balloon.close()}))}},{key:"_bindEventsMarker",value:function(e){window.innerWidth>=this.desktopBreakpoint&&!e.options.get("data").onlyPanel?(e.events.add("mouseenter",this.onMouseenterMarker.bind(this)),e.events.add("mousemove",this.onMousemoveMarker.bind(this)),e.events.add("mouseleave",this.onMouseleaveMarker.bind(this)),e.events.add("click",this._onMouseClickMarker.bind(this))):e.events.add("click",this.onMouseenterMarker.bind(this))}},{key:"_getMarkerElement",value:function(e){return e.get("target").getOverlaySync().getLayoutSync().getElement().querySelector(".j-yandex-map-marker")}},{key:"_onMouseClickMarker",value:function(e){var t=e.get("target"),n=this._getMarkerElement(e);t.options.get("data").href?n.closest(".j-map-project")&&n.classList.contains("is-active")&&window.open(t.options.get("data").href):an()&&t.options.get("balloonLayout")&&(e.preventDefault(),yn.open(t))}},{key:"onMousemoveMarker",value:function(e){var t=e.get("target").balloon,n=t.isOpen(),i=this._getMarkerElement(e);n||(this.bindEventsBalloon(t),i.classList.add("is-open-balloon"),t.open())}},{key:"onMouseenterMarker",value:function(e){var t=e.get("target"),n=t.balloon,i=t.options.get("data").onlyPanel;an()||i?yn.open(t):this.bindEventsBalloon(n)}},{key:"onMouseleaveMarker",value:function(e){var t=e.get("target").balloon,n=this._getMarkerElement(e);this.timerCloseBalloon=this.getSetTimeoutClosingBalloon(t,n)}},{key:"bindEventsBalloon",value:function(e){e.events.add("mouseenter",this.onMouseenterBalloon.bind(this)),e.events.add("mouseleave",this.onMouseleaveBalloon.bind(this))}},{key:"onMouseenterBalloon",value:function(){clearTimeout(this.timerCloseBalloon),this.timerCloseBalloon=null}},{key:"onMouseleaveBalloon",value:function(e){var t=e.get("target").balloon,n=this._getMarkerElement(e);this.getSetTimeoutClosingBalloon(t,n)}},{key:"getSetTimeoutClosingBalloon",value:function(e,t){t.classList.remove("is-open-balloon"),t.classList.add("is-hide-balloon");var n=document.querySelector(".yandex-map-balloon");return n&&n.classList.add("is-hide-balloon"),setTimeout(function(){e.close(),t.classList.remove("is-hide-balloon")},300)}}],n&&vn(t.prototype,n),i&&vn(t,i),e}(),bn=gn;function _n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var kn=new g,wn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.buttons=null,this.resetButton=null,this.disableClass="is-active"}var t,n,i;return t=e,(n=[{key:"init",value:function(e){this.buttons=Array.from(e.target.querySelectorAll(".j-map-filter-item")),this.resetButton=e.resetButton||null,this._bindEvents()}},{key:"_bindEvents",value:function(){var e=this;this.buttons.forEach(function(t){t.addEventListener("change",function(){e._changeFilter(t)})}),this._resetFilter(),this.resetButton.addEventListener("click",function(){e._resetFilter()})}},{key:"_changeFilter",value:function(e){if(this.buttons.every(function(e){return!1===e.checked}))return this.resetButton.classList.add(this.disableClass),void kn.publish("showAllMarkers");var t=e.checked?"addFilterItem":"removeFilterItem",n=[];this.buttons.forEach(function(e){!0===e.checked&&n.push(e.dataset.type)}),this.resetButton.classList.remove(this.disableClass),kn.publish(t,n),kn.publish("filterUpdated")}},{key:"_resetFilter",value:function(){this.buttons.forEach(function(e){e.checked=!1}),this.resetButton.classList.add(this.disableClass),kn.publish("showAllMarkers")}}])&&_n(t.prototype,n),i&&_n(t,i),e}(),Sn=wn;function En(e,t,n,i,o,a,s){try{var r=e[a](s),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,o)}function Cn(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){En(a,i,o,s,r,"next",e)}function r(e){En(a,i,o,s,r,"throw",e)}s(void 0)})}}function On(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ln(e,t){var n,i,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=r(0),s.throw=r(1),s.return=r(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,r[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}}var Pn=new g,xn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ymaps=t,this.geoObjectCollection=new this.ymaps.GeoObjectCollection,this.settings={},this.map=null,this.baseClass=".j-yandex-map-base",this.preloaderClass="is-loading",this.desktopBreakpoint=1199}var t,n,i;return t=e,(n=[{key:"init",value:function(e){this.outerOptions=e,this.mapWrapper=e.wrapper,this.content=this.mapWrapper.querySelector(this.baseClass),this.mapRoot=this.mapWrapper.closest(".j-yandex-map-root"),this.id=this.content.id,this.json=this.mapWrapper.dataset.json||e.json,this.mapWrapper.removeAttribute("data-json"),this._runMap(),this._subscribes()}},{key:"update",value:function(){this.geoObjectCollection&&(this.map.geoObjects.remove(this.geoObjectCollection),this.geoObjectCollection=new this.ymaps.GeoObjectCollection),this._initHistoricalPolygon(),this._initMarker(),this._initGroups(),this._initCircles()}},{key:"_subscribes",value:function(){var e=this;this._showGeoObject=this._showGeoObject.bind(this),this._hideGeoObject=this._hideGeoObject.bind(this),Pn.subscribe("addFilterItem",function(t){e._toggleGeoObjects(t,e._showGeoObject)}),Pn.subscribe("removeFilterItem",function(t){e._toggleGeoObjects(t,e._hideGeoObject)}),Pn.subscribe("showAllMarkers",function(){e._visibleAllMarkers()}),Pn.subscribe("mapSetCenter",function(){e._setCenterMap()})}},{key:"removeFilterItem",value:function(e){var t=this;e.forEach(function(e){t.geoObjectCollectionArray.forEach(function(n){n.options.get("data").type===e&&t._hideGeoObject(n)})})}},{key:"addFilterItem",value:function(e){var t=this;e.forEach(function(e){t.geoObjectCollectionArray.forEach(function(n){n.options.get("data").type===e&&t._showGeoObject(n)})})}},{key:"updateGroups",value:function(e){if(this.settings.groups){var t=[],n=!0,i=!1,o=void 0;try{for(var a,s,r=function(){var n=s.value,i=a.geoObjectCollectionArray.filter(function(t){return t.options.get("data").type===e&&t.options.get("data").group===n.id});t.push({groupId:n.id,count:i.length})},l=this.settings.groups[Symbol.iterator]();!(n=(s=l.next()).done);n=!0)a=this,r()}catch(e){i=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}Pn.publish("map:updateGroups",t)}}},{key:"_runMap",value:function(){return Cn(function(){return Ln(this,function(e){switch(e.label){case 0:return[4,this._setSettings()];case 1:return e.sent(),[4,this._initYandexMap()];case 2:return e.sent(),this._setDeviceSettings(),this._initMarker(),this._initControls(),this._initCluster(),this._initGroups(),this._initCircles(),this._bindEvents(),this._showMap(),this._createFilterList(),this._initMapFilter(),Pn.publish("map:ready"),[2]}})}).call(this)}},{key:"_setSettings",value:function(){return Cn(function(){var e;return Ln(this,function(t){return this._connectSettings(this._setDefaultSettings()),this._connectSettings(this._setScriptSettings()),this.json&&(e=JSON.parse(this.json),this._connectSettings(e.data)),[2]})}).call(this)}},{key:"_initYandexMap",value:function(){return Cn(function(){var e,t,n;return Ln(this,function(i){switch(i.label){case 0:e=this,t=function(){return new Promise(function(t){if(e.map=new e.ymaps.Map(e.id,e.settings,{suppressMapOpenBlock:!0}),!e.map)throw new Error;t()})},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t()];case 2:return[2,i.sent()];case 3:throw n=i.sent(),console.error("При инициализации Яндекс Карт произошла критическая ошибка ".concat(n)),new Error;case 4:return[2]}})}).call(this)}},{key:"_connectSettings",value:function(e){var t;"object"==(void 0===e?"undefined":(t=e)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)&&Object.assign(this.settings,e)}},{key:"_setDefaultSettings",value:function(){return{center:[59.939014,30.315545],mapTypeControl:!1,autoZoom:!1,zoom:12,zoomMargin:250,minZoom:10,maxZoom:18,zoomStep:1,controls:[],zoomControl:!0,customZoomControl:!0,fullScreenControl:!0,customFullScreenControl:!0,height:this.content.offsetHeight,zoomScroll:!1,markers:[]}}},{key:"_setScriptSettings",value:function(){return this.outerOptions}},{key:"_setDeviceSettings",value:function(){this._setDeviceCenter(),this._setDeviceZoom(),this.outerOptions.disableZoom&&this._disableZoom(),this.outerOptions.disableDrag&&this._disableDrag()}},{key:"_setDeviceCenter",value:function(){if(this.settings.centerMobile){var e=this.map.getZoom();s.isMobile()?this.map.setCenter(this.settings.centerMobile,e,{useMapMargin:!0}):this.map.setCenter(this.settings.center,e,{useMapMargin:!0})}}},{key:"_setDeviceZoom",value:function(){this.settings.zoomMobile&&(s.isMobile()?this.map.setZoom(this.settings.zoomMobile):this.map.setZoom(this.settings.zoom))}},{key:"_initMarker",value:function(){var e=this;this.settings.markers.forEach(function(t){var n=new bn;e.geoObjectCollection.add(n.createHtmlMarker(t)),n.closeBalloonOnClickMap(e.map)}),this.geoObjectCollectionArray=this.geoObjectCollection.toArray().map(function(e){return e}),this.map.geoObjects.add(this.geoObjectCollection),this.geoObjectCollectionArray.length>1&&this.settings.autoZoom&&this.map.setBounds(this.geoObjectCollection.getBounds(),{zoomMargin:this.settings.zoomMargin}),this._bindMapClick()}},{key:"_bindMapClick",value:function(){var e=this,t=new CustomEvent("bindMapClick");window.dispatchEvent(t),this.map.events.add("click",function(){window.innerWidth<e.desktopBreakpoint&&window.dispatchEvent(t)})}},{key:"_initControls",value:function(){(new Gt).init(this.map,this.settings,this.ymaps)}},{key:"_initCluster",value:function(){var e=this.settings.markers.filter(function(e){return"object-min"===e.modifyClass});this.outerOptions.cluster&&!e.length&&(this.cluster=new $t,this.cluster.init(this.geoObjectCollection))}},{key:"_initGroups",value:function(){this.settings.groups&&this.settings.groups.length&&(new Ut).init(this.content,this.map,this.settings)}},{key:"_initCircles",value:function(){var e=this,t=this.settings.circles;t&&t.forEach(function(t){var n=new ymaps.Circle([t.center,t.radius],{},{fillColor:t.fillColor,fillOpacity:t.fillOpacity,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWidth:t.strokeWidth,strokeStyle:t.strokeStyle});e.map.geoObjects.add(n)})}},{key:"_bindEvents",value:function(){var e=this;this._setDeviceSettings=this._setDeviceSettings.bind(this),["resize","orientationchange"].forEach(function(t){window.addEventListener(t,s.debounce(e._setDeviceSettings,100))})}},{key:"_showMap",value:function(){this.content.classList.remove(this.preloaderClass),this.content.style.opacity="1",this.outerOptions.afterShow&&this.outerOptions.afterShow()}},{key:"_createFilterList",value:function(){var e=this;if(this.mapRoot&&this.mapRoot.querySelector(".j-yandex-map-infrastructure")){var t=this.mapRoot.querySelector(".j-map-filter"),n=this.settings.markers,i="",o=[];n.forEach(function(t){if("infrastructure"===t.modifyClass){var n=t.type;o.includes(n)||(i+=e.createFilterItem(t),o.push(n))}}),t.innerHTML=i}}},{key:"createFilterItem",value:function(e){return'\n        <li class="infrastructure-legend__list-item">\n          <label class="infrastructure-label">\n            <input class="infrastructure-label__checkbox j-map-filter-item" type="checkbox" name="'.concat(e.type,'" data-type="').concat(e.type,'" id="').concat(e.type,'" />\n            <div class="infrastructure-label__inner">\n              <span class="infrastructure-label__text">').concat(e.name,'</span>\n              <span class="infrastructure-label__icon">\n                <i class="').concat(e.icon,'"></i>\n              </span>\n            </div>\n          </label>\n        </li>\n      ')}},{key:"_initMapFilter",value:function(){if(this.mapRoot){var e=this.mapRoot.querySelector(".j-map-filter"),t=this.mapRoot.querySelector(".j-map-filter-reset"),n=this.mapRoot.querySelector(".j-map-filter-apply");e&&((new Sn).init({target:e,resetButton:t}),n&&Pn.subscribe("filterUpdated",function(){n.classList.remove("is-hidden")}));var i=this.mapRoot.querySelector(".j-yandex-map-infrastructure"),o=this.mapRoot.querySelector(".j-yandex-map-filter-toggle");o&&i&&(o.addEventListener("click",function(){i.classList.toggle("is-open"),o.classList.toggle("is-open")}),n.addEventListener("click",function(){n.classList.add("is-hidden"),i.classList.remove("is-open"),o.classList.remove("is-open")}))}}},{key:"_showGeoObject",value:function(e){this.cluster.addGeoObjectToClusterer(e)}},{key:"_hideGeoObject",value:function(e){this.cluster.removeGeoObjectToClusterer(e)}},{key:"_toggleGeoObjects",value:function(e,t){var n=this;this.geoObjectCollectionArray.forEach(function(e){"point"!==e.options.get("data").type&&"text"!==e.options.get("data").type&&n._hideGeoObject(e)}),e.forEach(function(e){n.geoObjectCollectionArray.forEach(function(i){i.options.get("data").type===e&&(t(i),n._showGeoObject(i))})})}},{key:"_visibleAllMarkers",value:function(){var e=this;this.geoObjectCollectionArray.forEach(function(t){"point"!==t.options.get("data").type&&e._showGeoObject(t)})}},{key:"hideAllMarkers",value:function(){var e=this;this.geoObjectCollectionArray.forEach(function(t){"point"!==t.options.get("data").type&&e._hideGeoObject(t)})}},{key:"_setCenterMap",value:function(e){sn()&&this.setCenter(e,this.settings.zoom)}},{key:"_disableZoom",value:function(){var e=this.map.getZoom();this.map.behaviors.disable("dblClickZoom"),this.map.behaviors.disable("scrollZoom"),this.map.options.set("maxZoom",e),this.map.options.set("minZoom",e)}},{key:"_disableDrag",value:function(){this.map.behaviors.disable("drag")}},{key:"getMarkers",value:function(){return this.settings.markers}},{key:"setCenter",value:function(e,t){this.map.setCenter(e,t)}}])&&On(t.prototype,n),i&&On(t,i),e}(),Tn=xn;function jn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var An=new g,In=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"init",value:function(){this._subscribe()}},{key:"_loadScriptApi",value:function(){if(!window.ymapsInited)return new Promise(function(e,t){var n=document.createElement("script");n.src="https://api-maps.yandex.ru/2.1/?apikey=fc8ccd61-8a5d-43e8-ae97-d91256868293&lang=ru_RU",n.async=!0,n.defer=!0,n.type="text/javascript",n.onload=e,n.onerror=function(e){t(e)},document.body.appendChild(n)}).then(function(){return window.ymapsInited=!0,new Promise(function(e){window.ymaps.ready(e)})})}},{key:"_subscribe",value:function(){var e=this;window.ymapsInited=!1,An.subscribe("map:init",function(t){e._initMap(t)})}},{key:"_initMap",value:function(e){e&&(window.ymapsInited?new Tn(window.ymaps).init({wrapper:e,cluster:!0,fullScreenControl:!0,customFullScreenControl:!0,customZoomControl:!0}):this._loadScriptApi().then(function(t){new Tn(t).init({wrapper:e,cluster:!0,fullScreenControl:!0,customFullScreenControl:!0,customZoomControl:!0}),window.ymapsInited=!0}).catch(function(e){console.error("При загрузке яндекс карт произошла ошибка: ".concat(e))}))}}],(n=null)&&jn(t.prototype,n),i&&jn(t,i),e}(),Mn=n(692);function Dn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Bn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"clearStorage",value:function(){var e=window.sessionStorage;e.removeItem("price[min]"),e.removeItem("creditAmount"),e.removeItem("creditPercent"),e.removeItem("first-pay[min]"),e.removeItem("limitation[min]")}},{key:"isExist",value:function(e){return null!==e&&!isNaN(+e)&&void 0!==e}},{key:"accessStorage",value:function(e,t){var n=window.sessionStorage;return this.isExist(t)?n.setItem(e,t):parseInt(n.getItem(e))||n.getItem(e)}},{key:"getObjectData",value:function(e){return{key:Mn(e.$input).attr("name"),data:e.from}}},{key:"calc",value:function(e,t,n){switch(e){case"creditAmount":return t-n;case"creditAmountPretty":return(t-n).toLocaleString("ru-Ru")+" руб.";case"creditPercent":return parseInt((n/t*100).toFixed());case"creditPercentPretty":return(n/t*100).toFixed()+"%";case"monthlyPaymentPretty":return parseInt(t.toFixed()).toLocaleString("ru-Ru")+" руб./мес."}}},{key:"calcCredit",value:function(){var e=this.accessStorage("price[min]",null),t=this.accessStorage("first-pay[min]",null),n=this.calc("creditPercentPretty",e,t),i=this.accessStorage("limitation[min]",null),o=this.calc("creditAmount",e,t)>=0?this.calc("creditAmountPretty",e,t):"—";return this.accessStorage("creditAmount",this.calc("creditAmount",e,t)),this.accessStorage("creditPercent",this.calc("creditPercent",e,t)),{amount:o,percent:n,period:i}}},{key:"decodePostfix",value:function(e){return[1,21,31].includes(e)?"годa":"лет"}},{key:"use$Value",value:function(e,t){return void 0===t?Mn(e).val():Mn(e).val(t)}},{key:"checkInputedData",value:function(e,t,n){var i=+Mn(e).val().replace(n,"");t.from=i<t.min?t.min:i>t.max?t.max:i}},{key:"preventNaNSymbolsEnter",value:function(e){![8,9,13,17,18,35,36,37,39,46].includes(e.which)&&(e.which>57||e.which<48)&&(e.which>105||e.which<96)&&(e.which>123||e.which<112)&&e.preventDefault()}},{key:"onKeyDownEvent",value:function(e,t,n,i,o){switch(e.which){case 13:this.checkInputedData(i,t,o),Mn(i).trigger("blur");break;case 27:Mn(i).trigger("blur")}}},{key:"declOfNum",value:function(e,t){return console.log("⟶ n, title",e,t),t[e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2]}},{key:"getReplaceDotToNumber",value:function(e){return Number(e.replace(/,/g,"."))}}])&&Dn(t.prototype,n),i&&Dn(t,i),e}(),qn=Bn,Nn=n(692);function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function $n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Hn(e){return function(e){if(Array.isArray(e))return Rn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}j.os.registerPlugin(A.u);var Fn=new g,zn=new qn,Wn=function(){function e(){var t,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=void 0,(n="disabled")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.$getparams="",this.ranges={},this.minPercent=0,this.maxPercent=90}var t,n,i;return t=e,n=[{key:"init",value:function(e){zn.clearStorage(),this._getElements(e),this.getMinFirstPercent(),this._subscribes(),this._initCalcSliders(),this._bindEvents()}},{key:"_getElements",value:function(e){this.wrap=e,this.$wrap=Nn(e),this.$sliders=this.$wrap.find(".form-range--mortgage"),this.$tableItems=this.$wrap.find(".mortgage-result__item"),this.itemsArray=this.$tableItems.toArray(),this.$creditPercent=this.$wrap.find(".mortgage-filter__percent"),this.$creditErrorTooltip=this.$wrap.find(".mortgage-filter__error"),this.$orderCount=this.$wrap.find(".j-mortgage-orders-count"),this.$emptyResult=this.$wrap.find(".mortgage__no-result"),this.$shareInput=this.$wrap.find(".j-mortgage-share-email"),this.className={active:"is-active",disabled:"is-disabled",hidden:"is-hidden",loadmore:"is-loadmore"},this.flatPriceWrap=Nn(document).find(".flat__prices-mortgage"),this.flatPrice=this.flatPriceWrap.find(".j-flat__price"),this.$tabs=this.$wrap.find(".j-mortgage-tabs .tab__btn-btn"),this.$select=this.$wrap.find(".form-select select"),this.$resultList=this.$wrap.find(".mortgage-result__list")}},{key:"_initCalcSliders",value:function(){var t=Array.from(this.$sliders);this._getRangeSliders(),t.length&&t.forEach(function(t,n){e.initSlider(t,n)})}},{key:"getMinFirstPercent",value:function(){var e,t=[];this.itemsArray.forEach(function(e){var n=e.dataset.firstpayment;n=zn.getReplaceDotToNumber(n),t.push(n)}),this.minPercent=(e=Math).min.apply(e,Hn(t))}},{key:"_getRangeSliders",value:function(){var e=this;Array.from(this.wrap.querySelectorAll(".j-form-range-base")).forEach(function(t){e.ranges[t.id]=t});var t=this.ranges.price,n=this.ranges["first-pay"],i=+t.dataset.from/100*this.minPercent;n.dataset.min=i}},{key:"_bindEvents",value:function(){var e=this;this.$select.length&&this.$select.on("change",function(t){var n=t.target,i=n.value,o=Array.from(n.options).find(function(e){return e.value===i}),a=Nn(e.ranges.limitation).data("ionRangeSlider"),s=Nn(e.ranges.price).data("ionRangeSlider"),r=Nn(e.ranges["first-pay"]).data("ionRangeSlider"),l=+o.dataset.term,c=+o.dataset.price,u=+o.dataset.firstpay;s.update({from:c}),r.update({from:u}),a.update({max:l,from:l}),zn.accessStorage("price[min]",c),zn.accessStorage("first-pay[min]",u),zn.accessStorage("limitation[min]",l);var h=e.$wrap.find('input[name="limitation[min]"]'),d=e.$wrap.find('input[name="price[min]"]'),p=e.$wrap.find('input[name="first-pay[min]"]');h.val(l),d.val(c.toLocaleString("ru-Ru")),p.val(u.toLocaleString("ru-Ru")),e._onChangeSelect(i),e._recalculatePercent(c,u),e._recalculateFirstPayment(),e.loadMoreProgramm(),e.update()}),this._backToFilter()}},{key:"_subscribes",value:function(){var e=this;Fn.subscribe("rangesliderStart",function(t,n){t.$input=t.input.closest(".form-range").find(".form-range__input"),t.$postfix=t.input.closest(".form-range").find(".range-slider__input-right"),t.$rangeSlider=n,e.updateSlidersValues(t,null),e.manualInput(t,e),e.update()}),Fn.subscribe("rangesliderChange",function(t){var n=t.input[0].id,i="price"===n;"price"===n&&e._recalculateFirstPayment(),e.updateSlidersValues(t,"set",i)}),Fn.subscribe("rangesliderFinish",function(){e.setCredit(),e.update()})}},{key:"updateSlidersValues",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.updateData(t,n),e.setInput(t.from,t),i||this.setCredit()}},{key:"updateData",value:function(e,t){var n=zn.getObjectData(e).key;zn.isExist(zn.accessStorage(n,null))&&"set"!==t?e.from=zn.accessStorage(n,null):(e.from=parseInt(e.from),zn.accessStorage(n,e.from))}},{key:"setCredit",value:function(){this.$creditPercent.text(zn.calcCredit().percent),this.$creditErrorTooltip&&(parseInt(zn.calcCredit().percent)>=101?Nn(this.$creditErrorTooltip).addClass("is-active"):Nn(this.$creditErrorTooltip).removeClass("is-active"))}},{key:"manualInput",value:function(e,t){this.chooseInputInteraction(e,t,"focus"),this.chooseInputInteraction(e,t,"blur"),this.chooseInputInteraction(e,t,"keyup"),this.chooseInputInteraction(e,t,"keydown")}},{key:"chooseInputInteraction",value:function(t,n,i){var o=/[^0-9.]/g,a=this;t.$input.on(i,function(s){switch(i){case"focus":zn.use$Value(this,"");break;case"blur":if(""===zn.use$Value(this))e.setInput(t.from,t);else{if(zn.checkInputedData(this,t,o),"price"===t.$rangeSlider.slider.input.id){var r=zn.accessStorage("price[min]"),l=zn.accessStorage("first-pay[min]");a.updateSlidersValues(t,"set",!0),a._recalculatePercent(r,l),a._recalculateFirstPayment()}else a.updateSlidersValues(t,"set");t.$rangeSlider.slider.update(),a.setCredit(),a.update()}break;case"keyup":zn.use$Value(this)&&e.setInput(+zn.use$Value(this).replace(o,""),t);break;case"keydown":zn.preventNaNSymbolsEnter(s),zn.onKeyDownEvent(s,t,n,this,o);break;default:console.error("Wrong type of interaction")}})}},{key:"setPaymentOnTable",value:function(){this.itemsArray.forEach(function(t){e.calcPaymentForBank(Nn(t))})}},{key:"_recalculateFirstPayment",value:function(){var e=+this.$creditPercent[0].innerText.replace("%",""),t=zn.accessStorage("price[min]",null),n=Math.trunc(t*e/100),i=t/100*this.minPercent,o=t/100*this.maxPercent,a=(o-i)/(this.maxPercent-this.minPercent),s=this.$wrap.find('input[name="first-pay[min]"]'),r=Nn(this.ranges["first-pay"]).data("ionRangeSlider");s.val(n.toLocaleString("ru-Ru")),r.update({from:n,min:i,max:o,step:a}),zn.accessStorage("first-pay[min]",n)}},{key:"_recalculatePercent",value:function(e,t){var n=t/e*100;this.$creditPercent[0].innerText="".concat(Math.trunc(n),"%"),zn.accessStorage("creditPercent",Math.trunc(n))}},{key:"_disableItems",value:function(){var e=this;this.itemsArray.forEach(function(t){e._setDisabled(Nn(t))})}},{key:"_setDisabled",value:function(e){var t=e.find(".j-mortgage-limitation"),n=e.find(".j-mortgage-payment"),i=e.attr("data-firstPayment");i=zn.getReplaceDotToNumber(i);var o=+t.attr("data-limitation"),a=+t.attr("data-limitationMin");zn.accessStorage("creditPercent")<i||zn.accessStorage("creditPercent")>100||zn.accessStorage("limitation[min]")>o||zn.accessStorage("limitation[min]")<a?(n.text("—"),e.addClass(this.className.disabled)):e.removeClass(this.className.disabled)}},{key:"_setOrdersCount",value:function(){var e=this.$tableItems.not(".".concat(this.className.disabled,", .").concat(this.className.hidden)).length;this.$orderCount.text("".concat(e))}},{key:"_checkEmptyResult",value:function(){var e=this.$tableItems.not(".".concat(this.className.disabled,", .").concat(this.className.hidden)).length?"removeClass":"addClass";this.$resultList[e](this.className.disabled),this.$emptyResult[e](this.className.active)}},{key:"_setTableOrder",value:function(){for(var e=0;e<this.$tableItems.length;e++)this._setItemOrder(Nn(this.$tableItems[e]))}},{key:"_setItemOrder",value:function(e){var t=+e.find(".j-mortgage-payment").text().replace(/[^0-9]/g,"");t=0===t?1e7:t,e.css("order",t)}},{key:"update",value:function(){this.hide(),this.setPaymentOnTable(),this._disableItems(),this._setOrdersCount(),this._checkEmptyResult(),this._setTableOrder(),this.loadMoreProgramm(),this.flatPrice.text(this.$tableItems.find(".j-mortgage-payment").first().text()),this.show()}},{key:"show",value:function(){var e=this;setTimeout(function(){e.$wrap.addClass("is-ready")},150)}},{key:"hide",value:function(){this.$wrap.removeClass("is-ready")}},{key:"_onChangeSelect",value:function(e){this._changeBanks(e),this._setOrdersCount(),this._checkEmptyResult()}},{key:"_changeBanks",value:function(e){var t=this;this.hide();var n=e;Array.from(this.$tableItems).forEach(function(e){var i=Nn(e),o=i.attr("data-type");n===o||"all"===n?i.removeClass(t.className.hidden,t.className.loadmore):i.addClass(t.className.hidden)}),this.show()}},{key:"_onLeave",value:function(e){e.classList.remove("_show")}},{key:"_onEnter",value:function(e){e.classList.add("_show")}},{key:"_backToFilter",value:function(){var e=this;if(s.isMobile()){var t=this.wrap.querySelector(".mortgage-row__main");A.u.create({trigger:t,start:"top 80px",end:"bottom 80px",onEnter:function(){return e._onEnter(t)},onEnterBack:function(){return e._onEnter(t)},onLeave:function(){return e._onLeave(t)},onLeaveBack:function(){return e._onLeave(t)}})}}},{key:"loadMoreProgramm",value:function(){var e=this,t=this,n=this.$wrap.find(".mortgage-loadmore__button"),i=n.closest(".mortgage-loadmore__wrap"),o=n.find(".mortgage-loadmore__counter"),a=s.isMobile()?5:10,r=this.$tableItems.not(".".concat(t.className.hidden,", .").concat(this.className.disabled));n.removeClass(t.className.active);var l=r.sort(function(e,t){return+e.style.order-+t.style.order}),c=function(){l.not(".".concat(e.className.disabled)).addClass(t.className.loadmore),l.slice(0,a).removeClass(t.className.loadmore);var n=s.pluralWord(l.length-a,["ипотечную программы","ипотечные программы","ипотечных программ"]);o.text("Показать еще ".concat(l.length-a," ").concat(n)),l.length>a?i.show():i.hide()};c(),n.unbind(),n.on("click",function(e){e.preventDefault(),Nn(this).toggleClass(t.className.active),Nn(this).hasClass(t.className.active)?(l.not(".".concat(this.className.disabled)).removeClass(t.className.loadmore),o.text("Свернуть список")):c()})}}],i=[{key:"init",value:function(){var t=document.querySelectorAll("[data-mortgage]");t.length&&t.forEach(function(t){(new e).init(t)})}},{key:"initSlider",value:function(e){(new Ct).initRange({element:e})}},{key:"setInput",value:function(e,t){t.$input.val(e.toLocaleString("ru-Ru")),"limitation[min]"===t.$input.attr("name")&&t.$postfix.text(zn.decodePostfix(e))}},{key:"calcMonthlyPay",value:function(e){var t=e/12/100,n=12*zn.accessStorage("limitation[min]"),i=t*Math.pow(1+t,n)/(Math.pow(1+t,n)-1)*zn.accessStorage("creditAmount");return i<0?"—":i}},{key:"calcPaymentForBank",value:function(t){var n=t.find(".j-mortgage-rate").attr("data-rate");n=zn.getReplaceDotToNumber(n);var i=zn.isExist(e.calcMonthlyPay(n))?zn.calc("monthlyPaymentPretty",e.calcMonthlyPay(n),null):"—";t.find(".j-mortgage-payment").text(i);var o="—"!==i?e.calcMonthlyPay(n).toFixed():0;t.find(".j-mortgage-payment").attr("data-payment",o)}},{key:"setFirstPayResult",value:function(e){var t=+e.attr(".mortgage-filter__percent"),n=zn.accessStorage("price[min]",null),i=zn.calc("monthlyPaymentPretty",n*t/100);e.find(".j-mortgage-first-payment-val").text(i)}}],n&&$n(t.prototype,n),i&&$n(t,i),e}();function Gn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}j.os.registerPlugin(A.u);var Vn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.items=this.element.querySelectorAll("[data-scrolling-item"),this.sectionTrigger=this.element.closest("[data-scrolling-trigger"),this.breakpoint=1199}var t,n,i;return t=e,i=[{key:"init",value:function(){var t=document.querySelectorAll("[data-scrolling-list]");t.length&&t.forEach(function(t){new e({element:t}).init()})}}],(n=[{key:"init",value:function(){var e=this;s.isBreakpoint(0,this.breakpoint)||(this.trigger=A.u.create({animation:j.os.to(this.element,{scrollLeft:function(){return e.element.scrollWidth+90-s.getWindowWidth()},ease:"none"}),trigger:this.sectionTrigger,start:function(){return"50% 50%"},end:function(){return"+=".concat(.3*e.element.scrollWidth)},scrub:!0,pin:!0,anticipatePin:.5}))}}])&&Gn(t.prototype,n),i&&Gn(t,i),e}();function Xn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Zn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elementName="[data-slyscroll], .tab-buttons",this.elements=document.querySelectorAll(this.elementName)}var t,n,i;return t=e,i=[{key:"init",value:function(){(new e).init()}},{key:"scrollToActiveTab",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center";if(e&&t){var i=t.scrollWidth-t.clientWidth,o=.05*window.screen.width,a=null;"start"===n&&(a=e.offsetLeft-o),"center"===n&&(a=e.offsetLeft-(t.clientWidth-e.clientWidth)/2);var s=setInterval(function(){t.scrollLeft<a&&(t.scrollLeft+=15,(t.scrollLeft>=a||t.scrollLeft>=i)&&r()),t.scrollLeft>a&&(t.scrollLeft-=15,(t.scrollLeft<=a||t.scrollLeft<=0)&&r())},10),r=function(){clearInterval(s),s=null}}}}],(n=[{key:"init",value:function(){s.isDesktop()||this._bindEvents()}},{key:"_bindEvents",value:function(){this.elements.forEach(function(t){var n=t;Array.from(n.childNodes).filter(function(e){return"#text"!==e.nodeName}).forEach(function(t){t.addEventListener("click",function(t){var i=t.target;e.scrollToActiveTab(i,n,"center")})})})}},{key:"scrollToStart",value:function(e){if(e)var t=setInterval(function(){e.scrollLeft-=15,e.scrollLeft<=0&&clearInterval(t)},10)}}])&&Xn(t.prototype,n),i&&Xn(t,i),e}();function Un(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Yn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.get=window.location.search,this.cookies=X.A,this.getObject={},this.utm=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],this.utmID=[["ym_uid","_ym_uid"],["ga_uid","_ga"],["roistat_visit","roistat_visit"]],this.utmCookieCount=0}var t,n,i;return t=e,i=[{key:"init",value:function(){(new e).init()}}],(n=[{key:"init",value:function(){this._searchStringToObject(),Object.keys(this.getObject).length&&this._addUtmToCookie(),this._checkCookie(),this.utmCookieCount>0&&this._addUtmValueToInputs(),this._addToInputsFromUtmID()}},{key:"_searchStringToObject",value:function(){if(-1!==this.get.indexOf("&")){var e=this.get.slice(1).split("&");this.getObject=e.reduce(function(e,t){return(t=t.split("="))[0].includes("utm")&&(e[t[0]]=t[1]),e},{})}}},{key:"_addUtmToCookie",value:function(){for(var e in this.getObject){var t=this.getObject[e];this._setCookie(e,t)}}},{key:"_checkCookie",value:function(){var e=this;this.utm.forEach(function(t){e._getCookie(t)&&e.utmCookieCount++})}},{key:"_addUtmValueToInputs",value:function(){var e=this;this.formElems=document.querySelectorAll("form"),0!==this.formElems.length&&this.formElems.forEach(function(t){e.utm.forEach(function(n){var i=t.querySelector('input[name="'.concat(n,'"]'));if(i){var o=e._getCookie(n);o&&(i.value=o)}})})}},{key:"_addToInputsFromUtmID",value:function(){var e=this;this.formElems=document.querySelectorAll("form"),0!==this.formElems.length&&this.formElems.forEach(function(t){e.utmID.forEach(function(n){var i=t.querySelector('input[name="'.concat(n[0],'"]'));if(i){var o=e._getCookie(n[1]);o&&(i.value=o)}})})}},{key:"_setCookie",value:function(e,t){this.cookies.set(e,t,{expires:+this.cookieDuration})}},{key:"_getCookie",value:function(e){return this.cookies.get(e)}}])&&Un(t.prototype,n),i&&Un(t,i),e}();function Qn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Kn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=t.element,this.direction=t.direction||this.target.dataset.simpleScrollbar,this.bar='<div class="ss-scroll">',this.wrapper=document.createElement("div"),this.wrapper.setAttribute("class","ss-wrapper"),this.content=document.createElement("div"),this.content.setAttribute("class","ss-content"),this.wrapper.appendChild(this.content),this.content.appendChild(this.target.firstElementChild),this.target.appendChild(this.wrapper),this.target.insertAdjacentHTML("beforeend",this.bar),this.bar=this.target.lastChild}var t,n,i;return t=e,i=[{key:"init",value:function(){var t=document.querySelectorAll(".point-info__wrap");t.length&&t.forEach(function(t){new e({element:t,direction:"bottom"}).init()})}}],(n=[{key:"init",value:function(){this._addClassToContainer(),this._scrollbarGrabbed(),this._moveBar(),this._bindEvents()}},{key:"_bindEvents",value:function(){this.target.addEventListener("resize",this._moveBar.bind(this)),this.content.addEventListener("scroll",this._moveBar.bind(this)),this.content.addEventListener("mouseenter",this._moveBar.bind(this));var e=getComputedStyle(this.target);"0px"===e.height&&"0px"!==e["max-height"]&&(this.target.style.height=e["max-height"])}},{key:"_addClassToContainer",value:function(){this.target.classList.add("ss-container"),"left"===this.direction?this.target.classList.add("ss-left"):"bottom"===this.direction?this.target.classList.add("ss-bottom"):this.target.classList.add("ss-right")}},{key:"_scrollbarGrabbed",value:function(){var e,t=this,n=this,i=function(n){var i=n.pageY-e;e=n.pageY,t.content.scrollTop+=i/t.scrollRatio},o=function(){n.bar.classList.remove("ss-grabbed"),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",o)};this.target.addEventListener("mousedown",function(t){e=t.pageY,n.bar.classList.add("ss-grabbed"),document.addEventListener("mousemove",i),document.addEventListener("mouseup",o)})}},{key:"_moveBar",value:function(){"bottom"===this.direction?this._moveBarHorizontal():this._moveBarVertical()}},{key:"_moveBarVertical",value:function(){var e=this.content.scrollHeight,t=this.content.clientHeight;this.scrollRatio=t/e;var n="left"===this.direction?18:-1*(this.target.clientWidth-this.bar.clientWidth);this.scrollRatio>=1?this.bar.classList.add("ss-hidden"):(this.bar.classList.remove("ss-hidden"),this.bar.style.cssText="height:"+Math.max(100*this.scrollRatio,10)+"%; top:"+this.content.scrollTop/e*100+"%;right:"+n+"px;")}},{key:"_moveBarHorizontal",value:function(){var e=this.content.scrollWidth,t=this.content.clientWidth;this.scrollRatio=t/e;var n=this.target.clientHeight-this.bar.clientHeight-4,i=this.content.scrollLeft/e*100,o=98.5-Math.max(100*this.scrollRatio,10);i<2&&(i=1.5),i>o&&(i=o),this.scrollRatio>=1?this.target.classList.add("ss-bottom-hidden"):this.bar.style.cssText="width:"+Math.max(100*this.scrollRatio,10)+"%; left:"+i+"%;top:"+n+"px;"}}])&&Qn(t.prototype,n),i&&Qn(t,i),e}(),Jn=n(248),ei=n(600),ti=n(960);function ni(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ii=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.gallery=t.element,this.galleryOpt=t.settings}var t,n,i;return t=e,i=[{key:"init",value:function(){window.Realty={};var t=document.querySelectorAll("[data-gallery]");t.length&&t.forEach(function(t){new e({element:t}).init()}),window.Realty.updateGallery=function(){var t=document.querySelectorAll("[data-gallery]");t.length&&t.forEach(function(t){t.hasAttribute("data-lg-id")||new e({element:t}).init()})},document.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("j-realty-card-zoom")){var n=e.target.closest(".realty-card").querySelector("[data-gallery-item]");n&&(n.addEventListener("click",function(e){e.stopPropagation()}),n.click())}if(t.classList.contains("j-gallery-trigger-layouts-examles")){var i=e.target.closest(".layouts-examles__image-wrap"),o=i.querySelector("[data-gallery-item]");console.log("⟶ ",i,o),o&&(o.addEventListener("click",function(e){e.stopPropagation()}),o.click())}});var n=document.querySelector(".j-space-main-zoom");n&&n.addEventListener("click",function(e){var t=e.target.closest(".realty-space-main__plan").querySelector(".tab-content__item.is-active").querySelector("[data-gallery-item]");t&&t.click()})}}],(n=[{key:"init",value:function(){this.initGallery()}},{key:"initGallery",value:function(){var e=null;e=this.gallery.hasAttribute("data-gallery-item")?"this":this.gallery.classList.contains("j-gallery-slider")?".slick-slide:not(.slick-cloned) .j-gallery-item":"[data-gallery-item]",(0,Jn.A)(this.gallery,{plugins:[ei.A,ti.A],selector:e,licenseKey:"1111-1111-1111-1111",getCaptionFromTitleOrAlt:!1,zoomFromOrigin:!1,download:!1,mobileSettings:{controls:!0,showCloseIcon:!0,download:!1},youTubePlayerParams:{modestbranding:1,showinfo:0,rel:0}})}}])&&ni(t.prototype,n),i&&ni(t,i),e}();function oi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ai=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elem=t,this.openClass="is-open"}var t,n,i;return t=e,i=[{key:"init",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll(".j-share");t.length&&t.forEach(function(t){new e(t)._init()})}}],(n=[{key:"_init",value:function(){this.elem&&(this._initElements(),this._bindEvents())}},{key:"_initElements",value:function(){this.button=this.elem.querySelector(".j-share-button"),this.tooltipClose=this.elem.querySelector(".j-share-close"),this.copyUrl=this.elem.querySelector(".j-share-url"),this.copyUrlText=this.copyUrl.querySelector(".j-share-url-text")}},{key:"_bindEvents",value:function(){var e=this;this.button.addEventListener("click",this._toggleOpen.bind(this)),this.tooltipClose.addEventListener("click",this._toggleOpen.bind(this)),this.copyUrl.addEventListener("click",function(t){t.preventDefault(),e._copyUrl()}),s.clickOutside([".j-share"],this._close.bind(this),null,!0)}},{key:"_toggleOpen",value:function(){this.elem.classList.toggle(this.openClass),this._changeCopyText()}},{key:"_close",value:function(){this.elem.classList.contains(this.openClass)&&(this.elem.classList.remove(this.openClass),this._changeCopyText())}},{key:"_copyUrl",value:function(){var e=document.createElement("input");e.value=window.location.href,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this._changeCopyText(!0)}},{key:"_changeCopyText",value:function(e){this.copyUrlText.innerHTML=e?"Ссылка скопирована":"Скопировать ссылку"}}])&&oi(t.prototype,n),i&&oi(t,i),e}();function si(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var li=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,n=[{key:"init",value:function(e){this.options={},this.options.targets=e.targets,this.options.autoload=!1!==e.autoload,this.options.quality=e.quality||1.5,this.options.orientation=e.orientation||"portrait",this.options.pageBreak=e.pageBreak||".pdf__page-break",this.scriptInit=!1,this._bindEvents()}},{key:"_bindEvents",value:function(){var e=this;this.options.targets.forEach(function(t){t.addEventListener("click",e._start.bind(e))})}},{key:"_start",value:function(e){this._collectData(e),this._startPreloader(),this._getScript()}},{key:"_getScript",value:function(){var e=this;this.scriptInit?e._getHtml():s.addScript("https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js",{onload:function(){this.scriptInit=!0,e._getHtml()}})}},{key:"_collectData",value:function(e){this.currentTarget=e.currentTarget;var t=["ajax","element","file"];for(var n in this.dataset=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){ri(e,t,n[t])})}return e}({},this.currentTarget.dataset),this.currentTarget.hasAttribute("data-autoload")&&(this.options.autoload=!0),this.formData=new FormData,this.dataset)t.indexOf(n)<0&&this.formData.set(n,this.dataset[n])}},{key:"_getHtml",value:function(){if(this.dataset.element)return this.html=document.querySelector("".concat(this.dataset.element)).innerHTML,this._createContainer(),this._openPdf(),void this._stopPreloader();if(this.dataset.ajax){var e=this;s.send(this.formData,this.dataset.ajax,{success:function(t){e.html=t.html,e._createContainer(),e._openPdf(),e._stopPreloader()},error:function(e){console.error("Ошибка при получении данных для pdf - ".concat(e))},complete:function(){}})}}},{key:"_createContainer",value:function(){this.pdfContainer=document.createElement("div"),this.pdfContainer.innerHTML=this.html}},{key:"_openPdf",value:function(){var e=this,t={filename:this.dataset.file||"flat-pdf.pdf",html2canvas:{dpi:192,scale:this.options.quality,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:this.options.orientation,compress:!0},pagebreak:{after:this.options.pageBreak}};return new Promise(function(n){e.options.autoload?html2pdf().set(t).from(e.pdfContainer).save().then(function(){n()}):html2pdf().set(t).from(e.pdfContainer).toPdf().get("pdf").then(function(e){window.open(e.output("bloburl"),"_blank"),n()})})}},{key:"_startPreloader",value:function(){this.currentTarget.classList.add("is-loading")}},{key:"_stopPreloader",value:function(){this.currentTarget.classList.remove("is-loading")}}],i=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=Array.from(t.querySelectorAll(".j-html2pdf"));n.length&&(new e).init({targets:n,autoload:!1})}}],n&&si(t.prototype,n),i&&si(t,i),e}();function ci(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ui=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.link=t.element,this.id=this.link.getAttribute("href"),this.popupContent=null,this.html=document.querySelector("html"),this.body=document.body}var t,n,i;return t=e,i=[{key:"init",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll("[data-popup-bottom-link]");t.length&&t.forEach(function(t){new e({element:t}).init()})}}],(n=[{key:"init",value:function(){this._bindLinkEvents()}},{key:"_bindLinkEvents",value:function(){this.link.addEventListener("click",this._openPopup.bind(this))}},{key:"_bindContentEvents",value:function(){this.overlay.addEventListener("click",this._popupClose.bind(this)),this.closeButton.addEventListener("click",this._popupClose.bind(this))}},{key:"_openPopup",value:function(e){e.preventDefault(),this._getContent(this.id),this.popupContent&&(s.bodyFixed(this.popupContent),this._setTemplate(this.popupContent),this._insertTemplate(),this._getElements(),this.popupTop.style.display="flex",this.popupTop.classList.add("_show"),this.html.classList.add("_open-popup-bottom"))}},{key:"_popupClose",value:function(){var e=this;this.popupTop.classList.add("_hide"),setTimeout(function(){e.popupTop.classList.remove("_show"),e.popupTop.classList.remove("_hide"),e.html.classList.add("_open-popup-bottom"),e.popupTop.style.display="none",s.bodyStatic(),e._removeTemplate()},300)}},{key:"_getContent",value:function(e){this.popupContent=document.querySelector(e),this.popupContent||console.error("[PopupBottom]: Упсс... не найден попап ",e)}},{key:"_getElements",value:function(){this.popupTop=document.querySelector(".popup-bottom-top"),this.overlay=this.popupTop.querySelector(".popup-bottom__overlay"),this.closeButton=this.popupTop.querySelector(".popup-bottom__content-close"),this._bindContentEvents()}},{key:"_setTemplate",value:function(e){this.template='<div class="popup-bottom-top">'.concat(e.innerHTML,"</div>")}},{key:"_insertTemplate",value:function(){this.body.insertAdjacentHTML("afterbegin",this.template)}},{key:"_removeTemplate",value:function(){s.removeElement(this.popupTop)}}])&&ci(t.prototype,n),i&&ci(t,i),e}(),hi=n(692);function di(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var pi=new g,fi=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element}var t,n,i;return t=e,i=[{key:"init",value:function(){var t=document.querySelectorAll(".realty-filtres__form");t.length&&t.forEach(function(t){new e({element:t}).init()})}}],(n=[{key:"init",value:function(){this.trigger=this.element.querySelector(".realty-filtres__controls-button-reset"),this.trigger&&(this.selectAll=this.element.querySelectorAll(".j-select"),this.checkboxAll=this.element.querySelectorAll('input[type="checkbox"]'),this._bindEvents())}},{key:"_bindEvents",value:function(){this.trigger.addEventListener("click",this._resetElems.bind(this))}},{key:"_resetElems",value:function(){pi.publish("resetFilter",this.element),this.checkboxAll&&this.checkboxAll.forEach(function(e){e.checked=!1}),this.selectAll&&this.selectAll.forEach(function(e){var t=e.querySelector("option").value;hi(e).val(t).trigger("change.select2")})}}])&&di(t.prototype,n),i&&di(t,i),e}(),mi=n(751),vi=n(641),yi={class:"chess",ref:"chess"};var gi=n(33),bi={class:"v-error__inner"},_i={class:"v-error__icon"},ki={class:"v-error__text"};var wi=n(124);var Si={props:["className"]},Ei=n(262);function Ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oi={components:{iconError:(0,Ei.A)(Si,[["render",function(e,t,n,i,o,a){return(0,vi.uX)(),(0,vi.CE)("svg",{class:(0,gi.C4)(n.className),fill:"#6f6f83",viewBox:"-72 0 480 480"},t[0]||(t[0]=[(0,vi.Lk)("path",{d:"m100.6875 0-100.6875 100.6875v379.3125h336v-480zm-4.6875 27.3125v68.6875h-68.6875zm224 436.6875h-304v-352h96v-96h208zm0 0"},null,-1),(0,vi.Lk)("path",{d:"m126.625 190.054688-22.625 22.632812-22.625-22.632812-11.3125 11.3125 22.625 22.632812-22.625 22.632812 11.3125 11.3125 22.625-22.632812 22.625 22.632812 11.3125-11.3125-22.625-22.632812 22.625-22.632812zm0 0"},null,-1),(0,vi.Lk)("path",{d:"m201.375 257.945312 22.625-22.632812 22.625 22.632812 11.3125-11.3125-22.625-22.632812 22.625-22.632812-11.3125-11.3125-22.625 22.632812-22.625-22.632812-11.3125 11.3125 22.625 22.632812-22.625 22.632812zm0 0"},null,-1),(0,vi.Lk)("path",{d:"m98.34375 330.34375 11.3125 11.3125 7.433594-7.433594c28.136718-28.0625 73.683594-28.0625 101.820312 0l7.433594 7.433594 11.3125-11.3125-7.433594-7.433594c-34.386718-34.308594-90.058594-34.308594-124.445312 0zm0 0"},null,-1)]),2)}]])},data:function(){return{message:"Что-то пошло не так"}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Ci(e,t,n[t])})}return e}({},(0,wi.L8)({error:"GET_IS_ERROR"}))};var Li=(0,Ei.A)(Oi,[["render",function(e,t,n,i,o,a){var s=(0,vi.g2)("iconError");return(0,vi.uX)(),(0,vi.CE)("div",{class:(0,gi.C4)(["v-error",{"is-show":e.error}])},[(0,vi.Lk)("div",bi,[(0,vi.Lk)("div",_i,[(0,vi.bF)(s)]),(0,vi.Lk)("span",ki,(0,gi.v_)(o.message),1)])],2)}],["__scopeId","data-v-bfec022c"]]),Pi={class:"chess__results-heading"},xi={class:"chess__results-body"},Ti={class:"chess__results-content _default"},ji={class:"chess__results-content-inner"},Ai={class:"chess__results-content-bottom"};var Ii={class:"chess__statuses"};var Mi={data:function(){return{statuses:{available:{name:"СВОБОДНО",class:"AVAILABLE"},booked:{name:"ЗАБРОНИРОВАНО",class:"BOOKED"},reserved:{name:"РЕЗЕРВ",class:"RESERVED"},sold:{name:"ПРОДАНО",class:"SOLD"}}}}};var Di=(0,Ei.A)(Mi,[["render",function(e,t,n,i,o,a){return(0,vi.uX)(),(0,vi.CE)("div",Ii,[((0,vi.uX)(!0),(0,vi.CE)(vi.FK,null,(0,vi.pI)(o.statuses,function(e,t){return(0,vi.uX)(),(0,vi.CE)("div",{class:(0,gi.C4)(["chess__statuses-item",e.class])},(0,gi.v_)(e.name),3)}),256))])}],["__scopeId","data-v-246a3c1a"]]),Bi={key:0,class:"v-tab v-tab--light"},qi={class:"v-tab-buttons"},Ni=["onClick"];function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Ri(e,t,n[t])})}return e}var Hi,Fi,zi={computed:$i({},(0,wi.L8)({buildings:"GET_BUILDINGS"})),methods:(Hi=$i({},(0,wi.i0)(["send"])),Fi={setBuilding:function(e){var t={type:"building",buildingId:e};this.send(t)}},Fi=null!=Fi?Fi:{},Object.getOwnPropertyDescriptors?Object.defineProperties(Hi,Object.getOwnPropertyDescriptors(Fi)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}(Object(Fi)).forEach(function(e){Object.defineProperty(Hi,e,Object.getOwnPropertyDescriptor(Fi,e))}),Hi)};var Wi=(0,Ei.A)(zi,[["render",function(e,t,n,i,o,a){return e.buildings.length?((0,vi.uX)(),(0,vi.CE)("div",Bi,[(0,vi.Lk)("div",qi,[((0,vi.uX)(!0),(0,vi.CE)(vi.FK,null,(0,vi.pI)(e.buildings,function(e){return(0,vi.uX)(),(0,vi.CE)("div",{class:(0,gi.C4)(["v-tab-button__item",{"is-active":e.active}])},[(0,vi.Lk)("button",{class:"v-tab-button _icon",type:"button",onClick:function(t){return a.setBuilding(e.buildingId)}},[(0,vi.eW)((0,gi.v_)(e.name)+" ",1),t[0]||(t[0]=(0,vi.Lk)("i",{class:"icon-chevron-right"},null,-1))],8,Ni)],2)}),256))])])):(0,vi.Q3)("",!0)}],["__scopeId","data-v-7f2c9ab6"]]);function Gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xi(e){return function(e){if(Array.isArray(e))return Gi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Zi={computed:function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Vi(e,t,n[t])})}return e}({},(0,wi.L8)({options:"GET_OPTIONS",sections:"GET_SECTIONS"})),{floorsCount:function(){var e,t=[],n=[];this.sections.forEach(function(e){t.push(e.floors.length)});for(var i=t.length&&(e=Math).max.apply(e,Xi(t)),o=0;o<i;o++)n.push(o+1);return n.reverse()}})};var Ui=(0,Ei.A)(Zi,[["render",function(e,t,n,i,o,a){return(0,vi.uX)(),(0,vi.CE)("div",{class:(0,gi.C4)(["chess__floor-numbers","_"+e.options.themeFlat])},[((0,vi.uX)(!0),(0,vi.CE)(vi.FK,null,(0,vi.pI)(a.floorsCount,function(e,t){return(0,vi.uX)(),(0,vi.CE)("div",{class:"chess__floor-number",key:e},(0,gi.v_)(e),1)}),128))],2)}],["__scopeId","data-v-6d4875c0"]]),Yi={class:"chess__slider-wrap"},Qi={class:"chess__sections"},Ki={class:"chess__slider-buttons"},Ji={ref:"prev",class:"chess__slider-button swiper-button-prev"},eo={ref:"next",class:"chess__slider-button swiper-button-next"};function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function no(e){return function(e){if(Array.isArray(e))return to(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return to(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return to(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var io={class:"chess__section-title"},oo={class:"chess__section-floors"},ao=["href","onMouseover","onClick"],so={class:"chess__flat-number"},ro={class:"chess__flat-bottom"},lo={class:"chess__flat-type"},co={class:"chess__flat-area"};function uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ho=new g,po={props:["sectionId"],data:function(){return{clickCount:0}},computed:function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){uo(e,t,n[t])})}return e}({},(0,wi.L8)({sections:"GET_SECTIONS",options:"GET_OPTIONS"})),{currentSection:function(){var e=this;return Array.from(this.sections).find(function(t){return Number(t.id)===Number(e.sectionId)})}}),methods:{getTypeFlat:function(e){return e.studios?"СТ":e.rooms+"К"},mouseOverHandler:function(e,t,n,i){s.isBreakpoint(0,1199)?ho.publish("mouseoverPanel",{id:e,link:t,event:n,flat:i}):ho.publish("mouseoverTooltip",{id:e,event:n,flat:i})},mouseMoveHandler:function(e){s.isBreakpoint(0,1199)||ho.publish("mousemoveTooltip",e)},mouseLeaveHandler:function(e){s.isBreakpoint(0,1199)?this.clickCount=0:ho.publish("mouseleaveTooltip")},clickHandler:function(e,t,n){s.isBreakpoint(0,1199)?(this.clickCount=this.clickCount+1,this.clickCount%2==0&&window.open(e,"_self"),ho.publish("mouseclickTooltip")):"SOLD"===t||"DISABLE"===t?n.preventDefault():(ho.publish("mouseclickTooltip"),window.open(e,"_self"))}}};const fo=(0,Ei.A)(po,[["render",function(e,t,n,i,o,a){return(0,vi.uX)(),(0,vi.CE)("div",{class:(0,gi.C4)(["chess__section",e.options.themeFlat])},[(0,vi.Lk)("div",io,(0,gi.v_)(a.currentSection.title),1),(0,vi.Lk)("div",oo,[((0,vi.uX)(!0),(0,vi.CE)(vi.FK,null,(0,vi.pI)(a.currentSection.floors.slice().reverse(),function(e){return(0,vi.uX)(),(0,vi.CE)("div",{class:"chess__section-floor",key:e.id},[((0,vi.uX)(!0),(0,vi.CE)(vi.FK,null,(0,vi.pI)(e.flats,function(e){var n,i;return(0,vi.uX)(),(0,vi.CE)("div",{class:"chess__section-flat",key:e.id},[(0,vi.Lk)("div",{href:e.link,class:(0,gi.C4)(["chess__flat",e.status,{sale:e.price.priceSale}]),onMouseover:function(t){return a.mouseOverHandler(e.id,e.link,t,e)},onMousemove:t[0]||(t[0]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return a.mouseMoveHandler&&(n=a).mouseMoveHandler.apply(n,no(t))}),onMouseleave:t[1]||(t[1]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.mouseLeaveHandler&&(i=a).mouseLeaveHandler.apply(i,no(t))}),onClick:function(t){return a.clickHandler(e.link,e.status,t)}},[(0,vi.Lk)("div",so,"№ "+(0,gi.v_)(e.number),1),(0,vi.Lk)("div",ro,[(0,vi.Lk)("div",lo,(0,gi.v_)(a.getTypeFlat(e)),1),(0,vi.Lk)("div",co,[(0,vi.eW)((0,gi.v_)(e.area)+" м",1),t[2]||(t[2]=(0,vi.Lk)("sup",null,"2",-1))])])],42,ao)])}),128))])}),128))])],2)}],["__scopeId","data-v-5f3bcb05"]]);var mo=fo;var vo={props:["className"]};var yo=(0,Ei.A)(vo,[["render",function(e,t,n,i,o,a){return(0,vi.uX)(),(0,vi.CE)("svg",{class:(0,gi.C4)(n.className),width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t[0]||(t[0]=[(0,vi.Lk)("path",{d:"M7 13L1 7L7 1",stroke:"#2E3443","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]),2)}]]);var go={props:["className"]};var bo=(0,Ei.A)(go,[["render",function(e,t,n,i,o,a){return(0,vi.uX)(),(0,vi.CE)("svg",{class:(0,gi.C4)(n.className),width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t[0]||(t[0]=[(0,vi.Lk)("path",{d:"M1 13L7 7L1 1",stroke:"#2E3443","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]),2)}]]),_o=n(83),ko={send:function(e,t){e.commit("SET_IS_ERROR",!1),e.commit("SET_IS_PROCESSING",!0),e.commit("SET_FORM_DATA",t),_o.A.post("/api/chess_search",this.getters.GET_FORM_DATA).then(function(t){var n=t.data.data;e.commit("SET_DATA",n),e.commit("SET_IS_PROCESSING",!1),e.commit("SET_IS_READY")}).catch(function(t){e.commit("SET_IS_ERROR",!0),console.error("При получении данных произошла ошибка ".concat(t))})}};function wo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var So=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getData",value:function(e,t){return e.data[t]?e.data[t]:{}}},{key:"keyExist",value:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},{key:"getElementOffset",value:function(e){var t=document.documentElement,n=e.getBoundingClientRect();return{top:n.top+window.scrollY-t.clientTop,left:n.left+window.scrollX-t.clientLeft}}},{key:"isLocal",value:function(){return 0===window.location.href.indexOf("http://localhost:")}},{key:"convertToDigit",value:function(e){return Number(e)?Number(e).toLocaleString("ru-Ru"):e}},{key:"getStatusName",value:function(e){var t="";switch(e){case"BOOKED":t="ЗАБРОНИРОВАНО";break;case"RESERVED":t="РЕЗЕРВ";break;case"SOLD":t="ПРОДАНО";break;case"DISABLE":t="ОТФИЛЬТРОВАНО";break;default:t="СВОБОДНО"}return t}}],(n=null)&&wo(t.prototype,n),i&&wo(t,i),e}(),Eo={GET_FORM_DATA:function(e){return e.formData},GET_BUILDINGS:function(e){return So.getData(e,"buildings")},GET_FREE_FLATS:function(e){return So.getData(e,"freeFlats")},GET_SECTIONS:function(e){return So.getData(e,"sections")},GET_OPTIONS:function(e){return So.getData(e,"options")},GET_IS_PROCESSING:function(e){return e.isProc},GET_IS_ERROR:function(e){return e.isError},GET_IS_READY:function(e){return e.isReady},GET_IS_OVERLAY:function(e){return e.isOverlay}},Co={SET_DATA:function(e,t){e.data=t},SET_FORM_DATA:function(e,t){var n=t;for(var i in e.formData=new FormData,n)So.keyExist(n,i)&&e.formData.append(i,n[i])},SET_IS_PROCESSING:function(e,t){e.isProc=t},SET_IS_ERROR:function(e,t){e.isError=t},SET_IS_READY:function(e){e.isReady=!0},SET_IS_OVERLAY:function(e,t){e.isOverlay=t}},Oo=!1,Lo=(0,wi.y$)({state:function(){return{data:{buildings:[],freeFlats:"",sections:[],options:{}},formData:{},isProc:!1,isReady:!1,isError:!1,isOverlay:!1}},getters:Eo,actions:ko,mutations:Co,strict:Oo,plugins:[]}),Po=n(720);function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var To={inject:["$appOptions"],components:{Section:mo,iconArrowLeft:yo,iconArrowRight:bo,Swiper:Po.RC,SwiperSlide:Po.qr},data:function(){return{modules:[ve.Vx],swiper:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){xo(e,t,n[t])})}return e}({},(0,wi.L8)({sections:"GET_SECTIONS"})),methods:{onSwiper:function(e){this.swiper=e,this.swiper.update()}},watch:{sections:function(){var e=this;this.swiper.slideTo(0,0),setTimeout(function(){e.swiper.update()},600)}},mounted:function(){var e={};e=this.$appOptions.json?JSON.parse(this.$appOptions.jsonParams):{type:"init"},Lo.dispatch("send",e)}};var jo=(0,Ei.A)(To,[["render",function(e,t,n,i,o,a){var s=(0,vi.g2)("Section"),r=(0,vi.g2)("swiper-slide"),l=(0,vi.g2)("swiper"),c=(0,vi.g2)("iconArrowLeft"),u=(0,vi.g2)("iconArrowRight");return(0,vi.uX)(),(0,vi.CE)("div",Yi,[(0,vi.bF)(l,{modules:o.modules,slidesPerView:"auto",spaceBetween:32,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},onSwiper:a.onSwiper,ref:"swiper",class:"chess__slider"},{default:(0,vi.k6)(function(){return[((0,vi.uX)(!0),(0,vi.CE)(vi.FK,null,(0,vi.pI)(e.sections,function(e){return(0,vi.uX)(),(0,vi.Wv)(r,{key:e.id},{default:(0,vi.k6)(function(){return[(0,vi.Lk)("div",Qi,[(0,vi.bF)(s,{sectionId:e.id},null,8,["sectionId"])])]}),_:2},1024)}),128))]}),_:1},8,["modules","onSwiper"]),(0,vi.Lk)("div",Ki,[(0,vi.Lk)("div",Ji,[(0,vi.bF)(c)],512),(0,vi.Lk)("div",eo,[(0,vi.bF)(u)],512)])])}],["__scopeId","data-v-3c9ad236"]]),Ao={class:"chess__tooltip-plan"},Io={key:0,class:"chess__tooltip-tags"},Mo=["src"],Do={class:"chess__tooltip-title"},Bo={key:0,class:"chess__tooltip-subtitle"},qo={key:1,class:"chess__tooltip-status"},No={class:"chess__tooltip-params"},Ro={key:0,class:"chess__tooltip-params-item"},$o={class:"chess__tooltip-params-value"},Ho={key:1,class:"chess__tooltip-params-item"},Fo={class:"chess__tooltip-params-value"},zo={key:0,class:"chess__tooltip-price-top"},Wo={class:"chess__tooltip-price-old"},Go={class:"chess__tooltip-price-discont"},Vo={class:"chess__tooltip-price-bottom"},Xo={class:"chess__tooltip-price-price"},Zo={class:"chess__tooltip-price-meter"};function Uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Uo(e,t,n[t])})}return e}var Qo=new g,Ko={data:function(){return{visible:!1,tooltip:!1,direction:!1,timeoutID:void 0,x:0,y:0}},watch:{tooltip:function(){var e=this;this.$nextTick(function(){e.wrapper=e.$refs.wrapper,e.parent=e.wrapper.closest(".chess__results-content-inner"),e.checkBorders(),e.setX(),e.setY()})}},computed:function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(Yo({},(0,wi.L8)({options:"GET_OPTIONS"})),{getStatusName:function(){return So.getStatusName(this.tooltip.status)},getDiscont:function(){return this.tooltip.price.value-this.tooltip.price.priceSale}}),mounted:function(){var e=this;Qo.subscribe("mouseoverTooltip",function(t){e.insert(t)}),Qo.subscribe("mousemoveTooltip",function(t){e.change(t)}),Qo.subscribe("mouseleaveTooltip",function(){e.remove()}),Qo.subscribe("mouseclickTooltip",function(){e.remove()})},methods:{insert:function(e){this.direction=e.direction||"over",this.offset=20,this.getMouseCoords(e.event),this.setData(e),this.visible=!0,clearTimeout(this.timeoutID)},change:function(e){this.getMouseCoords(e),this.checkBorders(),this.setX(),this.setY()},remove:function(){var e=this;this.timeoutID=setTimeout(function(){e.visible=!1},600)},getMouseCoords:function(e){this.mouseCoords={X:e.pageX,Y:e.pageY}},setData:function(e){this.tooltip=Yo({},e.flat)},checkBorders:function(){var e=this,t=0,n=0;this.mouseCoords={X:this.mouseCoords.X-So.getElementOffset(this.parent).left,Y:this.mouseCoords.Y-So.getElementOffset(this.parent).top};t=e.mouseCoords.Y,n=e.wrapper.offsetHeight/2+e.offset,t<n&&(this.direction="under"),t=e.parent.innerWidth-e.mouseCoords.X,n=e.wrapper.offsetWidth/2+e.offset,t<n&&(this.direction="left"),t=e.mouseCoords.X,n=e.wrapper.offsetWidth/2-e.offset,t<n&&(this.direction="right")},setX:function(){switch(this.direction){case"over":case"under":default:this.x=this.mouseCoords.X-this.wrapper.offsetWidth/2;break;case"left":this.x=this.mouseCoords.X-this.wrapper.offsetWidth-this.offset;break;case"right":this.x=this.mouseCoords.X+this.offset}},setY:function(){switch(this.direction){case"over":default:this.y=this.mouseCoords.Y-this.wrapper.offsetHeight-this.offset;break;case"under":this.y=this.mouseCoords.Y+this.offset;break;case"left":case"right":this.y=this.mouseCoords.Y-this.wrapper.offsetHeight/2}},convertPriceDigit:function(e){return So.convertToDigit(e)}}};var Jo=(0,Ei.A)(Ko,[["render",function(e,t,n,i,o,a){return(0,vi.uX)(),(0,vi.Wv)(mi.eB,{name:"fade"},{default:(0,vi.k6)(function(){return[o.visible?((0,vi.uX)(),(0,vi.CE)("div",{key:0,class:(0,gi.C4)(["chess__tooltip","is-".concat(o.direction),e.options.themeTooltip]),style:(0,gi.Tr)([{top:"".concat(o.y,"px")},{left:"".concat(o.x,"px")}]),ref:"wrapper"},[(0,vi.Lk)("div",Ao,[o.tooltip.tags?((0,vi.uX)(),(0,vi.CE)("div",Io,[((0,vi.uX)(!0),(0,vi.CE)(vi.FK,null,(0,vi.pI)(o.tooltip.tags,function(e){return(0,vi.uX)(),(0,vi.CE)("span",{key:e.name,class:(0,gi.C4)(["chess__tooltip-tags-item",{_share:"share"===e.type}])},(0,gi.v_)(e.name),3)}),128))])):(0,vi.Q3)("",!0),(0,vi.Q3)("",!0),(0,vi.Lk)("img",{class:"chess__tooltip-plan-image",src:o.tooltip.plan,alt:"Планировка"},null,8,Mo)]),(0,vi.Lk)("div",Do,(0,gi.v_)(o.tooltip.title),1),o.tooltip.subtitle?((0,vi.uX)(),(0,vi.CE)("div",Bo,(0,gi.v_)(o.tooltip.subtitle),1)):(0,vi.Q3)("",!0),o.tooltip.status?((0,vi.uX)(),(0,vi.CE)("div",qo,[t[1]||(t[1]=(0,vi.Lk)("div",{class:"chess__tooltip-status-name"},"Статус",-1)),(0,vi.Lk)("div",{class:(0,gi.C4)(["chess__tooltip-status-value",o.tooltip.status])},(0,gi.v_)(a.getStatusName),3)])):(0,vi.Q3)("",!0),(0,vi.Lk)("div",No,[o.tooltip.section?((0,vi.uX)(),(0,vi.CE)("div",Ro,[t[2]||(t[2]=(0,vi.Lk)("span",{class:"chess__tooltip-params-name"},"Секция",-1)),(0,vi.Lk)("span",$o,(0,gi.v_)(o.tooltip.section),1)])):(0,vi.Q3)("",!0),o.tooltip.floorNumber?((0,vi.uX)(),(0,vi.CE)("div",Ho,[t[3]||(t[3]=(0,vi.Lk)("span",{class:"chess__tooltip-params-name"},"Этаж",-1)),(0,vi.Lk)("span",Fo,(0,gi.v_)(o.tooltip.floorNumber),1)])):(0,vi.Q3)("",!0)]),o.tooltip.price.value?((0,vi.uX)(),(0,vi.CE)("div",{key:2,class:(0,gi.C4)(["chess__tooltip-price",{sale:o.tooltip.price.priceSale}])},[o.tooltip.price.priceSale?((0,vi.uX)(),(0,vi.CE)("div",zo,[(0,vi.Lk)("div",Wo,(0,gi.v_)(a.convertPriceDigit(o.tooltip.price.value))+" ₽",1),(0,vi.Lk)("div",Go,"-"+(0,gi.v_)(a.convertPriceDigit(a.getDiscont))+" ₽",1)])):(0,vi.Q3)("",!0),(0,vi.Lk)("div",Vo,[(0,vi.Lk)("div",Xo,(0,gi.v_)(a.convertPriceDigit(o.tooltip.price.priceSale?o.tooltip.price.priceSale:o.tooltip.price.value))+" ₽ ",1),(0,vi.Lk)("div",Zo,[(0,vi.eW)((0,gi.v_)(a.convertPriceDigit(o.tooltip.price.pricePerMeter))+" ₽ / м",1),t[4]||(t[4]=(0,vi.Lk)("sup",null,"2",-1))])])],2)):(0,vi.Q3)("",!0)],6)):(0,vi.Q3)("",!0)]}),_:1})}]]);function ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ta={computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){ea(e,t,n[t])})}return e}({},(0,wi.L8)({state:"GET_IS_PROCESSING"}))};function na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ia={components:{Statuses:Di,Buildings:Wi,Sections:jo,FloorNumbers:Ui,Tooltip:Jo,Preloader:(0,Ei.A)(ta,[["render",function(e,t,n,i,o,a){return(0,vi.uX)(),(0,vi.CE)("div",{class:(0,gi.C4)(["preloader",{"is-hidden":!e.state}])},t[0]||(t[0]=[(0,vi.Lk)("div",{class:"preloader__spinner"},null,-1)]),2)}],["__scopeId","data-v-62902472"]])},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){na(e,t,n[t])})}return e}({},(0,wi.L8)({freeFalts:"GET_FREE_FLATS",isProc:"GET_IS_PROCESSING"}))};var oa=(0,Ei.A)(ia,[["render",function(e,t,n,i,o,a){var s=(0,vi.g2)("Statuses"),r=(0,vi.g2)("Buildings"),l=(0,vi.g2)("Preloader"),c=(0,vi.g2)("FloorNumbers"),u=(0,vi.g2)("Sections"),h=(0,vi.g2)("Tooltip");return(0,vi.uX)(),(0,vi.CE)("div",{class:(0,gi.C4)(["chess__results-wrapper",{"is-hidden":e.isProc}])},[(0,vi.Lk)("div",Pi,[(0,vi.bF)(s),(0,vi.bF)(r)]),(0,vi.Lk)("div",xi,[(0,vi.bF)(l),(0,vi.Lk)("div",Ti,[(0,vi.bF)(c),(0,vi.Lk)("div",ji,[(0,vi.bF)(u),(0,vi.bF)(h)]),(0,vi.Lk)("div",Ai," Свободно: "+(0,gi.v_)(e.freeFalts),1)])])],2)}],["__scopeId","data-v-72507e82"]]),aa={key:0,class:"chess__overlay"};function sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ra={computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){sa(e,t,n[t])})}return e}({},(0,wi.L8)({overlay:"GET_IS_OVERLAY"}))};var la=(0,Ei.A)(ra,[["render",function(e,t,n,i,o,a){return(0,vi.uX)(),(0,vi.Wv)(mi.eB,{name:"overlay"},{default:(0,vi.k6)(function(){return[e.overlay?((0,vi.uX)(),(0,vi.CE)("div",aa)):(0,vi.Q3)("",!0)]}),_:1})}],["__scopeId","data-v-3d7d3c7e"]]);function ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ua(e){return function(e){if(Array.isArray(e))return ca(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ca(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ca(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ha={class:"chess__panel-inner"},da={class:"chess__panel-close"},pa={class:"chess__tooltip-plan"},fa={key:0,class:"chess__tooltip-tags"},ma=["src"],va={class:"chess__tooltip-title"},ya={key:0,class:"chess__tooltip-subtitle"},ga={key:1,class:"chess__tooltip-status"},ba={class:"chess__tooltip-params"},_a={key:0,class:"chess__tooltip-params-item"},ka={class:"chess__tooltip-params-value"},wa={key:1,class:"chess__tooltip-params-item"},Sa={class:"chess__tooltip-params-value"},Ea={key:0,class:"chess__tooltip-price-top"},Ca={class:"chess__tooltip-price-old"},Oa={class:"chess__tooltip-price-discont"},La={class:"chess__tooltip-price-bottom"},Pa={class:"chess__tooltip-price-price"},xa={class:"chess__tooltip-price-meter"},Ta={key:3,class:"chess__panel-button"};var ja={props:["className"]};var Aa=(0,Ei.A)(ja,[["render",function(e,t,n,i,o,a){return(0,vi.uX)(),(0,vi.CE)("svg",{class:(0,gi.C4)(n.className),width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t[0]||(t[0]=[(0,vi.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.41075 4.41083C4.73618 4.08539 5.26382 4.08539 5.58926 4.41083L10 8.82157L14.4107 4.41083C14.7362 4.08539 15.2638 4.08539 15.5893 4.41083C15.9147 4.73626 15.9147 5.2639 15.5893 5.58934L11.1785 10.0001L15.5893 14.4108C15.9147 14.7363 15.9147 15.2639 15.5893 15.5893C15.2638 15.9148 14.7362 15.9148 14.4107 15.5893L10 11.1786L5.58926 15.5893C5.26382 15.9148 4.73618 15.9148 4.41075 15.5893C4.08531 15.2639 4.08531 14.7363 4.41075 14.4108L8.82149 10.0001L4.41075 5.58934C4.08531 5.2639 4.08531 4.73626 4.41075 4.41083Z",fill:"#2E3443"},null,-1)]),2)}]]),Ia=n(15);function Ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Ma(e,t,n[t])})}return e}var Ba=new g,qa={inject:["$appOptions"],components:{iconClose:Aa,VueFinalModal:Ia.AM},data:function(){return{visible:!1,panel:!1}},computed:function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(Da({},(0,wi.L8)({options:"GET_OPTIONS"})),{getDiscont:function(){return this.panel.price.value-this.panel.price.priceSale},getStatusName:function(){return So.getStatusName(this.panel.status)}}),mounted:function(){var e=this;Ba.subscribe("mouseoverPanel",function(t){e.insert(),e.setData(t)}),Ba.subscribe("mouseleavePanel",function(){e.remove()})},methods:{insert:function(){this.visible=!0},remove:function(){this.visible=!1},setData:function(e){this.panel=Da({},e.flat)},convertPriceDigit:function(e){return So.convertToDigit(e)},toNextStep:function(e){window.open(e,"_self")}}};const Na=(0,Ei.A)(qa,[["render",function(e,t,n,i,o,a){var s,r=(0,vi.g2)("iconClose"),l=(0,vi.g2)("VueFinalModal");return(0,vi.uX)(),(0,vi.Wv)(l,{modelValue:o.visible,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.visible=e}),overlayTransition:"vfm-fade",contentTransition:"vfm-slide-down",class:"chess__modal"},{default:(0,vi.k6)(function(){return[(0,vi.Lk)("div",{class:(0,gi.C4)(["chess__panel",e.options.themeTooltip])},[(0,vi.Lk)("div",ha,[(0,vi.Lk)("div",da,[(0,vi.Lk)("div",{class:"chess__panel-close-btn","aria-label":"Закрыть",onClick:t[0]||(t[0]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.remove&&(s=a).remove.apply(s,ua(t))})},[(0,vi.bF)(r)])]),(0,vi.Lk)("div",pa,[o.panel.tags?((0,vi.uX)(),(0,vi.CE)("div",fa,[((0,vi.uX)(!0),(0,vi.CE)(vi.FK,null,(0,vi.pI)(o.panel.tags,function(e){return(0,vi.uX)(),(0,vi.CE)("span",{key:e.name,class:(0,gi.C4)(["chess__tooltip-tags-item",{_share:"share"===e.type}])},(0,gi.v_)(e.name),3)}),128))])):(0,vi.Q3)("",!0),(0,vi.Q3)("",!0),(0,vi.Lk)("img",{class:"chess__tooltip-plan-image",src:o.panel.plan,alt:"Планировка"},null,8,ma)]),(0,vi.Lk)("div",va,(0,gi.v_)(o.panel.title),1),o.panel.subtitle?((0,vi.uX)(),(0,vi.CE)("div",ya,(0,gi.v_)(o.panel.subtitle),1)):(0,vi.Q3)("",!0),o.panel.status?((0,vi.uX)(),(0,vi.CE)("div",ga,[t[4]||(t[4]=(0,vi.Lk)("div",{class:"chess__tooltip-status-name"},"Статус",-1)),(0,vi.Lk)("div",{class:(0,gi.C4)(["chess__tooltip-status-value",o.panel.status])},(0,gi.v_)(a.getStatusName),3)])):(0,vi.Q3)("",!0),(0,vi.Lk)("div",ba,[o.panel.section?((0,vi.uX)(),(0,vi.CE)("div",_a,[t[5]||(t[5]=(0,vi.Lk)("span",{class:"chess__tooltip-params-name"},"Секция",-1)),(0,vi.Lk)("span",ka,(0,gi.v_)(o.panel.section),1)])):(0,vi.Q3)("",!0),o.panel.floor?((0,vi.uX)(),(0,vi.CE)("div",wa,[t[6]||(t[6]=(0,vi.Lk)("span",{class:"chess__tooltip-params-name"},"Этаж",-1)),(0,vi.Lk)("span",Sa,(0,gi.v_)(o.panel.floor),1)])):(0,vi.Q3)("",!0)]),o.panel.price.value?((0,vi.uX)(),(0,vi.CE)("div",{key:2,class:(0,gi.C4)(["chess__tooltip-price",{sale:o.panel.price.priceSale}])},[o.panel.price.priceSale?((0,vi.uX)(),(0,vi.CE)("div",Ea,[(0,vi.Lk)("div",Ca,(0,gi.v_)(a.convertPriceDigit(o.panel.price.value))+" ₽",1),(0,vi.Lk)("div",Oa,"-"+(0,gi.v_)(a.convertPriceDigit(a.getDiscont))+" ₽",1)])):(0,vi.Q3)("",!0),(0,vi.Lk)("div",La,[(0,vi.Lk)("div",Pa,(0,gi.v_)(a.convertPriceDigit(o.panel.price.priceSale?o.panel.price.priceSale:o.panel.price.value))+" ₽ ",1),(0,vi.Lk)("div",xa,[(0,vi.eW)((0,gi.v_)(a.convertPriceDigit(o.panel.price.pricePerMeter))+" ₽ / м",1),t[7]||(t[7]=(0,vi.Lk)("sup",null,"2",-1))])])],2)):(0,vi.Q3)("",!0),o.panel.link?((0,vi.uX)(),(0,vi.CE)("div",Ta,[(0,vi.Lk)("button",{class:"v-btn v-btn-primary v-btn-md _icon-right v-panel__next-button",onClick:t[1]||(t[1]=function(e){return a.toNextStep(o.panel.link)})},t[8]||(t[8]=[(0,vi.Lk)("span",{class:"v-btn-text"},"Смотреть",-1),(0,vi.Lk)("span",{class:"v-btn-icon"},[(0,vi.Lk)("i",{class:"icon-Iconarrow-right-1"})],-1)]))])):(0,vi.Q3)("",!0)])],2)]}),_:1},8,["modelValue"])}]]);var Ra={components:{Overlay:la,Error:Li,Results:oa,Panel:Na}};var $a=(0,Ei.A)(Ra,[["render",function(e,t,n,i,o,a){var s=(0,vi.g2)("Overlay"),r=(0,vi.g2)("Error"),l=(0,vi.g2)("Results"),c=(0,vi.g2)("Panel");return(0,vi.uX)(),(0,vi.CE)("main",yi,[(0,vi.bF)(s),(0,vi.bF)(r),(0,vi.bF)(l),(0,vi.bF)(c)],512)}],["__scopeId","data-v-c19abbb8"]]),Ha="#chess",Fa=document.querySelector(Ha),za=Fa&&Fa.dataset.json||!1;if(Fa){var Wa={rootEl:Fa,jsonParams:za},Ga=(0,mi.Ef)($a);Ga.provide("$appOptions",Wa),Ga.use(Lo),Ga.mount(Ha)}n.p;window.Site||(window.Site={},window.Site.Modules={});var Va=new d;Va.register([Y,x,Vn,R,pt,ft,mt,Lt,V,Ke,Fe,ze,We,It,Ue,Xe,kt,Ct,le,ce,S,Dt,Wn,In,qt,z,ii,ai,li,ui,fi,Zn,Yn,Kn]),s.handlerDocumentReady(function(){Va.init()})}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.m=t,i.amdD=function(){throw new Error("define cannot be used indirect")},i.amdO={},e=[],i.O=function(t,n,o,a){if(!n){var s=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],a=e[u][2];for(var r=!0,l=0;l<n.length;l++)(!1&a||s>=a)&&Object.keys(i.O).every(function(e){return i.O[e](n[l])})?n.splice(l--,1):(r=!1,a<s&&(s=a));if(r){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,o,a]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},i.p="",function(){var e={792:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,s=n[0],r=n[1],l=n[2],c=0;if(s.some(function(t){return 0!==e[t]})){for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(l)var u=l(i)}for(t&&t(n);c<s.length;c++)a=s[c],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(u)},n=self.webpackChunkwebpacktemplate=self.webpackChunkwebpacktemplate||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=i.O(void 0,[96],function(){return i(544)});o=i.O(o)}();