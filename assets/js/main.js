!function(){"use strict";var e,t,n,i,o={749:function(e,t,n){var i=n(667),o=/*#__PURE__*/function(){function e(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e)}return function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e,[{key:"handlerDocumentReady",value:function(e){return"function"==typeof e&&("interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e))}},{key:"removeElement",value:function(e){e.parentNode.removeChild(e)}},{key:"siblings",value:function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return Array.from(e.parentNode.children).filter(function(n){return t?n:n!==e})}},{key:"show",value:function(e){e.style.display="block"}},{key:"hide",value:function(e){e.style.display="none"}},{key:"clearHtml",value:function(e){e.innerHTML=""}},{key:"insetContent",value:function(e,t){"string"==typeof t?e.insertAdjacentHTML("beforeend",t):(void 0===t?"undefined":t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)=="object"&&e.appendChild(t)}},{key:"keyExist",value:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},{key:"isEmptyObject",value:function(e){return 0===Object.keys(e).length}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"getWindowHeight",value:function(){return window.innerHeight||document.documentElement.clientHeight}},{key:"getWindowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth}},{key:"getScrollTop",value:function(){return window.scrollY||document.documentElement.scrollTop}},{key:"isBreakpoint",value:function(e,t){return window.innerWidth>=e&&window.innerWidth<t}},{key:"isDesktop",value:function(){return window.innerWidth>1199}},{key:"isTablet",value:function(){return window.innerWidth<1023}},{key:"isMobile",value:function(){return window.innerWidth<768}},{key:"getElementIndex",value:function(e){for(var t=0;e=e.previousElementSibling;)t++;return t}},{key:"send",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"POST",a=new XMLHttpRequest;a.open(o,t),(null!=(n=FormData)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](e):e instanceof n)||a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.send(e),a.onload=function(){if(200===a.status){var e=this.responseText;i.success&&i.success(e)}else i.error&&i.error(a.status);i.complete&&i.complete()}}},{key:"getElementOffset",value:function(e){var t=document.documentElement,n=e.getBoundingClientRect();return{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}}},{key:"loadScript",value:function(e,t){var n=document.createElement("script");n.onload=function(){if(t)return t()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}},{key:"throttle",value:function(e,t){var n=null;return function(i){var o=n;n=Date.now(),(void 0===o||n-o>t)&&e(i)}}},{key:"debounce",value:function(e,t){var n=this,i=null;return function(o){var a=i;i=Date.now(),a&&i-a<=t&&clearTimeout(n.lastCallTimer),n.lastCallTimer=setTimeout(function(){e(o)},t)}}},{key:"wrapContent",value:function(e,t,n){var i=document.createElement(t);return n&&i.classList.add(n),e.parentNode.insertBefore(i,e),i.appendChild(e)}},{key:"bodyFixed",value:function(e){var t="".concat(window.innerWidth-document.documentElement.clientWidth,"px");setTimeout(function(){(0,i.mh)(e,{reserveScrollBarGap:!0})},0),setTimeout(function(){var e=document.documentElement;e&&e.style.setProperty("--lock-offset",t)},0)}},{key:"bodyStatic",value:function(){setTimeout(function(){(0,i.qY)()},0),setTimeout(function(){var e=document.documentElement;e&&e.style.setProperty("--lock-offset","")},0)}},{key:"convertToNumber",value:function(e){return parseFloat(e.toString().replace(/\s/g,""))}},{key:"replaceSpace",value:function(e){return e.replace(/\s/g,"")}},{key:"convertToDigit",value:function(e){return Number(e)?Number(e).toLocaleString("ru-Ru"):e}},{key:"pluralWord",value:function(e,t){return t[e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2]}},{key:"getUrlParams",value:function(e){return new URLSearchParams(window.location.search).get(e)}},{key:"isElement",value:function(e){return!!e.tagName}},{key:"clickOutside",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){var o=[];e.nodeType===Node.ELEMENT_NODE?o=[[e]]:"string"==typeof e?o.push(Array.from(document.querySelectorAll(e))):Array.from(e).forEach(function(e){o.push(Array.from(document.querySelectorAll(e)))}),document.addEventListener("click",function(a){var s=a.target;i&&(o=[],e.nodeType===Node.ELEMENT_NODE?o=[[e]]:"string"==typeof e?o.push(Array.from(document.querySelectorAll(e))):Array.from(e).forEach(function(e){o.push(Array.from(document.querySelectorAll(e)))}));do{try{o.forEach(function(e){if(-1!==e.indexOf(s))throw n(),!1})}catch(e){return}s=s.parentNode}while(s);t()})}}},{key:"addScript",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=document.createElement("script");i.type="application/javascript",i.src=e,i.onload=n.onload,i.onerror=function(e){console.warn("Ошибка загрузки "+t.src),n.onerror(e)},document.head.appendChild(i)}}]),e}();function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var r=null,l=/*#__PURE__*/function(){var e;function t(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.components=[],r||(r=this),r}return e=[{key:"register",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.components=s(this.components).concat(s(e)),!0}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return this.components.length&&Array.from(this.components).forEach(function(t){t.init(e),document.dispatchEvent(new CustomEvent("afterInitComponent",{detail:{component:t,context:e}}))}),!0}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,e),t}(),c=n(700),u=n(571);function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}c.os.registerPlugin(u.I);var p=/*#__PURE__*/function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.elem=e.elem,this.maxScrollTop=null}return e=[{key:"init",value:function(){this._bindEvents()}},{key:"_bindEvents",value:function(){var e=this;this.elem.addEventListener("click",function(t){t.preventDefault(),e._scrollTo()})}},{key:"_scrollTo",value:function(){if(this.elem.hasAttribute("href")){var e=this.elem.getAttribute("href");this._scrollToAnchor(e)}else if(this.elem.dataset.scrollTo){var t=this.elem.dataset.scrollTo;this._scrollToAnchor(t)}}},{key:"_scrollToAnchor",value:function(e){var t=document.querySelector(e);if(!t){console.warn("Не найдет элемент с id "+e);return}e=t.getBoundingClientRect().top+(window.scrollY||document.body.scrollTop),this._scrollBy(e)}},{key:"_scrollBy",value:function(e){this._updateMaxScroll();var t=e>this.maxScrollTop?this.maxScrollTop:e,n=Math.abs(window.scrollY-t)/500;n=(n<.15?.15:n)>1?1:n,c.os.to(window,{duration:n,scrollTo:{y:t,autoKill:!1},ease:n>=.5?"power4.inOut":""})}},{key:"_updateMaxScroll",value:function(){this.maxScrollTop=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-window.innerHeight}}],t=[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.querySelectorAll("[data-scroll-to]");t.length&&t.forEach(function(e){new n({elem:e}).init()})}}],e&&h(n.prototype,e),t&&h(n,t),n}();function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=/*#__PURE__*/function(){var e,t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.classNameArray=[],this.userAgent=navigator.userAgent.toLowerCase(),this.htmlElem=document.documentElement,this.isKit=document.querySelector(".kit-wrapper")||!1}return e=[{key:"init",value:function(){this._detectPlatform(),this._detectSystem(),this._detectBrowser(),this._setEnvironmentObject()}},{key:"_detectPlatform",value:function(){this.platformName=/iphone|ipod|ipad|iPad|android|iemobile|blackberry|bada/i.test(this.userAgent)?"mobile":"desktop"}},{key:"_detectSystem",value:function(){var e="";/ipad|iphone|ipod/i.test(this.userAgent)?e="ios":/android/i.test(this.userAgent)?e="android":/win/i.test(this.userAgent)?e="win":/mac/i.test(this.userAgent)?e="mac":/linux/i.test(this.userAgent)&&(e="linux"),this.osName=e,this.classNameArray.push("_".concat(e))}},{key:"_detectBrowser",value:function(){var e="";/firefox/i.test(this.userAgent)?e="ff":/opr/i.test(this.userAgent)?e="opera":/yabrowser/i.test(this.userAgent)?e="yandex":/edge/i.test(this.userAgent)?e="edge":/safari/i.test(this.userAgent)&&!/chrome/i.test(this.userAgent)?e="safari":/chrome/i.test(this.userAgent)?e="chrome":/trident|explorer|msie/i.test(this.userAgent)&&(e="ie"),this.browserName=e,this.classNameArray.push("_".concat(e))}},{key:"_detectWebM",value:function(){var e=document.createElement("canvas"),t=!1;e.getContext&&e.getContext("2d")&&0===e.toDataURL("image/webp").indexOf("data:image/webp")&&(t=!0),this.supportsWebM=t,this.classNameArray.push(t?"_webm":"_no-webm")}},{key:"_setEnvironmentObject",value:function(){window.environmentObject={platform:this.platformName,os:this.osName,browser:this.browserName,isLocal:0===window.location.href.indexOf("http://localhost:"),isRetina:window.devicePixelRatio>1,isInnerPage:this.htmlElem.classList.contains("_inner-page"),isKitPage:!!this.isKit,supportsWebM:this.supportsWebM}}},{key:"_addHtmlClass",value:function(){this.htmlElem.className+=" "+this.classNameArray.join(" ")}}],t=[{key:"init",value:function(){new n().init()}}],e&&d(n.prototype,e),t&&d(n,t),n}(),m=n(319);function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var y=/*#__PURE__*/function(){var e,t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n)}return e=[{key:"init",value:function(){var e=window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"));var t=(0,m.s)(10,function(){if(window.matchMedia("(max-width: 1024px)").matches){var e=window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}},100),n=(0,m.s)(10,function(){if(window.matchMedia("(max-width: 1024px)").matches){var e=window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}},50);return window.addEventListener("resize",t),window.addEventListener("orientationchange",n),function(){window.removeEventListener("resize",t),window.removeEventListener("orientationchange",n)}}}],t=[{key:"init",value:function(){new n().init()}}],e&&v(n.prototype,e),t&&v(n,t),n}();function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var g=/*#__PURE__*/function(){var e,t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.htmlElem=document.documentElement,this.headingElem=document.querySelector(".heading-image"),this.mainSliderElem=document.querySelector(".main-slider"),this.headerElem=document.querySelector(".header")}return e=[{key:"init",value:function(){this._headingImage(),this._modPages(),this._pageTheme()}},{key:"_headerTheme",value:function(){(this.headingElem||this.mainSliderElem)&&(this.headerElem.classList.remove("header-theme--light"),this.headerElem.classList.add("header-theme--transparent"))}},{key:"_headingImage",value:function(){this.headingElem&&(this.headingElem.classList.contains("heading-image--image")&&this.htmlElem.classList.add("_heading-image"),this.headingElem.classList.contains("heading-image--dark")&&(this.htmlElem.classList.add("_heading-dark"),this.headerElem.classList.remove("header-theme--light","header-theme--transparent"),this.headerElem.classList.add("header-theme--dark")),this.headingElem.classList.contains("heading-image--light")&&(this.headerElem.classList.remove("header-theme--light","header-theme--transparent"),this.htmlElem.classList.add("_heading-light")))}},{key:"_modPages",value:function(){var e=document.querySelector(".contacts-map-block--bottom"),t=document.querySelector(".heading-image__title");e&&this.htmlElem.classList.add("_footer-fill"),(null==t?void 0:t.innerText)==="Контакты"&&this.htmlElem.classList.add("_page-contacts")}},{key:"_pageTheme",value:function(){this.headingElem||this.mainSliderElem||this.htmlElem.classList.add("_page-inner")}}],t=[{key:"init",value:function(){new n().init()}}],e&&b(n.prototype,e),t&&b(n,t),n}(),_=n(144),k=/*#__PURE__*/n.n(_),w=null,S=/*#__PURE__*/function(){var e;function t(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),w||(w=this),this.channels={},w}return e=[{key:"subscribe",value:function(e,t){this.channels[e]||(this.channels[e]=[]),this.channels[e].push({context:this,callback:t})}},{key:"unsubscribe",value:function(e){return!!this.channels[e]&&(delete this.channels[e],this)}},{key:"publish",value:function(e){if(!this.channels[e])return!1;var t=Array.prototype.slice.call(arguments,1);return this.channels[e].forEach(function(e){e.callback.apply(e.context,t)}),this}},{key:"installTo",value:function(e){e.channels={},e.publish=this.publish,e.subscribe=this.subscribe}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,e),t}();function E(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function C(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}var O=new S,L=/*#__PURE__*/function(){function e(){E(this,e)}return C(e,null,[{key:"init",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],new P().init(),new T().init()}}]),e}(),T=/*#__PURE__*/function(){function e(){E(this,e),this.lazyloadEnter=null}return C(e,[{key:"init",value:function(){this.subscibe()}},{key:"subscibe",value:function(){var e=this;O.subscribe("preloader:end",function(){setTimeout(function(){e.start()},300)})}},{key:"start",value:function(){this.lazyloadEnter=new(k())({elements_selector:"[data-lazy-enter]",threshold:400,callback_exit:this._onEnter.bind(this,"exit",1),callback_enter:this._onEnter.bind(this,"enter",0)})}},{key:"_onEnter",value:function(e,t,n){var i=n.getAttribute("data-lazy-enter").split(",")[t];n.classList.contains("_".concat(e))||(O.publish(i,n),n.classList.add("_".concat(e)))}}]),e}(),P=/*#__PURE__*/function(){function e(){E(this,e),this.lazyloadImage=null}return C(e,[{key:"init",value:function(){this.lazyloadImage=new(k())({elements_selector:".lazy",threshold:300,unobserve_entered:!0,callback_error:function(e){}})}}]),e}();function j(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var A=new S,M=/*#__PURE__*/function(){var e,t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.preloader=document.querySelector(".preloader"),this.html=document.documentElement,this.timeOnView=600}return e=[{key:"init",value:function(){this.preloader&&this._subscribe()}},{key:"_subscribe",value:function(){var e=this;A.subscribe("animation:inited",function(){e._bindEvents()})}},{key:"_bindEvents",value:function(){var e=this;o.handlerDocumentReady(function(){setTimeout(function(){e._hide()},e.timeOnView)})}},{key:"_hide",value:function(){var e=this;this.preloader.classList.add("_ready"),this.html.classList.add("_loaded"),A.publish("preloader:end"),setTimeout(function(){o.removeElement(e.preloader)},1e3)}}],t=[{key:"init",value:function(){new n().init()}}],e&&j(n.prototype,e),t&&j(n,t),n}(),B=n(575);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function q(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function D(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}c.os.registerPlugin(B.u);var N=/*#__PURE__*/function(){var e,t;function n(){var e=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.parallaxElems=D(document.querySelectorAll("[data-plx-elem]")).map(function(t){return e._getParams(t,"data-plx-elem")}),this.parallaxImages=D(document.querySelectorAll("[data-plx-image]")).map(function(t){return e._getParams(t,"data-plx-image")}),this.parallaxSections=D(document.querySelectorAll("[data-plx-section]")).map(function(t){return e._getParams(t,"data-plx-section")}),this.parallaxSpeeds=D(document.querySelectorAll("[data-plx-speed]")).map(function(t){return e._getParams(t,"data-plx-speed")}),this.parallaxTitleds=D(document.querySelectorAll("[data-plx-titled]")),this.parallaxPinchElem=document.querySelector("[data-plx-pinch]"),this.viewHeight=window.innerHeight,this.scrollPosition=o.getScrollTop()}return e=[{key:"init",value:function(){this._start()}},{key:"_start",value:function(){var e=this;this.parallaxElems.forEach(function(t){e._parallaxElem(t)}),this.parallaxImages.forEach(function(t){e._parallaxImage(t)}),this.parallaxSections.forEach(function(t){e._parallaxSection(t)}),this.parallaxSpeeds.forEach(function(t){e._parallaxSpeed(t)}),this.parallaxTitleds.forEach(function(t){e._parallaxTitled(t)}),this.parallaxPinchElem&&this._parallaxPinch()}},{key:"_parallaxSpeed",value:function(e){var t=e.target,n=t.closest("[data-plx-wrap]"),i=n.offsetWidth,o=n.offsetHeight,a=t.firstChild;if(a&&"IMG"===a.tagName){var s=.5*i,r=.5*o;s=-(-.004*(s*e.x)),r=-(-.004*(r*e.y)),t.style.setProperty("left","-".concat(s,"px")),t.style.setProperty("width","calc(100% + ".concat(2*s,"px)")),t.style.setProperty("top","-".concat(r,"px")),t.style.setProperty("height","calc(100% + ".concat(2*r,"px)"))}n.addEventListener("mousemove",function(n){var a=n.pageX-.5*i,s=n.pageY-.5*o;c.os.to(t,{x:-((t.offsetLeft+a*e.x)*.004),y:-((t.offsetTop+s*e.y)*.004),duration:1})})}},{key:"_parallaxElem",value:function(e){var t=e.target;c.os.set(t,{force3D:!0});var n={trigger:t,start:"top bottom",end:"bottom 90%",scrub:!0},i=10*e.x,o=10*e.y;c.os.fromTo(t,{opacity:e.fade?0:1,duration:1},{opacity:1,scrollTrigger:n}),c.os.fromTo(t,{y:0,x:0,duration:9},{y:o,x:i,scrollTrigger:n})}},{key:"_parallaxSection",value:function(e){var t=this,n=e.target,i=n.hasAttribute("data-plx-top");c.os.fromTo(n,{y:i?"".concat(-window.innerHeight*this._getRatio(n),"px"):"0px"},{y:function(){return"".concat(window.innerHeight*(1-t._getRatio(n)),"px")},ease:"none",scrollTrigger:{trigger:n,start:function(){return i?"top bottom":"top top"},end:"bottom top",scrub:!0,invalidateOnRefresh:!0}})}},{key:"_parallaxImage",value:function(e){n.parallaxImage(e.target)}},{key:"_parallaxTitled",value:function(e){var t=e.closest("[data-plx-wrap]"),n=t?t.querySelector("[data-plx-titled-title]"):null,i=Math.round(window.innerHeight/100*15);if(c.os.fromTo(e,{y:"-".concat(i)},{y:"".concat(i),ease:"none",scrollTrigger:{trigger:e,start:"top bottom",end:"bottom top",scrub:!0}}),n){var o=c.os.timeline({scrollTrigger:{trigger:e,start:"".concat(i," center"),end:"bottom center",scrub:!0,pin:n,pinSpacer:!1}});o.from(n,{autoAlpha:0,scaleY:1.2},"start"),o.to(n,{autoAlpha:1,scaleY:1},"start+=0.025"),o.to(n,{autoAlpha:0,scaleY:1.2},"start+=0.9")}}},{key:"_parallaxPinch",value:function(){var e=this,t=this.parallaxPinchElem.querySelector("[data-plx-pinch-video]");t?t.addEventListener("loadeddata",function(){c.os.to(e.parallaxPinchElem,{scale:.8,y:"20%",scrollTrigger:{trigger:e.parallaxPinchElem,start:"top top",end:"bottom top",scrub:!0,markers:!0,onEnter:function(){return t.play()},onEnterBack:function(){return t.play()},onLeave:function(){return t.pause()}}})}):c.os.to(this.parallaxPinchElem,{scale:.8,y:"20%",scrollTrigger:{trigger:this.parallaxPinchElem,start:"top top",end:"bottom top",scrub:!0}})}},{key:"_getRatio",value:function(e){return window.innerHeight/(window.innerHeight+e.offsetHeight)}},{key:"_getParams",value:function(e,t){var n,i,a,s,r=e.getAttribute(t),l=e.getAttribute("data-plx-fade");"data-plx-speed"===t?(n=r.split(",")[0],i=r.split(",")[1]||0,a=r.split(",")[2]||0,s=r.split(",")[3]||0):(i=r.split(",")[0],s=r.split(",")[1]||0,n=r.split(",")[2]||0,a=r.split(",")[3]||0);var c=parseInt(o.isDesktop()?i:s);c=Number.isNaN(c)?10:c;var u=parseInt(o.isDesktop()?n:a);return{target:e,y:c,x:u=Number.isNaN(u)?10:u,fade:null!==l}}}],t=[{key:"parallaxImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=e.closest("[data-plx-wrap]")||e.parentNode,i=n?n.querySelector("[data-plx-label]"):null;e.onload=function(){c.os.to(e,{scrollTrigger:{scroller:t,trigger:n,scrub:.5,invalidateOnRefresh:!0},y:n.offsetHeight-e.offsetHeight,ease:"none"}),i&&(c.os.set(i,{autoAlpha:0}),c.os.to(i,{autoAlpha:1,scrollTrigger:{trigger:e,start:"top bottom",end:"bottom center",scrub:1}}))}}}],e&&q(n.prototype,e),t&&q(n,t),n}();function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function H(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function R(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return z(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}c.os.registerPlugin(B.u);var W=new S,F=/*#__PURE__*/function(){var e,t;function n(){var e=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.wrapper=document.querySelector("body"),this.blockSelector="[data-anim]",this.animationObjects=c.os.utils.toArray(this.blockSelector),this.animationSettings={delayAfterPreloader:600,breakpoint:1},this.gsapSettings={ease:"power2.out",duration:.9,delay:0,scrub:!o.isDesktop()&&2},this.animationObjects=R(this.wrapper.querySelectorAll(this.blockSelector)).map(function(t){var n,i,o,a;return{animationBlock:t,items:R(t.querySelectorAll("\n                  [data-anim-item]")),delay:(null===(n=t.dataset)||void 0===n?void 0:n.animDelay)||0,duration:(null===(i=t.dataset)||void 0===i?void 0:i.animDuration)||e.gsapSettings.duration,isOnly:t.hasAttribute("data-anim-only")||!1,type:(null===(o=t.dataset)||void 0===o?void 0:o.anim)||"fadeIn",ease:(null===(a=t.dataset)||void 0===a?void 0:a.animEase)||e.gsapSettings.ease}}),c.os.config({nullTargetWarn:!1})}return e=[{key:"init",value:function(){if(this._initOtherAnimations(),!o.isDesktop()){W.publish("animation:inited");return}this._animationInit(),this._subscribes()}},{key:"_subscribes",value:function(){var e=this;W.subscribe("preloader:end",function(){setTimeout(function(){e.animationObjects.forEach(function(t){e._show(t.animationBlock),e._animateMove(t)}),e._updateAnimation()},e.animationSettings.delayAfterPreloader)})}},{key:"_getScrollSettings",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={trigger:e,start:o.isDesktop()?"top 80%":"top 95%",end:"top 60%",scrub:this.gsapSettings.scrub,once:!0,toggleActions:"play none none reverse"};return n.onEnter&&(i.onEnter=n.onEnter),i}},{key:"_counterRowItems",value:function(e){var t=e.animationBlock,n=t.querySelector("[data-anim-item], .col");return Math.trunc(t.getBoundingClientRect().width/n.getBoundingClientRect().width)}},{key:"_animationInit",value:function(){var e=this;new N().init(),this.animationObjects.forEach(function(t){e._hide(t.animationBlock)}),W.publish("animation:inited")}},{key:"_initOtherAnimations",value:function(){}},{key:"_animateMove",value:function(e){var t=this,n=e.animationBlock,i=e.items.length?e.items:n,o=[];if(i.length){for(var a=this._counterRowItems(e),s=0;s<i.length;s+=a){var r=i.slice(s,s+a);o.push(r)}o.forEach(function(n){var i=c.os.timeline({scrollTrigger:t._getScrollSettings(n,e)}),o=t._animatePosition(e.type);i.fromTo(n,{opacity:0,x:o.x,y:o.y},{opacity:1,y:0,x:0,duration:e.duration,delay:e.delay||0,ease:e.ease||t.gsapSettings.ease,stagger:.15})})}else{var l=c.os.timeline({scrollTrigger:this._getScrollSettings(n,e,{onEnter:function(){}})});if("clipPath"===e.type){this._setClipPathAnimation(e);return}var u=this._animatePosition(e.type);l.fromTo(n,{opacity:0,y:u.y,x:u.x,scale:u.scale},{opacity:1,y:0,x:0,scale:1,duration:e.duration,delay:e.delay||0,ease:e.ease||this.gsapSettings.ease})}}},{key:"_animatePosition",value:function(e){var t=0,n=0,i=1;switch(e){case"fadeIn":break;case"fadeInTop":n="30";break;case"fadeInDown":n="-30";break;case"fadeInLeft":t=o.isDesktop()?"-30":0;break;case"fadeInRight":t=o.isDesktop()?"30":0;break;case"zoomIn":i=.5}return{x:t,y:n,scale:i}}},{key:"_setClipPathAnimation",value:function(e){var t=this,n=e.animationBlock,i=e.animationBlock.querySelector("img");n.style.overflow="hidden",c.os.timeline({scrollTrigger:this._getScrollSettings(n,e,{onEnter:function(){t._show(n)}})}).from(i,{scale:1.2}).fromTo(n,{css:{opacity:0,clipPath:"polygon(0 0, 0 0, 0 100%, 0% 100%)",webkitClipPath:"polygon(0 0, 0 0, 0 100%, 0% 100%)"}},{css:{opacity:1,clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)",webkitClipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)"},duration:e.duration,ease:e.ease||this.gsapSettings.ease},0)}},{key:"_updateAnimation",value:function(){var e=document.body.scrollHeight;window.addEventListener("scroll",(0,m.s)(10,function(){var t=document.body.scrollHeight;t!==e&&(B.u.refresh(!0),e=t)}))}},{key:"_hide",value:function(e){c.os.set(e,{opacity:0})}},{key:"_show",value:function(e){c.os.set(e,{opacity:1})}}],t=[{key:"init",value:function(){new n().init()}}],e&&H(n.prototype,e),t&&H(n,t),n}();function $(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Z=/*#__PURE__*/function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.openClass="_menu-opened",this.opened=!1,this.animating=!1,this.menu=e,this.closeBtn=this.menu.querySelector(".menu__head-close"),this.menuContent=this.menu.querySelector(".menu__container"),this.menuOverlay=this.menu.querySelector(".menu__overlay"),this.openers=document.querySelectorAll("[data-menu-trigger]"),this.htmlElem=document.documentElement,this.animDuration=.6,this.animEase="power2.out"}return e=[{key:"init",value:function(){this._bindContext(),this._bindEvents()}},{key:"_bindContext",value:function(){this.open=this.open.bind(this),this.close=this.close.bind(this),this._changeState=this._changeState.bind(this)}},{key:"_bindEvents",value:function(){var e=this;document.addEventListener("keyup",function(t){e._closeByKeyboard(t)}),this.openers.length&&this.openers.forEach(function(t){t.addEventListener("click",e._changeState)}),this.closeBtn&&this.closeBtn.addEventListener("click",this._changeState),["resize","orientationchange"].forEach(function(t){window.addEventListener(t,e._onResize.bind(e))})}},{key:"_onResize",value:function(){this.opened&&o.isDesktop()&&this._changeState()}},{key:"_closeByKeyboard",value:function(e){27===e.keyCode&&this.opened&&this._changeState()}},{key:"_changeState",value:function(){this.opened?this.close():this.open()}},{key:"open",value:function(){var e=this;(this.opened||!this.animating)&&(this.opened=!0,this.animating=!0,this.menu.style.pointerEvents="all",this.menu.style.display="block",this.htmlElem.classList.add(this.openClass),o.bodyFixed(this.menu.querySelector(".menu__body")),c.os.fromTo(this.menuOverlay,{alpha:0},{alpha:1,duration:this.animDuration,ease:this.animEase}),c.os.fromTo(this.menuContent,{alpha:0},{alpha:1,duration:this.animDuration,delay:this.animDuration/1.5,ease:this.animEase,onComplete:function(){e.animating=!1}}))}},{key:"close",value:function(){var e=this;this.opened&&this.animating||(this.opened=!1,this.animating=!0,this.menu.style.pointerEvents="none",c.os.to(this.menuOverlay,{alpha:0,duration:this.animDuration,ease:this.animEase,delay:this.animDuration/1.5}),c.os.to(this.menuContent,{alpha:0,duration:this.animDuration,ease:this.animEase,onComplete:function(){e.animating=!1,e.htmlElem.classList.remove(e.openClass),e.menu.style.display="none",o.bodyStatic()}}))}}],t=[{key:"init",value:function(){var e=document.querySelector(".menu");e&&new n(e).init()}}],e&&$(n.prototype,e),t&&$(n,t),n}(),G=n(987);function V(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var U=/*#__PURE__*/function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.cookie=e,this.cookies=G.A,this.messageShowDelay=5e3,this.cookieDuration=this.cookie.dataset.cookieTime||365,this.activeClass="is-active",this.hideClass="is-hide"}return e=[{key:"_init",value:function(){if(0==+this.cookieDuration&&this._removeCookie("cookie-accepted"),void 0!==this._getCookie("cookie-accepted")){this._hideMessage();return}this._showMessage(),this._bindEvents()}},{key:"_bindEvents",value:function(){var e=this;document.querySelector(".cookie__close").addEventListener("click",function(){e.cookie.classList.add(e.hideClass),setTimeout(function(){e._hideMessage(),e._setCookie("cookie-accepted","yes")},300)})}},{key:"_setCookie",value:function(e,t){this.cookies.set(e,t,{expires:+this.cookieDuration})}},{key:"_getCookie",value:function(e){return this.cookies.get(e)}},{key:"_removeCookie",value:function(e){this.cookies.remove(e)}},{key:"_showMessage",value:function(){var e=this;setTimeout(function(){e.cookie.classList.add(e.activeClass)},this.messageShowDelay)}},{key:"_hideMessage",value:function(){o.removeElement(this.cookie)}}],t=[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.querySelector(".j-cookie");t&&new n(t)._init()}}],e&&V(n.prototype,e),t&&V(n,t),n}();function K(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Y=/*#__PURE__*/function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.wrapper=e.element,this.isTextAccordion=this.wrapper.hasAttribute("data-accordion-text"),this.accordion=this.wrapper.querySelector("[data-accordion]"),(this.accordion||this.isTextAccordion)&&(this.accordions=this.isTextAccordion?[this.wrapper]:o.siblings(this.accordion),this.breakpoint=e.breakpoint||this.wrapper.dataset.breakpoint||1e4,this.title=this.wrapper.querySelector("[data-accordion-title]"),this.titleText=!!this.title&&this.title.innerHTML,this.changeTitle=this.wrapper.hasAttribute("data-title"),this.hiddenText=this.wrapper.dataset.title||"Скрыть",this.animating=!1,this.openClass="is-open",this.duration=.35)}return e=[{key:"init",value:function(){this._isBreakpoint()&&(this._setInitState(),this._bindEvents())}},{key:"_setInitState",value:function(){var e=this;this.accordions.forEach(function(t){t.classList.contains(e.openClass)&&e.open(t)})}},{key:"_isBreakpoint",value:function(){return o.isBreakpoint(0,this.breakpoint)}},{key:"_bindEvents",value:function(){var e=this;this.accordions.forEach(function(t){t.querySelector("[data-accordion-opener]").addEventListener("click",e._onToggle.bind(e))})}},{key:"_onToggle",value:function(e){if(!this.animating){var t=e.currentTarget,n=this.isTextAccordion?t.closest("[data-accordion-text]"):t.closest("[data-accordion]");n.classList.contains(this.openClass)?this.close(n):this.open(n);var i=o.siblings(n,!1);i.length&&this.closeOther(i)}}},{key:"open",value:function(e){var t=this,n=e.querySelector("[data-accordion-content]"),i=n.querySelector("[data-accordion-inner]"),a=n.querySelectorAll("[data-stagger]"),s=i.getBoundingClientRect().height;e.classList.add(this.openClass),c.os.fromTo(n,{height:0},{height:s,duration:this.duration+.5,ease:"power3.inOut",onStart:function(){t.animating=!0},onComplete:function(){n.style.height="auto",n.style.overflow="visible",t.changeTitle&&t.titleText&&(o.clearHtml(t.title),o.insetContent(t.title,t.hiddenText)),t.animating=!1}}),c.os.fromTo(a,{alpha:0,y:"30"},{alpha:1,y:"0",duration:.5,stagger:.075})}},{key:"close",value:function(e){var t=this,n=e.querySelector("[data-accordion-content]"),i=n.querySelector("[data-accordion-inner]").getBoundingClientRect().height;e.classList.remove(this.openClass),c.os.fromTo(n,{height:i},{height:0,duration:this.duration,onStar:function(){t.animating=!0,n.style.height="auto",n.style.overflow="hidden"},onComplete:function(){t.animating=!1,t.changeTitle&&t.titleText&&(o.clearHtml(t.title),o.insetContent(t.title,t.titleText))}})}},{key:"closeOther",value:function(e){var t=this;e.forEach(function(e){var n;e.classList.contains(t.openClass)&&(null===(n=e.dataset)||void 0===n?void 0:n.close)!=="false"&&t.close(e)})}}],t=[{key:"init",value:function(){var e=document.querySelectorAll("[data-accordions], [data-accordion-text]");e.length&&e.forEach(function(e){new n({element:e}).init()})}}],e&&K(n.prototype,e),t&&K(n,t),n}();function X(e){return'<div class="popup '.concat(e.animate," ").concat(e.type,'" data-id="').concat(e.id,'">\n                <div class="popup__overlay"></div>\n\n                <div class="popup__wrap">\n                    <button type="button" class="popup__close" aria-label="').concat(e.buttonAriaLabel,'">\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" class="mfp-close__svg"><path d="M.393 2.331C-.131 1.807-.131.935.393.393a1.392 1.392 0 0 1 1.94 0l11.636 11.652L25.625.393a1.366 1.366 0 0 1 1.919 0 1.356 1.356 0 0 1 0 1.938L15.908 13.966l11.636 11.652a1.358 1.358 0 0 1 0 1.939 1.368 1.368 0 0 1-1.919 0L13.969 15.904 2.333 27.557a1.394 1.394 0 0 1-1.94 0c-.524-.542-.524-1.416 0-1.939L12.03 13.966.393 2.331z"/></svg>\n                    </button>\n                    <div class="popup__content">').concat(e.content,"</div>\n                </div>\n            </div>")}var J=new S,Q=function(){return null},ee=/*#__PURE__*/function(){var e;function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.openStateClass=e.openStateClass||"is-open",this.closeStateClass=e.closeStateClass||"is-close",this.closeButtonAriaLabel=e.closeButtonAriaLabel||"Закрыть",this.removeDelay=e.removeDelay||300,this.animate=e.animate||"popup-animate-fade",this.openBtn=e.openButton,this.currentState=!1,this.onCreate=e.onCreate||Q,this.onClose=e.onClose||Q,this.popup=null,this.content=null,this.closeBtns=null,this.template=null,this.data=null,this._bindMethodsContext()}return e=[{key:"init",value:function(){this._subscribes(),this._bindOpenEvents()}},{key:"_subscribes",value:function(){var e=this;J.subscribe("popupClose",function(){e.currentState&&e.removePopup()})}},{key:"showPopup",value:function(){this.popup.classList.add(this.openStateClass),o.bodyFixed(this.popup)}},{key:"displayPopup",value:function(){this.showPopup(),this.currentState=!0}},{key:"removePopup",value:function(){var e=this;this.popup.classList.remove(this.openStateClass),this.popup.classList.add(this.closeStateClass),setTimeout(function(){o.bodyStatic(),o.removeElement(e.popup),e.currentState=!1,document.removeEventListener("keyup",e._closeByKeyboard),document.removeEventListener("click",e._closeByMouse),e.onClose(),J.publish("popupClosed",e.popup)},this.removeDelay)}},{key:"_bindMethodsContext",value:function(){this._closeByKeyboard=this._closeByKeyboard.bind(this),this.removePopup=this.removePopup.bind(this)}},{key:"_setTemplates",value:function(){this.template=X}},{key:"_setData",value:function(){throw Error("Method _setData() must be overridden")}},{key:"_setPopupOnPage",value:function(){document.body.insertAdjacentHTML("afterbegin",this.template(this.data))}},{key:"_getElements",value:function(){this.popup=document.querySelector(".popup"),this.content=document.querySelector(".popup__content");var e=this.popup.querySelector(".popup__close"),t=this.popup.querySelector(".popup__overlay");this.closeBtns=[e,t],this.buttonDesmiss=this.popup.querySelector("[data-popup-dismiss]"),this.isMessage=!!this.popup.querySelector(".popup-message")}},{key:"_createPopup",value:function(){this._setData(),this._setTemplates(),this._setPopupOnPage(),this._getElements(),this._bindCloseEvents(),this._bindOtherEvents(),this.onCreate()}},{key:"_onClick",value:function(e){throw e.preventDefault(),Error("Method _onClick() must be overridden")}},{key:"_bindOpenEvents",value:function(){var e=this;this.openBtn.addEventListener("click",function(t){t.preventDefault(),e.currentState||e._onClick(t)})}},{key:"_bindCloseEvents",value:function(){this._closeByMouse(),document.addEventListener("keyup",this._closeByKeyboard)}},{key:"_bindOtherEvents",value:function(){var e=this;if(this.buttonDesmiss&&this.buttonDesmiss.addEventListener("click",function(){e.removePopup()}),this.isMessage)var t=setTimeout(function(){e.removePopup(),clearTimeout(t)},1e4)}},{key:"_closeByMouse",value:function(){var e=this;this.closeBtns.forEach(function(t){t.addEventListener("click",e.removePopup)})}},{key:"_closeByKeyboard",value:function(e){27===e.keyCode&&this.removePopup()}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,e),t}();function et(e,t,n){var i;return t=es(t),(i=ec()?Reflect.construct(t,n||[],es(e).constructor):t.apply(e,n))&&("object"==(i&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)||"function"==typeof i)?i:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function en(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function ei(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function eo(e,t,n){return t&&ei(e.prototype,t),n&&ei(e,n),e}function ea(e,t,n){return(ea="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=es(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n||e):o.value}})(e,t,n||e)}function es(e){return(es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&el(e,t)}function el(e,t){return(el=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ec(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ec=function(){return!!e})()}var eu=/*#__PURE__*/function(e){function t(e){var n;return en(this,t),(n=et(this,t,[e])).type=e.type,n.removeDelay=e.removeDelay||300,n}return er(t,e),eo(t,[{key:"_setData",value:function(){var e=this.openBtn.getAttribute("href");this.data={content:document.querySelector(e).innerHTML,type:this.type,animate:this.animate,id:e.replace("#",""),buttonAriaLabel:this.closeButtonAriaLabel}}},{key:"_onClick",value:function(){this._createPopup(),this.displayPopup()}}]),t}(ee),eh=/*#__PURE__*/function(e){function t(){return en(this,t),et(this,t,arguments)}return er(t,e),eo(t,[{key:"_bindOpenEvents",value:function(){ea(es(t.prototype),"_bindOpenEvents",this).call(this),this._parseUrl()}},{key:"displayPopup",value:function(){ea(es(t.prototype),"displayPopup",this).call(this),this._setHash()}},{key:"removePopup",value:function(){ea(es(t.prototype),"removePopup",this).call(this),this._clearHash()}},{key:"_parseUrl",value:function(){var e=this.openBtn.getAttribute("href");this.currentState||window.location.hash!=="".concat(e)||(this._createPopup(),this.displayPopup())}},{key:"_setHash",value:function(){var e=this.openBtn.getAttribute("href");window.history.pushState(null,null,"".concat(e))}},{key:"_clearHash",value:function(){if(window.history.pushState){window.history.pushState(null,null,window.location.pathname+window.location.search);return}window.location.hash=""}}]),t}(eu);function ep(e){return'<div class="popup '.concat(e.animate," ").concat(e.type,'">\n                <div class="popup__overlay"></div>\n                <button type="button" class="popup__close" aria-label="').concat(e.buttonAriaLabel,'">\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" class="mfp-close__svg"><path d="M.393 2.331C-.131 1.807-.131.935.393.393a1.392 1.392 0 0 1 1.94 0l11.636 11.652L25.625.393a1.366 1.366 0 0 1 1.919 0 1.356 1.356 0 0 1 0 1.938L15.908 13.966l11.636 11.652a1.358 1.358 0 0 1 0 1.939 1.368 1.368 0 0 1-1.919 0L13.969 15.904 2.333 27.557a1.394 1.394 0 0 1-1.94 0c-.524-.542-.524-1.416 0-1.939L12.03 13.966.393 2.331z"/></svg>\n                </button>\n                <div class="popup__wrap">\n                    <div class="popup__content">\n                        <figure class="popup-figure popup-figure--caption">\n                                <div class="popup-figure__content">\n                                    <picture class="popup-figure__picture">\n                                        <img src="').concat(e.src,'" alt="').concat(e.alt,'">\n                                    </picture>\n                                </div>\n                                <figcaption class="popup-figure__caption">\n                                    <span>').concat(e.caption?e.caption:"","</span>\n                                </figcaption>\n                            </figure>\n\n                    </div>\n                </div>\n            </div>")}function ed(e){return(ed=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ef(e,t){return(ef=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function em(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(em=function(){return!!e})()}var ev=/*#__PURE__*/function(e){var t;function n(e){var t,i,o;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),t=n,i=[e],t=ed(t),(o=em()?Reflect.construct(t,i||[],ed(this).constructor):t.apply(this,i))&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ef(e,t)}(n,e),t=[{key:"_setTemplates",value:function(){this.template=ep}},{key:"_setData",value:function(){this.data={buttonAriaLabel:this.closeButtonAriaLabel,type:this.type,animate:this.animate,src:this.openBtn.getAttribute("data-image"),caption:this.openBtn.getAttribute("data-caption"),alt:this.openBtn.getAttribute("alt")}}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(n.prototype,t),n}(eu),ey=/*#__PURE__*/function(){function e(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e)}return function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e,[{key:"getTemplateArrows",value:function(){return'<div class="swiper-navigation swiper-navigation-default">\n        <div class="swiper-button swiper-button-prev"></div>\n        <div class="swiper-button swiper-button-next"></div>\n    </div>'}},{key:"getTemplateArrowsAndPagination",value:function(){return'<div class="swiper-navigation">\n              <div class="swiper-navigation__container container">\n              <div class="swiper-navigation__buttons">\n                <div class="swiper-button swiper-button-prev"></div>\n                <div class="swiper-button swiper-button-next"></div>\n              </div>\n        </div>\n    </div>'}},{key:"getTemplatePrev",value:function(){return'\n      <div class="swiper-button__inner">\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none" class="swiper-button__svg">\n          <path d="M15 18.4248L9 12.4248L15 6.4248" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg>\n      </div>'}},{key:"getTemplateNext",value:function(e){var t=e.progress;return'\n    <div class="swiper-button__inner">\n      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none" class="swiper-button__svg">\n        <path d="M9 18.425L15 12.425L9 6.42505" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n      </svg>\n      '.concat(t?'<div class="swiper-button__progress">\n                                    <svg class="swiper-button__progress-svg" viewBox="0 0 48 48">\n                                        <circle cx="24" cy="24" r="20"></circle>\n                                    </svg>\n                                </div>':"","\n    </div>")}}]),e}(),eb=/*#__PURE__*/function(){function e(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e)}return function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e,[{key:"setSettingSlidesViews",value:function(e,t){switch(e){case"1":t.slidesPerView="auto",t.spaceBetween=10;break;case"2":t.slidesPerView=1,t.breakpoints={480:{slidesPerView:2,spaceBetween:20}};break;case"3":t.slidesPerView=1,t.breakpoints={480:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:3,spaceBetween:20}};break;case"4":t.slidesPerView=1,t.spaceBetween=10,t.breakpoints={480:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:20}}}}},{key:"getTemplateGalleryButton",value:function(){return'<span class="slider-gallery-button">\n              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n              <path d="M2 9V6.5C2 4.01 4.01 2 6.5 2H9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M15 2H17.5C19.99 2 22 4.01 22 6.5V9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M22 16V17.5C22 19.99 19.99 22 17.5 22H16" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M9 22H6.5C4.01 22 2 19.99 2 17.5V15" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              </svg>\n            </span>'}},{key:"getDirection",value:function(e){return 0===e?"NONE":e>0?"NEXT":"BACK"}},{key:"zeroBeforeNumber",value:function(e){return e<9?"0".concat(e):e}}]),e}(),eg=n(236),e_=n(889);function ek(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function ew(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function eS(e,t,n){return t&&ew(e.prototype,t),n&&ew(e,n),e}function eE(e,t,n){return(eE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ex(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n||e):o.value}})(e,t,n||e)}function ex(e){return(ex=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eC(e,t){return(eC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eO(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function eL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eL=function(){return!!e})()}var eT=/*#__PURE__*/function(e){function t(){var e,n,i,o,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ek(this,t),n=t,i=[a],n=ex(n),(o=(e=eL()?Reflect.construct(n,i||[],ex(this).constructor):n.apply(this,i))&&("object"===eO(e)||"function"==typeof e)?e:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)).arrayAllElements=[],o}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eC(e,t)}(t,e),eS(t,[{key:"init",value:function(){var e=this;eE(ex(t.prototype),"init",this).call(this),this.slider.params.parallax&&(this.slideElements=Array.from(this.sliderElement.querySelectorAll(".swiper-slide__picture")),this.slideElements.forEach(function(t){t.setAttribute("data-swiper-parallax","".concat(.75*e.sliderElement.offsetWidth))}))}},{key:"_bindEvents",value:function(){eE(ex(t.prototype),"_bindEvents",this).call(this),this.slider.on("lazyImageReady",this._lazyImageReady.bind(this))}},{key:"_lazyImageReady",value:function(){var e,t;(null===(t=this.slider.params)||void 0===t?void 0:null===(e=t.autoplay)||void 0===e?void 0:e.enabled)&&!this.slider.autoplay.running&&this.slider.autoplay.start()}}]),t}(/*#__PURE__*/function(){function e(t){var n;ek(this,e),this.sliderWrapper=t.item,this.sliderElement=this.sliderWrapper.querySelector(".swiper"),this.slider=null,this.sliderNum=null,this.interleaveOffset=.5,this.settingsCommon={},this.settingsOption=(null==t?void 0:t.settings)||{},this.settingsCustom=(null==t?void 0:t.custom)||{},this.settingsData=this.sliderWrapper.dataset.swiper||(null===(n=this.sliderElement)||void 0===n?void 0:n.dataset.swiper)||{},this.settingsDataParse=null,o.isEmptyObject(this.settingsData)||(this.settingsDataParse=JSON.parse(this.settingsData)),this.btnPrev=null,this.btnNext=null,this.slides=Array.from(this.sliderElement.querySelectorAll(".swiper-slide"))}return eS(e,[{key:"_setSettingsDefault",value:function(){var e="";if((null===(n=this.settingsDataParse)||void 0===n?void 0:null===(t=n.autoplay)||void 0===t?void 0:t.enabled)||(null===(i=this.settingsOption.autoplay)||void 0===i?void 0:i.enabled)){var t,n,i,o,a,s,r,l,c="";c=(null===(s=this.settingsDataParse)||void 0===s?void 0:null===(a=s.autoplay)||void 0===a?void 0:a.enabled)?null===(r=this.settingsDataParse.autoplay)||void 0===r?void 0:r.delay:null===(l=this.settingsOption.autoplay)||void 0===l?void 0:l.delay,e="animation-duration: ".concat(c+this.settingsOption.speed,"ms")}var u={},h=this.sliderWrapper.classList.contains("_pagination-counter");return u=(null===(o=this.settingsOption.custom)||void 0===o?void 0:o.paginationFraction)||h?{el:this.sliderWrapper.querySelector(".swiper-pagination"),clickable:!1,type:"fraction",renderFraction:function(){return'\n                      <div class="slider-counter__inner">\n                        <span class="slider-counter__current">\n                            '.concat(this.realIndex+1,'\n                          </span>\n                          <span class="slider-counter__spacer">/</span>\n                          <span class="slider-counter__total">\n                            ').concat(this.slides.length,"\n                          </span>\n                        </div>")}}:{el:this.sliderWrapper.querySelector(".swiper-pagination"),clickable:!0,type:"bullets",renderBullet:function(){return'\n                        <span class="swiper-pagination-bullet">\n                            <span style="'.concat(e,'"></span>\n                        </span>\n                        ')}},{modules:[e_.Vx,e_.dK,e_.Ij,e_._R,e_.FJ,e_.GP,e_.s3],init:!1,watchSlidesProgress:!0,simulateTouch:this.slides.length>1,speed:900,lazy:{loadPrevNext:!0,loadPrevNextAmount:2},fadeEffect:{crossFade:!0},loop:!0,loopedSlides:2,navigation:{nextEl:this.btnNext,prevEl:this.btnPrev,disabledClass:"is-disabled"},on:{resize:function(){this.update()}},pagination:u}}},{key:"init",value:function(){var e,t,n,i,a,s,r=!0;if(((null===(e=this.settingsOption)||void 0===e?void 0:e.navigation)===!1||(null===(t=this.settingsDataParse)||void 0===t?void 0:t.navigation)===!1)&&(r=!1),(null===(n=this.settingsOption)||void 0===n?void 0:n.custom)&&this._connectSettingsCustom(null===(i=this.settingsOption)||void 0===i?void 0:i.custom),(null===(a=this.settingsDataParse)||void 0===a?void 0:a.custom)&&this._connectSettingsCustom(null===(s=this.settingsDataParse)||void 0===s?void 0:s.custom),this.slides.length>1&&r&&this._addTemplateArrowsAndIcons(),this._connectSettings(this._setSettingsDefault()),this.settingsCustom.paginationOut){var l=null;l=o.isElement(this.settingsCustom.paginationOut)?this.settingsCustom.paginationOut:this.sliderWrapper.closest("section"),this.settingsCommon.pagination.el=l.querySelector(".swiper-pagination")}this.settingsCustom.gallery&&(o.insetContent(this.sliderWrapper,eb.getTemplateGalleryButton()),this.sliderWrapper.querySelector(".slider-gallery-button").addEventListener("click",function(e){console.log("⟶ click",e)})),this._connectSettings(this.settingsOption),this.settingsDataParse&&this._connectSettings(this.settingsDataParse),this.slider=new eg.A(this.sliderElement,this.settingsCommon),this._bindEvents(),this.slider.init(),this.sliderNum=this.sliderWrapper.querySelector(".slider-counter__current")}},{key:"_addTemplateArrowsAndIcons",value:function(){var e,t=null;if(this.settingsCustom.navigationOut){var n=this.sliderWrapper.closest("section");n&&(t=n.querySelector(".swiper-navigation-wrapper")||this.sliderWrapper)}else t=this.sliderWrapper;o.insetContent(t,(null===(e=this.settingsCustom)||void 0===e?void 0:e.buttonContainer)?ey.getTemplateArrowsAndPagination():ey.getTemplateArrows()),this.btnPrev=t.querySelector(".swiper-button-prev"),this.btnNext=t.querySelector(".swiper-button-next"),o.insetContent(this.btnNext,ey.getTemplateNext({progress:this.settingsCustom.progress})),o.insetContent(this.btnPrev,ey.getTemplatePrev())}},{key:"_bindEvents",value:function(){var e,t,n,i=this;if(this.slider.on("slideChange",this._onChange.bind(this)),null===(e=this.settingsCustom)||void 0===e?void 0:e.progress){this.slider.on("afterInit",function(e){e.autoplay.stop()});var o=this.sliderWrapper.querySelector(".swiper-button__progress-svg");this.slider.on("autoplayTimeLeft",function(e,t,n){o&&o.style.setProperty("--progress",1-n)})}this.slider.on("autoplayStop",function(){i.sliderWrapper.classList.add("_stoped"),i.sliderWrapper.classList.remove("_autoplay")}),this.slider.on("autoplayStart",function(){i.sliderWrapper.classList.remove("_stoped")}),(null===(n=this.settingsCommon)||void 0===n?void 0:null===(t=n.autoplay)||void 0===t?void 0:t.enabled)&&this.sliderWrapper.classList.add("_autoplay")}},{key:"_onChange",value:function(){this._setSlideNumber()}},{key:"_setSlideNumber",value:function(){if(this.sliderNum){var e,t=Number(null===(e=this.slider.slides[this.slider.activeIndex].dataset)||void 0===e?void 0:e.swiperSlideIndex)+1||this.slider.activeIndex+1;this.sliderWrapper.querySelector(".slider-counter__current").innerHTML="".concat(t,"&nbsp;")}}},{key:"sliderDisable",value:function(){this.slider.disable()}},{key:"sliderDestroy",value:function(){this.slider.destroy(!0,!0)}},{key:"slideTo",value:function(e,t,n){this.slider.slideTo(e,t,n)}},{key:"_connectSettings",value:function(e){(void 0===e?"undefined":eO(e))==="object"&&Object.assign(this.settingsCommon,e)}},{key:"_connectSettingsCustom",value:function(e){(void 0===e?"undefined":eO(e))==="object"&&Object.assign(this.settingsCustom,e)}}]),e}());function eP(e){var t,n=function(t){var n="";return e.hasCaption&&(n='<figcaption class="popup-figure__caption">\n                            <span>'.concat(t.caption?t.caption:"","</span>\n                        </figcaption>")),n};return'<div class="popup '.concat(e.animate," ").concat(e.type,'">\n                <div class="popup__overlay"></div>\n\n                <div class="popup__wrap">\n                    <button type="button" class="popup__close" aria-label="').concat(e.buttonAriaLabel,'">\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" class="mfp-close__svg"><path d="M.393 2.331C-.131 1.807-.131.935.393.393a1.392 1.392 0 0 1 1.94 0l11.636 11.652L25.625.393a1.366 1.366 0 0 1 1.919 0 1.356 1.356 0 0 1 0 1.938L15.908 13.966l11.636 11.652a1.358 1.358 0 0 1 0 1.939 1.368 1.368 0 0 1-1.919 0L13.969 15.904 2.333 27.557a1.394 1.394 0 0 1-1.94 0c-.524-.542-.524-1.416 0-1.939L12.03 13.966.393 2.331z"/></svg>\n                    </button>\n                    <div class="popup__content">\n                        <div class="swiper-container popup__gallery-slider _pagination-counter">\n                            <div class="swiper">\n                                <div class="swiper-wrapper">\n                                    ').concat((t="",e.items.forEach(function(i){t+='<div class="swiper-slide">\n                            <figure class="popup-figure '.concat(e.hasCaption?"popup-figure--caption":"",'">\n                                <div class="popup-figure__content">\n                                    <picture class="popup-figure__picture swiper-zoom-container">\n                                        <img src="').concat(i.src,'" alt="').concat(i.alt,'">\n                                    </picture>\n                                </div>\n                                ').concat(n(i),"\n                            </figure>\n                        </div>")}),t),'\n                                </div>\n                            </div>\n                            <div class="swiper-pagination"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>')}function ej(e,t,n){return(ej="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=eA(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n||e):o.value}})(e,t,n||e)}function eA(e){return(eA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eM(e,t){return(eM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eB=function(){return!!e})()}var eI=/*#__PURE__*/function(e){var t;function n(e){var t,i,o,a;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),i=n,o=[e],i=eA(i),(t=(a=eB()?Reflect.construct(i,o||[],eA(this).constructor):i.apply(this,o))&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)).initialSlide=0,t.triggers=t.openBtn.querySelectorAll("[data-popup-gallery-trigger]"),t.items=t.openBtn.querySelectorAll("[data-popup-gallery-item]"),t}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eM(e,t)}(n,e),t=[{key:"_bindOpenEvents",value:function(){var e=this;this.triggers.forEach(function(t){t.addEventListener("click",function(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault();var n=e._getIndex(t.target);e._onClick(n)})})}},{key:"_setTemplates",value:function(){this.template=eP}},{key:"_setData",value:function(){this.data={type:this.type,animate:this.animate,buttonAriaLabel:this.closeButtonAriaLabel,items:this._collectSlidesData(),hasCaption:this._checkHasCaption()}}},{key:"_collectSlidesData",value:function(){return Array.from(this.items).map(function(e){return{src:e.getAttribute("data-src"),alt:e.getAttribute("data-alt"),caption:e.getAttribute("data-caption")}})}},{key:"_checkHasCaption",value:function(){for(var e=!1,t=0;t<this.items.length&&!(e=!!this.items[t].getAttribute("data-caption"));t++);return e}},{key:"_onClick",value:function(e){ej(eA(n.prototype),"_onClick",this).call(this),this.initialSlide=e,this._initSlider(),this.onClose=this._destroySlider}},{key:"_initSlider",value:function(){var e=document.querySelector(".popup-type-gallery");if(e){var t=e.querySelector(".popup__gallery-slider"),n=e.querySelector(".swiper");this.slider=new eT({item:t,settings:{effect:"linear",mousewheel:!0,speed:500,spaceBetween:12,zoom:!1,loop:this.items.length>1,keyboard:!0}}),this.slider.init(),n.swiper.slideTo(this.initialSlide,0,!1)}}},{key:"_getIndex",value:function(e){return o.getElementIndex(e.parentNode)}},{key:"_destroySlider",value:function(){this.slider.sliderDestroy()}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(n.prototype,t),n}(eu);function eq(e){return'<div class="popup '.concat(e.animate," ").concat(e.type,'">\n                <div class="popup__overlay"></div>\n                <button type="button" class="popup__close" aria-label="').concat(e.buttonAriaLabel,'">\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" class="mfp-close__svg"><path d="M.393 2.331C-.131 1.807-.131.935.393.393a1.392 1.392 0 0 1 1.94 0l11.636 11.652L25.625.393a1.366 1.366 0 0 1 1.919 0 1.356 1.356 0 0 1 0 1.938L15.908 13.966l11.636 11.652a1.358 1.358 0 0 1 0 1.939 1.368 1.368 0 0 1-1.919 0L13.969 15.904 2.333 27.557a1.394 1.394 0 0 1-1.94 0c-.524-.542-.524-1.416 0-1.939L12.03 13.966.393 2.331z"/></svg>\n                </button>\n                <div class="popup__wrap">\n                    <div class="popup__content">\n                        <div class="popup__video">\n                        <video class="popup__video-video" autoplay controls playsinline loop preload="auto">\n                            <source src="').concat(e.src,'" type="').concat(e.videoType,'"></source>\n                        </video>\n\n                        </div>\n                    </div>\n                </div>\n            </div>')}function eD(e){return(eD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eN(e,t){return(eN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ez(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ez=function(){return!!e})()}var eH=/*#__PURE__*/function(e){var t;function n(e){var t,i,o,a;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),i=n,o=[e],i=eD(i),(t=(a=ez()?Reflect.construct(i,o||[],eD(this).constructor):i.apply(this,o))&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)).type=e.type,t}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eN(e,t)}(n,e),t=[{key:"_setTemplates",value:function(){this.template=eq}},{key:"_setData",value:function(){this.data={buttonAriaLabel:this.closeButtonAriaLabel,type:this.type,animate:this.animate,src:this.openBtn.getAttribute("data-video"),videoType:this.openBtn.getAttribute("data-type")}}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(n.prototype,t),n}(eu);function eR(e){return'<div class="popup '.concat(e.animate," ").concat(e.type,'">\n                <div class="popup__overlay"></div>\n                <button type="button" class="popup__close" aria-label="').concat(e.buttonAriaLabel,'">\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" class="mfp-close__svg"><path d="M.393 2.331C-.131 1.807-.131.935.393.393a1.392 1.392 0 0 1 1.94 0l11.636 11.652L25.625.393a1.366 1.366 0 0 1 1.919 0 1.356 1.356 0 0 1 0 1.938L15.908 13.966l11.636 11.652a1.358 1.358 0 0 1 0 1.939 1.368 1.368 0 0 1-1.919 0L13.969 15.904 2.333 27.557a1.394 1.394 0 0 1-1.94 0c-.524-.542-.524-1.416 0-1.939L12.03 13.966.393 2.331z"/></svg>\n                </button>\n                <div class="popup__wrap">\n                    <div class="popup__content">\n                        <div class="popup__iframe">\n                            <iframe src="').concat(e.src,'" class="popup__iframe-iframe" frameborder="0" allowfullscreen></iframe>\n                        </div>\n                    </div>\n                </div>\n            </div>')}function eW(e){return(eW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eF(e,t){return(eF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function e$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(e$=function(){return!!e})()}var eZ=/*#__PURE__*/function(e){var t;function n(e){var t,i,o,a;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),i=n,o=[e],i=eW(i),(t=(a=e$()?Reflect.construct(i,o||[],eW(this).constructor):i.apply(this,o))&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)).type=e.type,t}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eF(e,t)}(n,e),t=[{key:"_setTemplates",value:function(){this.template=eR}},{key:"_setData",value:function(){this.data={buttonAriaLabel:this.closeButtonAriaLabel,type:this.type,animate:this.animate,src:this.openBtn.getAttribute("data-iframe")}}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(n.prototype,t),n}(eu);function eG(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var eV=function(){return null},eU=/*#__PURE__*/function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.wrapper=e.elem,this.hash=e.hash||this.wrapper.hasAttribute("data-tabs-hash")||!1,this.tabsParent=this.wrapper.querySelector(e.tabsParent||"[data-tab-buttons]")||null,this.tabItem=e.tabItem||"[data-tab-opener]",this.tabs=Array.from(this.tabsParent.querySelectorAll(this.tabItem)),this.isType=e.type||this.wrapper.dataset.type,this.tabsAnim=this.wrapper.dataset.tabs||"bottom",this.contentItem="true"!==this.isType?e.contentItem||"[data-tab]":"[data-tab-type]",this.contentsParent=this.wrapper.querySelector(e.contentsParent||"[data-tab-contents]")||null,this.contents=!!this.contentsParent&&o.siblings(this.contentsParent.querySelector(this.contentItem)),this.dataTab={},this.onChangeCallback=e.onChangeCallback||eV,this.activeClass="is-active"}return e=[{key:"init",value:function(){0!==this.tabs.length&&(this._setInitialState(),this._bindEvents())}},{key:"_setInitialState",value:function(){var e=this.tabsParent.querySelector(".".concat(this.activeClass))||this.tabs[0];if(this.hash){var t=this._getHash();e=t&&this.wrapper.querySelector('[data-tab-opener="'.concat(t,'"]'))||e}this.isType&&(this.contents=!!this.contentsParent&&Array.from(this.contentsParent.querySelectorAll(".col"))),this.toggleTab(e)}},{key:"_getHash",value:function(){return window.location.hash.replace(RegExp("^#","u"),"")}},{key:"_bindEvents",value:function(){this.wrapper.addEventListener("click",this._onTabs.bind(this))}},{key:"_onTabs",value:function(e){var t=e.target;t.closest(this.tabItem)&&(e.preventDefault(),e.stopPropagation()),t&&t.closest(this.tabItem)&&this.toggleTab(t.closest(this.tabItem))}},{key:"toggleTab",value:function(e){this._setData(e),this._changeState(),this.onChangeCallback(this.dataTab),this.isType&&this._toggleTabType()}},{key:"_setData",value:function(e){this.dataTab={tab:e,id:e.dataset.tabOpener}}},{key:"_changeState",value:function(){var e=this,t=this.dataTab.id;this.tabs.forEach(function(n){n.classList.toggle(e.activeClass,n.dataset.tabOpener===t)}),this.contentsParent&&this.contents.forEach(function(n){n.dataset.tab===t&&("fade"===e.tabsAnim?c.os.fromTo(n,{autoAlpha:0},{position:"relative",autoAlpha:1,duration:.75,ease:"Power3.easeInOut"}):c.os.fromTo(n,{y:25,autoAlpha:0},{position:"relative",autoAlpha:1,duration:.75,y:0,ease:"Power3.easeInOut",clearProps:"transform"})),n.classList.contains(e.activeClass)&&c.os.to(n,{position:"absolute",duration:.35,autoAlpha:0,ease:"Power3.easeInOut"}),n.classList.toggle(e.activeClass,n.dataset.tab===t)})}},{key:"_toggleTabType",value:function(){var e=this.dataTab.id;this.contents.forEach(function(t){t.dataset.tab===e||"all"===e?setTimeout(function(){t.style.display="block",t.style.opacity=1},200):(t.style.opacity=0,setTimeout(function(){t.style.display="none"},200))})}}],t=[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.querySelectorAll("[data-tabs]");t.length&&t.forEach(function(e){new n({elem:e}).init()})}}],e&&eG(n.prototype,e),t&&eG(n,t),n}();function eK(e){return'<div class="popup '.concat(e.animate," ").concat(e.type,'">\n                <div class="popup__overlay"></div>\n\n                <div class="popup__wrap">\n                    <div class="popup__preloader"></div>\n                    <div class="popup__content">').concat(e.content,'</div>\n                    <button type="button" class="popup__close" aria-label="').concat(e.buttonAriaLabel,'">\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" class="mfp-close__svg"><path d="M.393 2.331C-.131 1.807-.131.935.393.393a1.392 1.392 0 0 1 1.94 0l11.636 11.652L25.625.393a1.366 1.366 0 0 1 1.919 0 1.356 1.356 0 0 1 0 1.938L15.908 13.966l11.636 11.652a1.358 1.358 0 0 1 0 1.939 1.368 1.368 0 0 1-1.919 0L13.969 15.904 2.333 27.557a1.394 1.394 0 0 1-1.94 0c-.524-.542-.524-1.416 0-1.939L12.03 13.966.393 2.331z"/></svg>\n                    </button>\n                </div>\n            </div>')}function eY(e){return(eY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eX(e,t){return(eX=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eJ=function(){return!!e})()}var eQ=/*#__PURE__*/function(e){var t;function n(e){var t,i,o,a;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),i=n,o=[e],i=eY(i),(t=(a=eJ()?Reflect.construct(i,o||[],eY(this).constructor):i.apply(this,o))&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)).type=e.type,t.removeDelay=e.removeDelay,t.content=null,t.setInterval=null,t._setData=t._setData.bind(t),t.serverConnection=t._sendDataRequest.bind(t),t}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eX(e,t)}(n,e),t=[{key:"_sendDataRequest",value:function(){var e=this,t=this.openBtn.getAttribute("href");o.send(null,t,{success:function(t){e.content=t},error:function(e){console.error("Server error with status ".concat(e))},complete:function(){e.content=e.content,e._createPopup(),e.displayPopup(),e.content=null;var t=document.querySelector(".popup-type-ajax");console.log("⟶ ",t.querySelector(".popup__content")),o.bodyFixed(t.querySelector(".popup__content"));var n=t.querySelector("[data-slider]");if(n&&new eT({item:n,settings:{speed:750,loop:!0,effect:"linear",spaceBetween:4}}).init(),self.isTabHash){var i=t.querySelector('[data-tab-opener="'.concat(self.tabHash,'"]'));i&&i.classList.add("is-active")}var a=t.querySelectorAll("[data-tabs]");a.length&&a.forEach(function(e){new eU({elem:e}).init()});var s=t.querySelector("[data-popup]");s&&s.addEventListener("click",function(e){e.preventDefault();var t=s.getAttribute("href");t&&window.Site.Modules.Popup.showPopup({items:{src:t}},"inline")}),window.Popup.update(),window.sliderGalleryPopup.update()}},"GET")}},{key:"_setTemplates",value:function(){this.template=eK}},{key:"showPopup",value:function(){this.popup.classList.add(this.openStateClass)}},{key:"_onClick",value:function(){this.serverConnection()}},{key:"_setData",value:function(){this.data={content:this.content,type:this.type,animate:this.animate,buttonAriaLabel:this.closeButtonAriaLabel}}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(n.prototype,t),n}(ee),e0=new S,e1=/*#__PURE__*/function(){var e;function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.popup=e.openButton,this.cookies=G.A,this.popupDelay=this.popup.dataset.popupDelay||4e3,this.popupId=this.popup.getAttribute("id")}return e=[{key:"init",value:function(){var e=this;this._getCookie(this.popupId)||(setTimeout(function(){window.Popup.open({id:"#".concat(e.popupId),type:"popup-type-callback",closeOpenedPopup:!1})},this.popupDelay),e0.subscribe("popupClosed",function(t){t.getAttribute("data-id")===e.popupId&&e._setCookie(e.popupId,"yes")}))}},{key:"_setCookie",value:function(e,t){this.cookies.set(e,t,{expires:1/48})}},{key:"_getCookie",value:function(e){return this.cookies.get(e)}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,e),t}();function e3(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function e2(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function e6(e,t,n){return t&&e2(e.prototype,t),n&&e2(e,n),e}function e9(e){return(e9=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e5(e,t){return(e5=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function e4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(e4=function(){return!!e})()}var e8=new S,e7=/*#__PURE__*/function(){function e(){e3(this,e)}return e6(e,null,[{key:"init",value:function(){window.Popup={},window.Popup=new te,window.Popup.update=function(){var e=Array.from(document.querySelectorAll("[data-popup]"));e.length&&e.forEach(function(e){if(!e.classList.contains("is-init")){var t=e.getAttribute("data-popup"),n={openButton:e,animate:"popup-animate-fade"};switch(t){case"ajax":n.type="popup-type-ajax",n.removeDelay=700,n.animate="popup-animate-fadeInTop",new eQ(n).init();break;case"image":n.type="popup-type-image",new ev(n).init();break;case"video":n.type="popup-type-video",new eH(n).init();break;case"iframe":n.type="popup-type-iframe",new eZ(n).init();break;case"gallery":n.type="popup-type-gallery",new eI(n).init();break;case"delay":new e1(n).init();break;case"hash":e8.subscribe("preloader:end",function(){n.type="popup-type-callback",new eh(n).init()});break;default:n.type="popup-type-callback",new eu(n).init()}e.classList.add("is-init")}})},window.Popup.update()}}]),e}(),te=/*#__PURE__*/function(e){function t(e){var n,i,o;return e3(this,t),n=t,i=[e],n=e9(n),(o=e4()?Reflect.construct(n,i||[],e9(this).constructor):n.apply(this,i))&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&e5(e,t)}(t,e),e6(t,[{key:"open",value:function(e){var t;this.id=e.id,this.type=e.type,this.closeOpenedPopup=null===(t=e.closeOpenedPopup)||void 0===t||t,this.closeOpenedPopup&&this.close(),this._setData(),this._onClick()}},{key:"close",value:function(){e8.publish("popupClose")}},{key:"_setData",value:function(){var e=this.id;this.data={content:document.querySelector(e).innerHTML,type:this.type,animate:this.animate,id:e.replace("#",""),buttonAriaLabel:this.closeButtonAriaLabel}}},{key:"_onClick",value:function(){this._createPopup(),this.displayPopup()}}]),t}(ee);function tt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var tn=/*#__PURE__*/function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.textContent=e,this.textContent&&(this.iframes=this.textContent.querySelectorAll(":scope > iframe"),this.images=this.textContent.querySelectorAll(":scope > img"),this.tables=this.textContent.querySelectorAll(":scope > table"))}return e=[{key:"_init",value:function(){var e=this;this.iframes.forEach(function(t){e.iframeContent(t)}),this.images.forEach(function(t){e.imageContent(t)}),this.tables.forEach(function(t){e.tableContent(t)})}},{key:"iframeContent",value:function(e){o.wrapContent(e,"div","ui-iframe")}},{key:"tableContent",value:function(e){o.wrapContent(e,"div","table-responsive")}},{key:"imageContent",value:function(e){var t=e.getAttribute("alt");o.wrapContent(e,"figure");var n=e.parentNode;o.insetContent(n,"<figcaption>"+t+"</figcaption>")}}],t=[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.querySelectorAll(".text-content");t.length&&t.forEach(function(e){new n(e)._init()})}}],e&&tt(n.prototype,e),t&&tt(n,t),n}();function ti(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var to=/*#__PURE__*/function(){var e,t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n)}return e=[{key:"init",value:function(){var e=document.querySelectorAll("[data-slider]");e.length&&e.forEach(function(e){new eT({item:e,settings:{speed:900,loop:!0,effect:"linear",spaceBetween:4}}).init()}),window.sliderGalleryPopup={},window.sliderGalleryPopup.update=function(){var e=document.querySelectorAll(".popup-info__article-gallery-slider");e.length&&o.isTablet()&&e.forEach(function(e){new eT({item:e,settings:{slidesPerView:"auto",spaceBetween:8,speed:750,loop:!1,pagination:!1,navigation:!1}}).init()})}}}],t=[{key:"init",value:function(){new n().init()}}],e&&ti(n.prototype,e),t&&ti(n,t),n}(),ta=/*#__PURE__*/function(){function e(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e)}return function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e,[{key:"ru",value:function(){return{errorLoading:function(){return"Результат не может быть загружен."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Пожалуйста, удалите "+t+" символ";return t>=2&&t<=4?n+="а":t>=5&&(n+="ов"),n},inputTooShort:function(e){return"Пожалуйста, введите "+(e.minimum-e.input.length)+" или более символов"},loadingMore:function(){return"Загружаем ещё ресурсы…"},maximumSelected:function(e){var t="Вы можете выбрать "+e.maximum+" элемент";return e.maximum>=2&&e.maximum<=4?t+="а":e.maximum>=5&&(t+="ов"),t},noResults:function(){return"Ничего не найдено"},searching:function(){return"Поиск…"},removeAllItems:function(){return"Удалить все елементы"}}}}]),e}();n(458);var ts=n(692);function tr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var tl=/*#__PURE__*/function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.$element=ts(e.element),this.element=e.element,this.isSingle=this.$element.hasClass("j-select-single"),this.isMultiple=this.$element.hasClass("j-select-multiple"),this.right=this.$element.hasClass("select-right"),this.data=this.$element.data("json")}return e=[{key:"init",value:function(){this.options={minimumResultsForSearch:1/0,dropdownCssClass:":all:",templateResult:this._formatState,cashe:!0,width:"100%",multiple:this.isMultiple,closeOnSelect:!this.isMultiple,allowClear:!1,dropdownAutoWidth:!0,dropdownParent:this.$element.parent(),language:ta.ru(),data:this.data?this.data:null,escapeMarkup:function(e){return e}},this.$element.select2(this.options),this._bindEvents(),this.getNumberSelection(),this.setPlaceholder()}},{key:"_bindEvents",value:function(){this.$element.on("select2:open",this._onOpen.bind(this)),this.$element.on("select2:selecting",this._onSelecting.bind(this)),this.$element.on("select2:select",this._onSelect.bind(this)),this.$element.on("select2:unselect",this._onUnSelect.bind(this)),this.$element.on("select2:close",this._onClose.bind(this))}},{key:"_formatState",value:function(e){if(!e.id)return e.text;var t=e.status?'<span class="select2-item-state">'.concat(e.status,"</span>"):"";return ts('<div class="select2-item">\n            <span class="select2-item-text"> '.concat(e.text," </span>\n            ").concat(t,"\n            </div>"))}},{key:"_onOpen",value:function(){}},{key:"_onSelecting",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$element.find('option[value="all"]').prop("selected",t)}},{key:"_onSelect",value:function(e){this.getNumberSelection(),this.checkOptions();var t=e.params.data;this.checkOptions(t);var n="";void 0!==t.$element&&(n=t.$element.dataset.link),void 0!==n&&""!==n&&(document.location.href=n)}},{key:"_onUnSelect",value:function(){this.checkOptions(),this.getNumberSelection()}},{key:"_onClose",value:function(){this.getNumberSelection()}},{key:"getNumberSelection",value:function(){var e=this.$element.select2("data").length;0===e&&this.setPlaceholder(),e<3||this.$element.next("span.select2").find("ul").html('<li class="select2-selection__choice__display">Выбрано: '.concat(e,"</li>"))}},{key:"setPlaceholder",value:function(){var e=this.$element.data("placeholder"),t=this.isMultiple?this.$element.next("span.select2").find("ul"):this.$element.next("span.select2").find(".select2-selection__rendered"),n=this.$element.find("option:selected"),i=this.$element.find('option[value="all"]:selected');1!==i.length&&""!==e&&e&&t.html("".concat(e)),i.length||n.length||(this._onSelecting(this,!0),t.html("<li>".concat(e,"</li>")))}},{key:"checkOptions",value:function(e){var t=this.element.querySelectorAll("option"),n=[];if(e&&"all"===e.element.getAttribute("value")){this.getValue("all"),this.$element.select2("close");return}t.forEach(function(e){e.selected&&("all"===e.getAttribute("value")&&(e.selected=!1),n.push(e))}),0===n.length&&(this.getValue("all"),this.$element.select2("close"))}},{key:"destroy",value:function(){this.$element.select2("destroy")}},{key:"disable",value:function(){this.$element.prop("disabled",!0)}},{key:"clearingfilter",value:function(){this.$element.val(null).trigger("change")}},{key:"getValue",value:function(e){this.$element.val(e).trigger("change")}},{key:"checkInit",value:function(){return this.$element.hasClass("select2-hidden-accessible")}}],t=[{key:"init",value:function(){var e=document.querySelectorAll(".j-select");e.length&&e.forEach(function(e){new n({element:e}).init()})}}],e&&tr(n.prototype,e),t&&tr(n,t),n}();n(822);var tc=n(692);function tu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var th=new S,tp=/*#__PURE__*/function(){var e,t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.rangeSlider={}}return e=[{key:"initRange",value:function(e){this.$wrapper=tc(e.element),this.outerOptions=e.outerOptions||this.$wrapper.find(".j-form-range-base").data(),this._setOptions(),this._initRangeSlider(),this._getElements(),this._bindEvents(),this._subscribes(),this._initDigit()}},{key:"_setOptions",value:function(){var e=this;this.options={skin:"round",type:this.outerOptions.type,min:this.outerOptions.min,max:this.outerOptions.max,from:this.outerOptions.from,to:this.outerOptions.to,step:this.outerOptions.step,min_interval:this.outerOptions.step,digit:this.outerOptions.digit||!1,disable:this.outerOptions.disable||!1,validate:this.outerOptions.validate,hide_from_to:!0,hide_min_max:!0,prettify_enabled:!0,onStart:function(t){th.publish("rangesliderStart",t,e)},onChange:function(t){e._updateInputs(t),th.publish("rangesliderChange",t)},onFinish:function(e){th.publish("rangesliderFinish",e)}},this.startOptions=this.options,this.isNumberShort="number_short"===this.options.validate}},{key:"_initRangeSlider",value:function(){this.$rangeSlider=this.$wrapper.find(".j-form-range-base"),this.$rangeSlider.ionRangeSlider(this.options)}},{key:"_getElements",value:function(){this.$inputs=this.$wrapper.find(".form-range__input"),this.$inputFrom=this.$inputs.first(),this.$inputTo="double"===this.options.type?this.$inputs.last():null,this.slider=this.$rangeSlider.data("ionRangeSlider"),this.id=this.slider.input.id,this.rangeSlider[this.id]=this.slider,this.$inputOutMin=this.$wrapper.find(".j-form-range-output-min"),this.$inputOutMax=this.$wrapper.find(".j-form-range-output-max")}},{key:"_subscribes",value:function(){th.subscribe("resetFilter",this._reset.bind(this))}},{key:"_bindEvents",value:function(){var e=this;this.$inputFrom.on("change",this._onInputFromChange.bind(this)),"double"===this.options.type&&this.$inputTo.on("change",this._onInputToChange.bind(this)),this.$inputs.each(function(t,n){if(e.isNumberShort){var i=tc(n),o=i.val();i.val(e._getNumberDecimal(o))}n.addEventListener("input",function(t){var n=tc(t.target),i=n.val();e._validate(n),e._setDigit(n,i)})})}},{key:"_onInputFromChange",value:function(e){var t=e.target.name.slice(0,-5),n=this._getNumber(tc(e.target).val()),i=this.slider.result.to,o="number_decimal"===this.options.validate?1:0,a="number"===this.options.validate,s="single"===this.options.type?0:this.options.step;a||(n=this._getNumberThousands(n)),n<this.options.min?n=this.options.min:n>i&&(n=i-s),n=n.toFixed(o),tc(e.target).val(a?n:this._getNumberDecimal(n)),this._getOutputInputs("".concat(t,"-from"),n),this._setDigit(tc(e.target),n),this._update({from:n})}},{key:"_onInputToChange",value:function(e){var t=e.target.name.slice(0,-5),n=this._getNumber(tc(e.target).val()),i=this.slider.result.from,o="number_decimal"===this.options.validate?1:0,a="number"===this.options.validate;a||(n=this._getNumberThousands(n)),n<=i?n=i+this.options.step:n>this.options.max&&(n=this.options.max),n=n.toFixed(o),tc(e.target).val(a?n:this._getNumberDecimal(n)),this._getOutputInputs("".concat(t,"-to"),n),this._setDigit(tc(e.target),n),this._update({to:n})}},{key:"_validate",value:function(e){var t=this.options.validate;if(t)switch(t){case"number":this._validateNumber(e);break;case"number_decimal":this._validateNumberDecimal(e)}}},{key:"_validateNumber",value:function(e){var t=e.val();t=t.replace(/\s/g,""),e.val(/\d*/.exec(t))}},{key:"_validateNumberDecimal",value:function(e){var t=e.val();e.val(/\d*\.?\d?/g.exec(t))}},{key:"_getNumberDecimal",value:function(e){return(e/1e6).toFixed(1)}},{key:"_getNumberThousands",value:function(e){return 1e6*e}},{key:"_update",value:function(e){this.slider.update(e)}},{key:"_updateInputs",value:function(e){var t=this.$rangeSlider[0].id;this.$inputFrom.val(this.isNumberShort?this._getNumberDecimal(e.from):e.from),"price"===t&&this._getOutputInputs("".concat(t,"-from"),this._getNumber(e.from_pretty)),this._setDigit(this.$inputFrom,e.from),"double"===this.options.type&&(this.$inputTo.val(this.isNumberShort?this._getNumberDecimal(e.to):e.to),"price"===t&&this._getOutputInputs("".concat(t,"-to"),this._getNumber(e.to_pretty)),this._setDigit(this.$inputTo,e.to))}},{key:"_reset",value:function(){this.slider.input.classList.contains("is-not-search")||("double"===this.options.type?(this.startOptions.from=this.startOptions.min,this.startOptions.to=this.startOptions.max,this.$inputFrom[0].setAttribute("value",this.startOptions.from),this.$inputTo[0].setAttribute("value",this.startOptions.to),this.$inputFrom.val(this.startOptions.from),this.$inputTo.val(this.startOptions.to)):(this.startOptions.from=this.startOptions.max,this.$inputFrom[0].setAttribute("value",this.startOptions.max),this.$inputFrom.val(this.startOptions.max)),this.slider.update(this.startOptions),this._updateInputs(this.startOptions))}},{key:"_initDigit",value:function(){var e=this;this.$inputs.each(function(t,n){e.options.digit&&e._setDigit(tc(n))})}},{key:"_setDigit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.options.digit){var n=t||e.val(),i=this._getNumber(n);e.val(o.convertToDigit(i))}}},{key:"_getNumber",value:function(e){return e?o.convertToNumber(e):0}},{key:"_getOutputInputs",value:function(e,t){"price-from"===e&&this.$inputOutMin.val(t),"price-to"===e&&this.$inputOutMax.val(t)}}],t=[{key:"init",value:function(){var e=document.querySelectorAll(".form-range:not(.form-range--mortgage)");e&&e.forEach(function(e){new n().initRange({element:e})})}}],e&&tu(n.prototype,e),t&&tu(n,t),n}();function td(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var tf=/*#__PURE__*/function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.header=e,this.headerMain=document.querySelector(".header"),this.innerElement=this.header.querySelector(".header__inner"),this.height=this.header.offsetHeight,this.heightBase=this.innerElement.offsetHeight,this.scrollPosition=0,this.classes={show:"is-showed",hide:"is-hidden",animate:"is-animate",fix:"is-fixed",themeTransparent:"header-theme--fixed"},this.wrapperSite=document.querySelector(".wrapper"),this._changeState=this._changeState.bind(this),this.transitionTime=300,this.isFixedDefault=!1}return e=[{key:"init",value:function(){this._initState(),this._bindEvents(),this._changeState()}},{key:"_checkTop",value:function(){if(this.isFixedDefault)return document.querySelector("html").classList.add("_main-page"),this.headerMain.classList.add(this.classes.themeTransparent),!1;o.isDesktop()&&(this.wrapperSite.style.paddingTop=this.height+"px")}},{key:"_initState",value:function(){!this.header.dataset.static&&(this.scrollPosition=o.getScrollTop(),this._isScrollInTarget()||this.header.classList.add(this.classes.fix,this.classes.hide))}},{key:"_bindEvents",value:function(){var e=this;window.addEventListener("scroll",(0,m.s)(6,this._changeState)),["resize","orientationchange"].forEach(function(t){window.addEventListener(t,function(){e.height=e.header.offsetHeight,e.heightBase=e.innerElement.offsetHeight,e._changeState()})})}},{key:"_changeState",value:function(){if(!this.header.dataset.static){this.scrollPosition=o.getScrollTop();var e=this.classes,t=e.animate,n=e.fix,i=e.hide,a=e.show;this._isScrollUp()&&(window.scrollY>10&&(this.header.classList.add(a,n,t),this.header.classList.remove(i)),this._isScrollInTarget(-1*this.height)&&this.header.classList.remove(n,t,i,a)),this._isScrollDown()&&window.scrollY>10&&(this.header.classList.add(i,t),this.header.classList.add(a,n)),this.prevScrollPosition=this.scrollPosition}}},{key:"_isScrollUp",value:function(){return this.scrollPosition-this.prevScrollPosition<-1}},{key:"_isScrollDown",value:function(){return this.scrollPosition>this.height&&this.scrollPosition-this.prevScrollPosition>1}},{key:"_isScrollInTarget",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.scrollPosition<100)return!0;if(!this.targetElement)return!1;var t=this.targetElement.offsetHeight-e;return t<0&&(t=0),t>this.scrollPosition&&this.scrollPosition}}],t=[{key:"init",value:function(){var e=document.querySelector(".header");e&&!window.environmentObject.isKitPage&&new n(e).init()}}],e&&td(n.prototype,e),t&&td(n,t),n}();n(558);var tm=n(591);function tv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ty=/*#__PURE__*/function(){var e,t;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.elem=e.element,this.theme=this.elem.dataset.scrollbar||"round-dark",this.options={}}return e=[{key:"init",value:function(){this._setOptions(),(0,tm.ae)(this.elem,this.options)}},{key:"_setOptions",value:function(){this.options={overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-".concat(this.theme),visibility:"auto",dragScroll:!0,clickScroll:!1,touchSupport:!0,snapHandle:!1,autoHide:"right"===this.theme?"move":"never"}}}}],t=[{key:"init",value:function(){var e=document.querySelectorAll("[data-scrollbar");e.length&&e.forEach(function(e){new n({element:e}).init()})}}],e&&tv(n.prototype,e),t&&tv(n,t),n}(),tb=n(380),tg=/*#__PURE__*/n.n(tb);n(371);var t_=n(692);function tk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var tw=/*#__PURE__*/function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.form=e,this.form&&(this.formValidate="false"!==this.form.dataset.validate,this.constraints=null,this.inputs=this.form.querySelectorAll("input, textarea"),this.BtnSubmit=this.form.querySelector("button"),this.inputs=Array.from(this.inputs).filter(function(e){return"hidden"!==e.type&&""!==e.getAttribute("notvalidate")}))}return e=[{key:"init",value:function(){this.initPhoneMask(),this.inputFocus(),this.formValidate&&(this.setOptions(),this.bindEvents())}},{key:"initPhoneMask",value:function(){t_(this.form).find("input[type=tel]").mask("+7(A00)000-00-00",{translation:{A:{pattern:/[0-69]/}}})}},{key:"checkRequiredEmail",value:function(){var e=!1;return(this.inputs.forEach(function(t){"email"===t.type&&t.required&&(e=!0)}),e)?{message:"^Поле обязятельно для заполнения"}:null}},{key:"setOptions",value:function(){var e={message:"^Поле обязятельно для заполнения"};this.constraints={email:{presence:this.checkRequiredEmail(),email:{message:"^Введите корректный e-mail"}},phone:{presence:e,length:{minimum:16,message:"^Неправильный формат телефона"}},message:{length:{minimum:5,message:"^Минимум 5 символов"}},name:{presence:e,length:{minimum:2,maximum:20,message:"^Минимум 2 символа"},format:{pattern:/^[a-zA-Zа-яёА-ЯЁs\s]+$/i,message:"^Имя может содержать только буквы"}},agreement:{presence:{message:"^Для продолжения необходимо согласие с условиями"},inclusion:{within:[!0],message:"^Для продолжения необходимо согласие с условиями"}}}}},{key:"inputFocus",value:function(){var e=document.querySelectorAll(".form-input__label, .form-textarea__label");function t(e){var t=e.target.parentNode;t.classList.add("is-focused"),t.classList.add("is-filled")}function n(e){var t=e.target.parentNode,n=e.target;t.classList.remove("is-focused"),""===n.value.trim()&&t.classList.remove("is-filled")}e.length&&e.forEach(function(e){var i=e.previousElementSibling,o=e.parentNode;i.value&&""!==i.value.trim()&&o.classList.add(".is-filled"),i.addEventListener("focus",t),i.addEventListener("blur",n)})}},{key:"bindEvents",value:function(){var e=this;this.inputs.forEach(function(t){t.addEventListener("change",function(){var n=tg()(e.form,e.constraints)||{};e.showErrorsForInput(t,n[t.name]),e._validate()}),t.addEventListener("keyup",function(){var n=tg()(e.form,e.constraints)||{};""!==t.value.trim()&&(e.showErrorsForInput(t,n[t.name]),e._validate())})})}},{key:"_validate",value:function(){var e=this,t=!0;this.inputs.forEach(function(n){var i=e.validateInput(n);void 0===i||i.result||(t=!1)}),this.BtnSubmit&&t&&this.BtnSubmit.classList.remove("is-disabled")}},{key:"validateInput",value:function(e){var t=e.closest(".form-input");if(t||(t=e.closest(".form-policy")),t)return t.classList.contains("has-error")?{result:!1}:{result:!0}}},{key:"showErrorsForInput",value:function(e,t){var n=this,i=e.closest(".form-input");if(i||(i=e.closest(".form-policy")),i){var o=i.querySelector(".form-input__messages");this.resetFormGroup(i),t?(i.classList.add("has-error"),t.forEach(function(e){n.addError(o,e)}),this.BtnSubmit.classList.add("is-disabled")):i.classList.add("has-success")}}},{key:"resetFormGroup",value:function(e){e.classList.remove("has-error"),e.classList.remove("has-success");var t=e.querySelectorAll(".help-block.error");t.length&&t.forEach(function(e){e.parentNode.removeChild(e)})}},{key:"addError",value:function(e,t){var n=document.createElement("p");n.classList.add("help-block"),n.classList.add("error"),n.innerText=t,e.appendChild(n)}}],t=[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.querySelectorAll("[data-validate]");t.length&&t.forEach(function(e){new n(e).init()})}}],e&&tk(n.prototype,e),t&&tk(n,t),n}();function tS(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var tE=/*#__PURE__*/function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.kitWrap=e,this.bodyNode=document.body,this.themeSwitcherElem=this.kitWrap.querySelector(".switch-appearance"),this.themeMode="light",this.navItems=this.kitWrap.querySelectorAll(".kit-nav__item"),this.rightItems=this.kitWrap.querySelectorAll(".kit-content__item"),this.dropdownElems=this.kitWrap.querySelectorAll("[data-dropdown-toggle]")}return e=[{key:"init",value:function(){var e=this;this._themeDetect(),this._bindEvents(),this.bodyNode.classList.add("page-kit"),setTimeout(function(){e.kitWrap.style.opacity=1},600),this._initPrism(),this._initClipboard(),this._initCloseSidebar(),this._checkDropdownOnActiveElement()}},{key:"_bindEvents",value:function(){var e=this;this.themeSwitcherElem&&this.themeSwitcherElem.addEventListener("click",this._themeToggle.bind(this)),this.navItems.forEach(function(t){t.addEventListener("click",e._setHash.bind(e))}),this.dropdownElems.length&&this.dropdownElems.forEach(function(t){t.addEventListener("click",e._toggleDropdown.bind(e))})}},{key:"_initPrism",value:function(){Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0})}},{key:"_initCloseSidebar",value:function(){var e=this,t=document.querySelector(".kit-sidebar__head-toggle"),n="default";"collapsed"===localStorage.getItem("layout-style")&&(n="collapsed",this.kitWrap.setAttribute("data-layout-style",n)),t&&t.addEventListener("click",function(){n="default"===n?"collapsed":"default",e.kitWrap.setAttribute("data-layout-style",n),localStorage.setItem("layout-style",n)})}},{key:"_initClipboard",value:function(){var e=document.querySelectorAll("[data-clipboard]");e.length<1||e.forEach(function(e){var t=e.querySelector("[data-clipboard-tooltip]"),n=new ClipboardJS(e,{target:function(e){return e.nextElementSibling}});n.on("success",function(){t.innerHTML="Скопировано!"}),n.on("error",function(){t.innerHTML="Ошибка!"})})}},{key:"_checkDropdownOnActiveElement",value:function(){this.dropdownElems.forEach(function(e){var t=e.nextElementSibling;t.querySelectorAll(".kit-nav__dropdown-link").forEach(function(e){e.firstChild.classList.contains("is-active")&&t.previousElementSibling.classList.add("is-open")})})}},{key:"_toggleDropdown",value:function(e){var t=e.target,n=t.classList.contains("is-open");this.dropdownElems.forEach(function(e){e.classList.remove("is-open")}),n?t.classList.remove("is-open"):t.classList.add("is-open")}},{key:"_setHash",value:function(e){var t=(e.target.dataset.tabOpener?e.target:e.target.parentNode).dataset.tabOpener;t&&this.setHash(t),o.isDesktop()||this._menuToggle()}},{key:"_themeDetect",value:function(){var e=localStorage.getItem("theme-appearance");e?"light"===e?this._setThemeLight():this._setThemeDark():(localStorage.setItem("theme-appearance","light"),this._setThemeLight())}},{key:"_themeToggle",value:function(){"light"===this.themeMode?this._setThemeDark():this._setThemeLight()}},{key:"_setThemeLight",value:function(){this.themeMode="light",localStorage.setItem("theme-appearance",this.themeMode),this.kitWrap.setAttribute("data-theme",this.themeMode)}},{key:"_setThemeDark",value:function(){this.themeMode="dark",localStorage.setItem("theme-appearance",this.themeMode),this.kitWrap.setAttribute("data-theme",this.themeMode)}},{key:"getHash",value:function(){return window.location.hash.replace(RegExp("^#","u"),"")}},{key:"setHash",value:function(e){return window.location.hash="#"+e}},{key:"isBreakpoint",value:function(e,t){return window.innerWidth>=e&&window.innerWidth<t}}],t=[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.querySelector(".kit-wrapper");t&&new n(t).init()}}],e&&tS(n.prototype,e),t&&tS(n,t),n}(),tx=/*#__PURE__*/function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.ymaps=window.ymaps}return e=[{key:"init",value:function(e){this.geoObjectCollection=e,this.create()}},{key:"create",value:function(){var e=this.ymaps.templateLayoutFactory.createClass('<div class="yandex-map__cluster">{{ properties.geoObjects.length }}</div>');this.clusterer=new this.ymaps.Clusterer({clusterIconLayout:e,groupByCoordinates:!1,gridSize:128,zoomMargin:50,hasBalloon:!1,minClusterSize:5,clusterIconShape:{type:"Circle",coordinates:[0,0],radius:40}});var t=this.geoObjectCollection.toArray().filter(function(e){return"Placemark"===e.options.get("type")&&!e.options.get("data").not_cluster});this.clusterer.add(t),this.geoObjectCollection.add(this.clusterer)}},{key:"addGeoObjectToClusterer",value:function(e){this.clusterer.add(e)}},{key:"removeGeoObjectToClusterer",value:function(e){this.clusterer.remove(e)}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,e),t}(),tC=n(692),tO=new S,tL=/*#__PURE__*/function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return e=[{key:"init",value:function(e,t,n){this.map=e,this.mapWrapper=this.map.container._parentElement.closest(".j-yandex-map"),this.overlay=this.mapWrapper.querySelector(".yandex-map__overlay"),this.settings=t,this.ymaps=n,this.body=document.querySelector("body"),this.header=document.querySelector(".header"),this.mapName=!!t.name&&t.name,this._initZoom(),this._initScrollZoom(),this._addFullScreenControl(),this._bindEvents(),t.disableMobileDrag&&this._disableMobileDrag()}},{key:"_initZoom",value:function(){this.settings.zoomControl&&(this.settings.customZoomControl?this._initCustomZoomControl():this.map.controls.add("zoomControl"))}},{key:"_initScrollZoom",value:function(){this.settings.zoomScroll?this.map.behaviors.enable("scrollZoom"):this.map.behaviors.disable("scrollZoom")}},{key:"_addFullScreenControl",value:function(){this.settings.fullScreenControl&&(this.settings.customFullScreenControl?this._initCustomFullscreenControl():this.map.controls.add("fullscreenControl"))}},{key:"_bindEvents",value:function(){var e=this;["resize","orientationchange"].forEach(function(t){window.addEventListener(t,e._setZoomControlPosition.bind(e))})}},{key:"_disableMobileDrag",value:function(){var e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};e.any()&&this.map.behaviors.disable("drag")}},{key:"_initCustomZoomControl",value:function(){var e=this.ymaps;this.zoomControl=new e.control.ZoomControl({options:{layout:this._createLayoutZoomControl()}}),this.map.controls.add(this.zoomControl,{float:"none"}),this._setZoomControlPosition()}},{key:"_createLayoutZoomControl",value:function(){var e,t=this.ymaps,n=this.map.container._parentElement.id,i=t.templateLayoutFactory.createClass((e={mapId:n},'\n  <div class="yandex-map__zoom-wrapper">\n    <div class="yandex-map__zoom-button yandex-map__zoom-button--zoom-in" id="'.concat(e.mapId,'-zoom-in">\n        <svg viewBox="0 0 426.66667 426.66667" xmlns="http://www.w3.org/2000/svg"><path d="m405.332031 192h-170.664062v-170.667969c0-11.773437-9.558594-21.332031-21.335938-21.332031-11.773437 0-21.332031 9.558594-21.332031 21.332031v170.667969h-170.667969c-11.773437 0-21.332031 9.558594-21.332031 21.332031 0 11.777344 9.558594 21.335938 21.332031 21.335938h170.667969v170.664062c0 11.777344 9.558594 21.335938 21.332031 21.335938 11.777344 0 21.335938-9.558594 21.335938-21.335938v-170.664062h170.664062c11.777344 0 21.335938-9.558594 21.335938-21.335938 0-11.773437-9.558594-21.332031-21.335938-21.332031zm0 0"/></svg>\n    </div>\n    <div class="yandex-map__zoom-button yandex-map__zoom-button--zoom-out" id="').concat(e.mapId,'-zoom-out">\n        <svg viewBox="0 -192 426.66667 426" xmlns="http://www.w3.org/2000/svg"><path d="m405.332031 43h-384c-11.773437 0-21.332031-9.558594-21.332031-21.332031 0-11.777344 9.558594-21.335938 21.332031-21.335938h384c11.777344 0 21.335938 9.558594 21.335938 21.335938 0 11.773437-9.558594 21.332031-21.335938 21.332031zm0 0"/></svg>\n    </div>\n    </div>')),{build:function(){i.superclass.build.call(this),this.zoomInCallback=t.util.bind(this.zoomIn,this),this.zoomOutCallback=t.util.bind(this.zoomOut,this),tC("#".concat(n,"-zoom-in")).bind("click",this.zoomInCallback),tC("#".concat(n,"-zoom-out")).bind("click",this.zoomOutCallback)},clear:function(){tC("#".concat(n,"-zoom-in")).unbind("click",this.zoomInCallback),tC("#".concat(n,"-zoom-out")).unbind("click",this.zoomOutCallback),i.superclass.clear.call(this)},zoomIn:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()-1,{checkZoomRange:!0})}});return i}},{key:"_setZoomControlPosition",value:function(){var e=this.map.container._size[1];this.zoomControl&&("contacts"===this.mapName?this.zoomControl.options.set("position",{top:e/2,left:10}):this.zoomControl.options.set("position",{top:e/2,right:10}))}},{key:"_initCustomFullscreenControl",value:function(){var e=this,t=this.ymaps,n={},i=null;i=t.templateLayoutFactory.createClass('<div class="yandex-map__fullscreen-button-wrapper"><div class="yandex-map__fullscreen-button-inner container">'.concat('\n            <button class="btn btn-xs btn-secondary _icon-right yandex-map__fullscreen-button-close" '.concat(void 0,'>\n                <span class="btn-text">ЗАКРЫТЬ КАРТУ</span>\n                <span class="btn-icon">\n                    <i class="icon-x-close"></i>\n                </span>\n            </button>')+'\n            <button class="btn btn-xs btn-secondary _icon-right yandex-map__fullscreen-button-open">\n                <span class="btn-text">ОТКРЫТЬ КАРТУ</span>\n                <span class="btn-icon">\n                    <i class="icon-maximize-02"></i>\n                </span>\n            </button>',"</div></div>")),n="contacts"===this.mapName?{bottom:o.isMobile()?24:48,left:0,right:0}:{top:26,right:10};var a=new t.control.FullscreenControl({options:{layout:i,position:n}});this.map.controls.add(a),this.overlay&&this.overlay.addEventListener("click",function(t){t.preventDefault(),a.enterFullscreen(),e._setZoomControlPosition(),e.body.classList.add("map-open"),e.body.classList.add("map-open--".concat(e.mapName)),e.header.classList.remove("is-showed"),e.header.classList.add("is-hidden")}),this.map.container.events.add("fullscreenexit",function(){setTimeout(function(){tO.publish("fullscreenexit"),e.body.classList.remove("map-open"),e.body.classList.remove("map-open--".concat(e.mapName)),o.isDesktop()||e.map.behaviors.disable("drag")},100)}),this.map.container.events.add("fullscreenenter",function(){e.body.classList.add("map-open"),e.body.classList.add("map-open--".concat(e.mapName)),e.map.behaviors.enable("drag")})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,e),t}(),tT=new S,tP=/*#__PURE__*/function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return e=[{key:"init",value:function(e,t,n){this.map=t,this.settings=n,this.content=e,this.settings.groups&&this.settings.groups.length&&(this._clearIfHas(),this._createLayout(),this._initElements(),this._subscribes(),this._bindEvent())}},{key:"_subscribes",value:function(){var e=this;tT.subscribe("map:updateGroups",function(t){var n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)!function(){var t=a.value;e.items.find(function(e){return e.dataset.id===t.groupId.toString()}).querySelector(".j-yandex-map__group-count").innerHTML=t.count}()}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}})}},{key:"_clearIfHas",value:function(){var e=this.content.querySelector(".j-yandex-map__groups");e&&o.removeElement(e)}},{key:"_createLayout",value:function(){this.content.children[0].insertAdjacentHTML("beforeend",(this.settings.groups,'<div class="yandex-map__groups j-yandex-map__groups">\n    <div class="yandex-map__group j-yandex-map__group" data-coords="" data-zoom="">\n        <span class="j-yandex-map__group-count"></span>\n    </div>\n</div>'))}},{key:"_initElements",value:function(){this.items=Array.from(this.content.querySelectorAll(".j-yandex-map__group"))}},{key:"_bindEvent",value:function(){var e=this;this.items.forEach(function(t){t.addEventListener("click",function(){var n=t.dataset.coords.split(","),i=t.dataset.zoom;e.map.panTo([e.map.getCenter(),n],{delay:0,flying:!1,safe:!1,duration:300}).then(function(){e.map.setZoom(i,{duration:300})})})})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,e),t}();function tj(e){function t(){return e.balloon.title?'<div class="yandex-map-balloon__title">'.concat(e.balloon.title,"</div>"):""}function n(){return e.balloon.text?'<div class="yandex-map-balloon__text">'.concat(e.balloon.text,"</div>"):""}return'\n  <div class="yandex-map-balloon yandex-map-balloon--default j-yandex-map-balloon yandex-map-balloon--'.concat(e.modifyClass,'">\n    <div class="yandex-map-balloon__modal">\n      <div class="yandex-map-balloon__content">\n        ').concat(t(),"\n        ").concat(n(),'\n      </div>\n    </div>\n  <div class="yandex-map-balloon__panel">\n      <div class="yandex-map-balloon__content">\n        ').concat(t(),"\n        ").concat(n(),'\n      </div>\n  </div>\n  <div class="yandex-map-balloon__close j-yandex-map-balloon-close">\n    <svg width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n    </svg>\n  </div>\n  </div>\n')}function tA(e){function t(){if(!e.balloon.tags)return"";var t=e.balloon.tags,n="";return t.forEach(function(e){n+='<div class="yandex-map-balloon__tags-item">'.concat(e,"</div>")}),'<div class="yandex-map-balloon__tags">'.concat(n,"</div>")}function n(){return e.icon?'<img class="yandex-map-balloon__image" src="'.concat(e.icon,'" alt="ЖК"/>'):""}function i(){return e.balloon.title?'<div class="yandex-map-balloon__title">'.concat(e.balloon.title,"</div>"):""}function o(){var t="",n="";return e.balloon.deadline||e.balloon.walkToCenter?(e.balloon.deadline&&(t="<li>Передача ключей  ".concat(e.balloon.deadline," </li>")),e.balloon.walkToCenter&&(n='<li><span class="walking"></span>до центра '.concat(e.balloon.walkToCenter," </li>")),"<ul>".concat(t).concat(n,"</ul>")):e.balloon.text?"".concat(e.balloon.text):void 0}return'<div class="yandex-map-balloon j-yandex-map-balloon yandex-map-balloon--'.concat(e.modifyClass,'">\n    <div class="yandex-map-balloon__modal">\n    <div class="yandex-map-balloon__content">\n        ').concat(t(),'\n          <div class="yandex-map-balloon__top">\n            ').concat(n(),'\n            <div class="yandex-map-balloon__top-right">\n              ').concat(e.typeName?'<div class="yandex-map-balloon__type">'.concat(e.typeName,"</div>"):"","\n              ").concat(i(),'\n            </div>\n          </div>\n          <div class="yandex-map-balloon__list">').concat(o(),'</div>\n          <div class="yandex-map-balloon__bottom">\n            <div class="yandex-map-balloon__price"> ').concat(e.balloon.price,'</div>\n            <div class="yandex-map-balloon__counter">').concat(e.balloon.rooms,'</div>\n          </div>\n\n    </div>\n    </div>\n      <div class="yandex-map-balloon__panel">\n          <div class="yandex-map-balloon__content">\n          ').concat(t(),"\n          ").concat(n(!0),'\n              <div class="yandex-map-balloon__info">\n                ').concat(i(!0),'\n                <div class="yandex-map-balloon__list">').concat(o(),'</div>\n                <div class="yandex-map-balloon__bottom">\n                  <div class="yandex-map-balloon__price"> ').concat(e.balloon.price,'</div>\n                  <div class="yandex-map-balloon__counter">').concat(e.balloon.rooms,"</div>\n                </div>\n                ").concat(e.active&&e.href?'<a href="'+e.href+'" class="yandex-map-balloon__link">Подробнее</a>':"",'\n              </div>\n          </div>\n      </div>\n      <div class="yandex-map-balloon__close j-yandex-map-balloon-close">\n        <svg width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n        </svg>\n      </div>\n      </div>\n  ')}function tM(e){function t(){return e.balloon.image?'<img class="" src="'.concat(e.balloon.image,'" alt="ЖК"/>'):""}function n(){return e.balloon.type?'<div class="yandex-map-balloon__type">'.concat(e.balloon.type,"</div>"):""}function i(){return e.balloon.title?'<div class="yandex-map-balloon__title">'.concat(e.balloon.title,"</div>"):""}return'\n  <div class="j-yandex-map-balloon yandex-map-balloon yandex-map-balloon--'.concat(e.modifyClass,'">\n    <div class="yandex-map-balloon__modal">\n      <div class="yandex-map-balloon__content">\n        <div class="yandex-map-balloon__image">\n          ').concat(t(),'\n        </div>\n        <div class="yandex-map-balloon__info">\n          ').concat(n(),"\n          ").concat(i(),'\n        </div>\n      </div>\n    </div>\n    <div class="yandex-map-balloon__panel">\n      <div class="yandex-map-balloon__content">\n        <div class="yandex-map-balloon__image">\n          ').concat(t(),'\n        </div>\n        <div class="yandex-map-balloon__info">\n          ').concat(n(),"\n          ").concat(i(),'\n        </div>\n      </div>\n    </div>\n    <div class="yandex-map-balloon__close j-yandex-map-balloon-close">\n      <svg width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n      </svg>\n    </div>\n  </div>\n')}function tB(e){function t(){return e.balloon.title?'<div class="yandex-map-balloon__title">'.concat(e.balloon.title,"</div>"):""}function n(){return e.balloon.text?'<div class="yandex-map-balloon__text">'.concat(e.balloon.text,"</div>"):""}function i(){return e.balloon.worktime?'<div class="yandex-map-balloon__text">'.concat(e.balloon.worktime,"</div>"):""}function o(){return e.balloon.phones?'<div class="yandex-map-balloon__text">'.concat(e.balloon.phones,"</div>"):""}return'\n<div class="yandex-map-balloon yandex-map-balloon--office j-yandex-map-balloon yandex-map-balloon--'.concat(e.modifyClass,'">\n  <div class="yandex-map-balloon__modal">\n    <div class="yandex-map-balloon__content">\n    ').concat(t(),"\n    ").concat(n(),"\n    ").concat(i(),"\n    ").concat(o(),'\n    </div>\n  </div>\n<div class="yandex-map-balloon__panel">\n    <div class="yandex-map-balloon__content">\n      ').concat(t(),"\n      ").concat(n(),"\n      ").concat(i(),"\n      ").concat(o(),'\n    </div>\n</div>\n<div class="yandex-map-balloon__close j-yandex-map-balloon-close">\n  <svg width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n  </svg>\n</div>\n</div>\n')}function tI(e){function t(){return e.balloon.title?'<div class="yandex-map-balloon__title">'.concat(e.balloon.title,"</div>"):""}function n(){return e.balloon.text?'<div class="yandex-map-balloon__text">'.concat(e.balloon.text,"</div>"):""}return'\n    <div class="yandex-map-balloon j-yandex-map-balloon yandex-map-balloon--'.concat(e.modifyClass,'">\n      <div class="yandex-map-balloon__modal">\n        <div class="yandex-map-balloon__content">\n          ').concat(t(),"\n          ").concat(n(),'\n        </div>\n      </div>\n    <div class="yandex-map-balloon__panel">\n        <div class="yandex-map-balloon__content">\n          ').concat(t(),"\n          ").concat(n(),'\n        </div>\n    </div>\n    <div class="yandex-map-balloon__close j-yandex-map-balloon-close">\n      <svg width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n      </svg>\n    </div>\n    </div>\n')}function tq(){return'<div class="yandex-map__dot-marker j-yandex-map-marker"></div>'}function tD(e){return'<div class="yandex-map__text-marker j-yandex-map-marker">'.concat(e.text,"</div>")}function tN(e){return'<div class="yandex-map__infrastructure-marker j-yandex-map-marker" style="background: '.concat(e.color,'">\n    <i class="yandex-map__infrastructure-marker-icon ').concat(e.icon,'"></i>\n</div>')}var tz={needBalloonPanel:function(){return window.innerWidth<1199},isMobile:function(){return window.innerWidth<1199}};function tH(e){return'<div class="yandex-map__marker j-yandex-map-marker">\n    <img src="'.concat(e.icon,'" alt=""/>\n</div>')}function tR(e){return'<div data-href="'.concat(e.href,'" class="yandex-map__object-marker j-yandex-map-marker j-map-project ').concat(e.active?" is-active":"",'" data-marker-id="').concat(e.id,'">\n      <div class="marker-image">\n      ').concat(e.icon?'<img class="marker-image__image" src="'+e.icon+'" alt="ЖК"/>':"",'\n      </div>\n      <div class="marker-content">\n        <div class="marker-content__type">').concat(e.typeName?e.typeName:"",'</div>\n        <div class="marker-content__name">').concat(e.name?e.name:"","</div>\n      </div>\n</div>")}function tW(e){return'<div class="yandex-map__point-marker j-yandex-map-marker data-marker-id="'.concat(e.id,'">\n    <div class="marker-image">\n    ').concat(e.icon?'<img class="marker-image__image" src="'+e.icon+'" alt="ЖК"/>':"","\n    </div>\n</div>")}function tF(e){return'\n    <div class="yandex-map__office-marker j-yandex-map-marker" data-marker-id="'.concat(e.id,'">\n        <svg class="yandex-map__office-marker-svg" width="24" height="33" viewBox="0 0 24 33" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.97682 0.5H0.0706517V4.76506H7.97682V4.76633C14.3624 5.28788 19.3709 10.2942 19.3709 16.393C19.3709 22.4938 14.3624 27.6032 7.97682 28.1277H4.55849V13.3212H6.83664V13.3425C6.86055 13.3425 6.88338 13.3387 6.90947 13.3387C8.79525 13.3387 10.3256 14.77 10.3256 16.533C10.3256 18.2964 8.79525 19.7277 6.90947 19.7277C6.88447 19.7277 6.86164 19.7238 6.83664 19.7238V23.9848C11.2419 23.9848 14.8124 20.6483 14.8124 16.533C14.8124 12.419 11.2419 9.08155 6.83664 9.08155H0V32.5H7.97682V32.4876C16.9232 31.9382 24 24.9908 24 16.4934C24 7.99655 16.9232 1.04789 7.97682 0.5Z" fill="white"/>\n            </svg>\n\n    </div>')}var t$=new S,tZ=/*#__PURE__*/function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.state="close",this.id=null,this.defDelay=300,this.aciveClass="is-active",this._subscribes(),this._addWrapperToPage()}return e=[{key:"_addWrapperToPage",value:function(){var e=document.querySelector("body");o.insetContent(e,'<div class="yandex-map__panel-wrap"></div>')}},{key:"_subscribes",value:function(){var e=this;t$.subscribe("fullscreenexit",function(){"close"!==e.state&&e._close()})}},{key:"open",value:function(e){this.data=e.options.get("data"),this.template=e.options.get("template"),this.domTarget=e.getOverlaySync().getLayoutSync().getElement(),this.marker=this.domTarget.querySelector(".j-yandex-map-marker"),this.wrapper=document.querySelector(".yandex-map__panel-wrap"),this.id===Number(this.data.id)?this._close():this.id!==Number(this.data.id)&&"close"!==this.state?(this._close(),this._createTemplate("repeat")):this._createTemplate()}},{key:"_createTemplate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=t?this.defDelay:0;this._setStateMarker(),this.data.balloon&&setTimeout(function(){o.insetContent(e.wrapper,e.template(e.data)),e.id=Number(e.data.id),e._getElements(),e._bindEvents(),e._showPanel()},n)}},{key:"_getElements",value:function(){this.panel=this.wrapper.querySelector(".j-yandex-map-balloon"),this.panelHeight=this.panel.offsetHeight}},{key:"_bindEvents",value:function(){var e=this,t=Array.from(this.panel.querySelectorAll(".j-yandex-map-balloon-close"));t.length&&t.forEach(function(t){t.addEventListener("click",function(){e._close()})})}},{key:"_showPanel",value:function(){this.panel.style.transform="translateY(".concat(-this.panelHeight,"px)"),this.state="show",this.wrapper.classList.add(this.aciveClass)}},{key:"_hideAll",value:function(){this.panel.style.transform="translateY(0)",this.state="close",this.wrapper.classList.remove(this.aciveClass)}},{key:"_close",value:function(){var e=this;this._removeStateMarker(),this._hideAll(),this.id="тест",setTimeout(function(){o.removeElement(e.panel)},this.defDelay)}},{key:"_setStateMarker",value:function(){this.marker&&this.marker.classList.add(this.aciveClass)}},{key:"_removeStateMarker",value:function(){this.marker&&(this.activeMarker=document.querySelector(".j-yandex-map-marker.is-active"),this.activeMarker&&this.activeMarker.classList.remove(this.aciveClass),this.marker.classList.remove(this.aciveClass))}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,e),t}(),tG=n(692),tV=new tZ,tU=/*#__PURE__*/function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.ymaps=window.ymaps,this.desktopBreakpoint=1199}return e=[{key:"createMarker",value:function(e){return(this._setSettings(e),e.balloon.title||e.balloon.text)?this._initWithBallon():this._initWithoutBalloon()}},{key:"createHtmlMarker",value:function(e){this._setTemplateMarker(e),this._setTemplateBalloon(e),this.ballon=e,this.office=e.office||!1,this.route=e.route||!1;var t=this.ymaps.templateLayoutFactory.createClass(this.markerTemplate(e),{build:function(){this.constructor.superclass.build.call(this),this._$element=tG(".yandex-map__".concat(e.modifyClass,"-marker"),this.getParentElement()),this._options=this.getData().options,this._size=[this._$element[0].offsetWidth,this._$element[0].offsetHeight],this._offset=this._calcElementOffset();var t={type:"Rectangle",coordinates:[this._offset,[this._offset[0]+this._size[0],this._offset[1]+this._size[1]]]};this._options.set("shape",t),this._applyElementOffset(this._offset),this._bindEvents()},_bindEvents:function(){var e=this;this.inited||(this.inited=!0,this.innerWidth=window.innerWidth,window.addEventListener("resize",function(){window.innerWidth!==e.innerWidth&&(e.innerWidth=window.innerWidth,e.rebuild())}))},_calcElementOffset:function(){switch(e.modifyClass){case"infrastructure":case"point":return[-this._size[0]/2,-this._size[1]/2];case"object":return[-this._size[1]/2,-this._size[1]/2];default:return[-this._size[0]/2,-this._size[1]]}},_applyElementOffset:function(e){this._$element[0].style.marginLeft="".concat(e[0],"px"),this._$element[0].style.marginTop="".concat(e[1],"px")}}),n=e.zIndex||!1,i=e.balloon,o=!tz.needBalloonPanel()&&!!i&&this._createBalloonContentLayout(),a=new this.ymaps.Placemark(e.coords,{},{type:"Placemark",balloonLayout:o,iconLayout:t,hideIconOnBalloonOpen:this.hideIconOnBalloonOpen,office:this.office,template:this.balloonTemplate,data:e,iconShape:this._setIconShape(e),zIndex:n,panel:tV,cursor:i?"pointer":"default",isBalloon:i});return this._bindEventsMarker(a),e.isHidden&&a.options.set("visible",!1),a}},{key:"_setSettings",value:function(e){var t={};t.lat=59.939014,t.lon=30.315545,t.iconWidth=24,t.iconHeight=24,t.offsetTop=0,t.offsetLeft=0,this.type=e.type||"Point",this.coords=e.coords||[t.lat,t.lon],this.iconLayout="default#image",this.iconImageHref=e.icon||"../../webicons/map/media/markers/marker.svg",this.iconImageSize=e.size||[t.iconWidth,t.iconHeight],this.iconImageOffset=e.offset||[t.offsetTop,t.offsetLeft],this.route=e.route||!1,this.ballon=e}},{key:"_initWithoutBalloon",value:function(){return new this.ymaps.Placemark(this.coords,{type:this.type},{iconLayout:this.iconLayout,iconImageHref:this.iconImageHref,iconImageSize:this.iconImageSize,iconImageOffset:this.iconImageOffset})}},{key:"_initWithBallon",value:function(){this._setTemplateBalloon();var e=new this.ymaps.Placemark(this.coords,{type:this.type},{balloonLayout:this._createBalloonContentLayout(),iconLayout:this.iconLayout,iconImageHref:this.iconImageHref,iconImageSize:this.iconImageSize,iconImageOffset:this.iconImageOffset,route:this.route,template:this.balloonTemplate,data:this.ballon,hideIconOnBalloonOpen:!1});return this._bindEventsMarker(e),e}},{key:"_setTemplateMarker",value:function(e){switch(e.modifyClass){case"object":this.hideIconOnBalloonOpen=!1,this.markerTemplate=tR;break;case"point":this.hideIconOnBalloonOpen=!1,this.markerTemplate=tW;break;case"infrastructure":this.hideIconOnBalloonOpen=!1,this.markerTemplate=tN;break;case"office":this.hideIconOnBalloonOpen=!1,this.markerTemplate=tF;break;case"dot":this.hideIconOnBalloonOpen=!1,this.markerTemplate=tq;break;case"text":this.hideIconOnBalloonOpen=!1,this.markerTemplate=tD;break;default:this.hideIconOnBalloonOpen=!1,this.markerTemplate=tH}}},{key:"_setTemplateBalloon",value:function(e){switch(e.modifyClass){case"object":this.balloonTemplate=tA;break;case"point":this.balloonTemplate=tM;break;case"office":this.balloonTemplate=tB;break;case"infrastructure":this.balloonTemplate=tI;break;default:this.balloonTemplate=tj}}},{key:"_setIconShape",value:function(e){return tz.needBalloonPanel()?this.iconImageSize=[Number(e.size.height),Number(e.size.height)]:this.iconImageSize=[-Number(e.size.width/2),-Number(e.size.height)],{type:"Rectangle",coordinates:[[0,0],this.iconImageSize]}}},{key:"_createBalloonContentLayout",value:function(){var e=this,t=this.ymaps.templateLayoutFactory.createClass(this.balloonTemplate(this.ballon),{build:function(){var t=this;this.constructor.superclass.build.call(this),this.balloon=document.querySelector(".j-yandex-map-balloon"),this.closeBallooneButtons=Array.from(document.querySelectorAll(".j-yandex-map-balloon-close")),e.markerOffset(this.balloon),this.closeBallooneButtons.forEach(function(e){e.addEventListener("click",t.onCloseClick.bind(t))})},clear:function(){this.constructor.superclass.clear.call(this)},onCloseClick:function(e){e.preventDefault(),this.events.fire("userclose")},onSublayoutSizeChange:function(){t.superclass.onSublayoutSizeChange.apply(this,arguments),this.balloon&&(e.markerOffset(this.balloon),this.events.fire("shapechange"))},getShape:function(){if(!this.balloon)return t.superclass.getShape.call(this);var e=this.balloon.offsetHeight,n=this.balloon.offsetWidth,i=this.balloon.offsetTop,o=this.balloon.offsetLeft;return new window.ymaps.shape.Rectangle(new window.ymaps.geometry.pixel.Rectangle([[o,i],[o+n,i+e]]))}});return t}},{key:"markerOffset",value:function(e){var t=this.iconImageSize[0],n=this.iconImageSize[1],i=e.classList;switch(!0){case i.contains("yandex-map-balloon--infrastructure"):e.style.left="".concat(-(e.offsetWidth/2),"px"),e.style.top="".concat(-e.offsetHeight-10+n/2,"px");break;case i.contains("yandex-map-balloon--object"):e.style.left="".concat(t,"px"),e.style.top="".concat(-(n-10)/2,"px");break;case i.contains("yandex-map-balloon--point"):e.style.left="".concat(-(e.offsetWidth/2),"px"),e.style.top="".concat(-e.offsetHeight-10+n/2,"px");break;case i.contains("yandex-map-balloon--office"):e.style.left="".concat(-(e.offsetWidth/2),"px"),e.style.top="".concat(-e.offsetHeight-10+n,"px");break;default:e.style.left="".concat(-(e.offsetWidth/2)+t/2,"px"),e.style.top="".concat(-e.offsetHeight-n/2,"px")}}},{key:"closeBalloonOnClickMap",value:function(e){window.innerWidth>this.desktopBreakpoint&&(e.geoObjects.events.add("click",function(){e.balloon.isOpen()&&e.balloon.close()}),e.events.add("click",function(){e.balloon.isOpen()&&e.balloon.close()}))}},{key:"_bindEventsMarker",value:function(e){window.innerWidth>=this.desktopBreakpoint&&!e.options.get("data").onlyPanel?(e.events.add("mouseenter",this.onMouseenterMarker.bind(this)),e.events.add("mousemove",this.onMousemoveMarker.bind(this)),e.events.add("mouseleave",this.onMouseleaveMarker.bind(this)),e.events.add("click",this._onMouseClickMarker.bind(this))):e.events.add("click",this.onMouseenterMarker.bind(this))}},{key:"_getMarkerElement",value:function(e){return e.get("target").getOverlaySync().getLayoutSync().getElement().querySelector(".j-yandex-map-marker")}},{key:"_onMouseClickMarker",value:function(e){var t=e.get("target"),n=this._getMarkerElement(e);if(t.options.get("data").href){n.closest(".j-map-project")&&n.classList.contains("is-active")&&window.open(t.options.get("data").href);return}tz.needBalloonPanel()&&t.options.get("balloonLayout")&&(e.preventDefault(),tV.open(t))}},{key:"onMousemoveMarker",value:function(e){var t=e.get("target").balloon,n=t.isOpen(),i=this._getMarkerElement(e);n||(this.bindEventsBalloon(t),i.classList.add("is-open-balloon"),t.open())}},{key:"onMouseenterMarker",value:function(e){var t=e.get("target"),n=t.balloon;if(n._geoObject.options._options.isBalloon){var i=t.options.get("data").onlyPanel;tz.needBalloonPanel()||i?tV.open(t):this.bindEventsBalloon(n)}}},{key:"onMouseleaveMarker",value:function(e){var t=e.get("target").balloon,n=this._getMarkerElement(e);this.timerCloseBalloon=this.getSetTimeoutClosingBalloon(t,n)}},{key:"bindEventsBalloon",value:function(e){e.events.add("mouseenter",this.onMouseenterBalloon.bind(this)),e.events.add("mouseleave",this.onMouseleaveBalloon.bind(this))}},{key:"onMouseenterBalloon",value:function(){clearTimeout(this.timerCloseBalloon),this.timerCloseBalloon=null}},{key:"onMouseleaveBalloon",value:function(e){var t=e.get("target").balloon,n=this._getMarkerElement(e);this.getSetTimeoutClosingBalloon(t,n)}},{key:"getSetTimeoutClosingBalloon",value:function(e,t){t.classList.remove("is-open-balloon"),t.classList.add("is-hide-balloon");var n=document.querySelector(".yandex-map-balloon");return n&&n.classList.add("is-hide-balloon"),setTimeout(function(){e.close(),t.classList.remove("is-hide-balloon")},300)}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,e),t}(),tK=new S,tY=/*#__PURE__*/function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.buttons=null,this.resetButton=null,this.disableClass="is-active"}return e=[{key:"init",value:function(e){this.buttons=Array.from(e.target.querySelectorAll(".j-map-filter-item")),this.resetButton=e.resetButton||null,this._bindEvents()}},{key:"_bindEvents",value:function(){var e=this;this.buttons.forEach(function(t){t.addEventListener("change",function(){e._changeFilter(t)})}),this._resetFilter(),this.resetButton.addEventListener("click",function(){e._resetFilter()})}},{key:"_changeFilter",value:function(e){if(this.buttons.every(function(e){return!1===e.checked})){this.resetButton.classList.add(this.disableClass),tK.publish("showAllMarkers");return}var t=e.checked?"addFilterItem":"removeFilterItem",n=[];this.buttons.forEach(function(e){!0===e.checked&&n.push(e.dataset.type)}),this.resetButton.classList.remove(this.disableClass),tK.publish(t,n),tK.publish("filterUpdated")}},{key:"_resetFilter",value:function(){this.buttons.forEach(function(e){e.checked=!1}),this.resetButton.classList.add(this.disableClass),tK.publish("showAllMarkers")}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,e),t}();function tX(e,t,n,i,o,a,s){try{var r=e[a](s),l=r.value}catch(e){n(e);return}r.done?t(l):Promise.resolve(l).then(i,o)}function tJ(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){tX(a,i,o,s,r,"next",e)}function r(e){tX(a,i,o,s,r,"throw",e)}s(void 0)})}}function tQ(e,t){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}}var t0=new S,t1=/*#__PURE__*/function(){var e;function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.ymaps=e,this.geoObjectCollection=new this.ymaps.GeoObjectCollection,this.settings={},this.map=null,this.desktopBreakpoint=1199}return e=[{key:"init",value:function(e){this.outerOptions=e,this.mapWrapper=e.wrapper,this.content=this.mapWrapper.querySelector(".yandex-map__base"),this.mapRoot=this.mapWrapper.closest(".j-yandex-map-root"),this.id=this.content.id,this.json=this.mapWrapper.dataset.json||e.json,this.mapWrapper.removeAttribute("data-json"),this._runMap(),this._subscribes()}},{key:"update",value:function(){this.geoObjectCollection&&(this.map.geoObjects.remove(this.geoObjectCollection),this.geoObjectCollection=new this.ymaps.GeoObjectCollection),this._initHistoricalPolygon(),this._initMarker(),this._initGroups(),this._initCircles()}},{key:"_subscribes",value:function(){var e=this;this._showGeoObject=this._showGeoObject.bind(this),this._hideGeoObject=this._hideGeoObject.bind(this),t0.subscribe("addFilterItem",function(t){e._toggleGeoObjects(t,e._showGeoObject)}),t0.subscribe("removeFilterItem",function(t){e._toggleGeoObjects(t,e._hideGeoObject)}),t0.subscribe("showAllMarkers",function(){e._visibleAllMarkers()}),t0.subscribe("mapSetCenter",function(){e._setCenterMap()})}},{key:"removeFilterItem",value:function(e){var t=this;e.forEach(function(e){t.geoObjectCollectionArray.forEach(function(n){n.options.get("data").type===e&&t._hideGeoObject(n)})})}},{key:"addFilterItem",value:function(e){var t=this;e.forEach(function(e){t.geoObjectCollectionArray.forEach(function(n){n.options.get("data").type===e&&t._showGeoObject(n)})})}},{key:"updateGroups",value:function(e){if(this.settings.groups){var t=[],n=!0,i=!1,o=void 0;try{for(var a,s,r=this.settings.groups[Symbol.iterator]();!(n=(s=r.next()).done);n=!0)a=this,function(){var n=s.value,i=a.geoObjectCollectionArray.filter(function(t){return t.options.get("data").type===e&&t.options.get("data").group===n.id});t.push({groupId:n.id,count:i.length})}()}catch(e){i=!0,o=e}finally{try{n||null==r.return||r.return()}finally{if(i)throw o}}t0.publish("map:updateGroups",t)}}},{key:"_runMap",value:function(){var e=this;return tJ(function(){return tQ(this,function(t){switch(t.label){case 0:return[4,e._setSettings()];case 1:return t.sent(),[4,e._initYandexMap()];case 2:return t.sent(),e._setDeviceSettings(),e._initMarker(),e._initControls(),e._initCluster(),e._initGroups(),e._initCircles(),e._bindEvents(),e._showMap(),e._createFilterList(),e._initMapFilter(),t0.publish("map:ready"),[2]}})})()}},{key:"_setSettings",value:function(){var e=this;return tJ(function(){var t;return tQ(this,function(n){return e._connectSettings(e._setDefaultSettings()),e._connectSettings(e._setScriptSettings()),e.json&&(t=JSON.parse(e.json),e._connectSettings(t.data)),[2]})})()}},{key:"_initYandexMap",value:function(){var e=this;return tJ(function(){var t,n;return tQ(this,function(i){switch(i.label){case 0:t=function(){return new Promise(function(t){if(e.map=new e.ymaps.Map(e.id,e.settings,{suppressMapOpenBlock:!0}),e.map)t();else throw Error()})},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t()];case 2:return[2,i.sent()];case 3:throw n=i.sent(),console.error("При инициализации Яндекс Карт произошла критическая ошибка ".concat(n)),Error();case 4:return[2]}})})()}},{key:"_connectSettings",value:function(e){(void 0===e?"undefined":e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e)=="object"&&Object.assign(this.settings,e)}},{key:"_setDefaultSettings",value:function(){return{center:[59.939014,30.315545],mapTypeControl:!1,autoZoom:!1,zoom:12,zoomMargin:250,minZoom:10,maxZoom:18,zoomStep:1,controls:[],zoomControl:!0,name:"default",customZoomControl:!0,fullScreenControl:!0,customFullScreenControl:!0,height:this.content.offsetHeight,zoomScroll:!1,markers:[]}}},{key:"_setScriptSettings",value:function(){return this.outerOptions}},{key:"_setDeviceSettings",value:function(){this._setDeviceCenter(),this._setDeviceZoom(),this.outerOptions.disableZoom&&this._disableZoom(),this.outerOptions.disableDrag&&this._disableDrag()}},{key:"_setDeviceCenter",value:function(){if(this.settings.centerMobile){var e=this.map.getZoom();o.isMobile()?this.map.setCenter(this.settings.centerMobile,e,{useMapMargin:!0}):this.map.setCenter(this.settings.center,e,{useMapMargin:!0})}}},{key:"_setDeviceZoom",value:function(){this.settings.zoomMobile&&(o.isMobile()?this.map.setZoom(this.settings.zoomMobile):this.map.setZoom(this.settings.zoom))}},{key:"_initMarker",value:function(){var e=this;this.settings.markers.forEach(function(t){var n=new tU;e.geoObjectCollection.add(n.createHtmlMarker(t)),n.closeBalloonOnClickMap(e.map)}),this.geoObjectCollectionArray=this.geoObjectCollection.toArray().map(function(e){return e}),this.map.geoObjects.add(this.geoObjectCollection),this.geoObjectCollectionArray.length>1&&this.settings.autoZoom&&this.map.setBounds(this.geoObjectCollection.getBounds(),{zoomMargin:this.settings.zoomMargin}),this._bindMapClick()}},{key:"_bindMapClick",value:function(){var e=this,t=new CustomEvent("bindMapClick");window.dispatchEvent(t),this.map.events.add("click",function(){window.innerWidth<e.desktopBreakpoint&&window.dispatchEvent(t)})}},{key:"_initControls",value:function(){new tL().init(this.map,this.settings,this.ymaps)}},{key:"_initCluster",value:function(){var e=this.settings.markers.filter(function(e){return"object-min"===e.modifyClass});this.outerOptions.cluster&&!e.length&&(this.cluster=new tx,this.cluster.init(this.geoObjectCollection))}},{key:"_initGroups",value:function(){this.settings.groups&&this.settings.groups.length&&new tP().init(this.content,this.map,this.settings)}},{key:"_initCircles",value:function(){var e=this,t=this.settings.circles;t&&t.forEach(function(t){var n=new ymaps.Circle([t.center,t.radius],{},{fillColor:t.fillColor,fillOpacity:t.fillOpacity,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWidth:t.strokeWidth,strokeStyle:t.strokeStyle});e.map.geoObjects.add(n)})}},{key:"_bindEvents",value:function(){var e=this;this._setDeviceSettings=this._setDeviceSettings.bind(this),["resize","orientationchange"].forEach(function(t){window.addEventListener(t,o.debounce(e._setDeviceSettings,100))})}},{key:"_showMap",value:function(){this.content.classList.remove("is-loading"),this.content.style.opacity="1",this.outerOptions.afterShow&&this.outerOptions.afterShow()}},{key:"_createFilterList",value:function(){var e=this;if(this.mapRoot&&this.mapRoot.querySelector(".j-yandex-map-infrastructure")){var t=this.mapRoot.querySelector(".j-map-filter"),n=this.settings.markers,i="",o=[];n.forEach(function(t){if("infrastructure"===t.modifyClass){var n=t.type;o.includes(n)||(i+=e.createFilterItem(t),o.push(n))}}),t.innerHTML=i}}},{key:"createFilterItem",value:function(e){return'\n        <li class="infrastructure-legend__list-item">\n          <label class="infrastructure-label">\n            <input class="infrastructure-label__checkbox j-map-filter-item" type="checkbox" name="'.concat(e.type,'" data-type="').concat(e.type,'" id="').concat(e.type,'" />\n            <div class="infrastructure-label__inner">\n              <span class="infrastructure-label__text">').concat(e.name,'</span>\n              <span class="infrastructure-label__icon">\n                <i class="').concat(e.icon,'"></i>\n              </span>\n            </div>\n          </label>\n        </li>\n      ')}},{key:"_initMapFilter",value:function(){if(this.mapRoot){var e=this.mapRoot.querySelector(".j-map-filter"),t=this.mapRoot.querySelector(".j-map-filter-reset"),n=this.mapRoot.querySelector(".j-map-filter-apply");e&&(new tY().init({target:e,resetButton:t}),n&&t0.subscribe("filterUpdated",function(){n.classList.remove("is-hidden")}));var i=this.mapRoot.querySelector(".j-yandex-map-infrastructure"),o=this.mapRoot.querySelector(".j-yandex-map-filter-toggle");o&&i&&(o.addEventListener("click",function(){i.classList.toggle("is-open"),o.classList.toggle("is-open")}),n.addEventListener("click",function(){n.classList.add("is-hidden"),i.classList.remove("is-open"),o.classList.remove("is-open")}))}}},{key:"_showGeoObject",value:function(e){this.cluster.addGeoObjectToClusterer(e)}},{key:"_hideGeoObject",value:function(e){this.cluster.removeGeoObjectToClusterer(e)}},{key:"_toggleGeoObjects",value:function(e,t){var n=this;this.geoObjectCollectionArray.forEach(function(e){"point"!==e.options.get("data").type&&"text"!==e.options.get("data").type&&n._hideGeoObject(e)}),e.forEach(function(e){n.geoObjectCollectionArray.forEach(function(i){i.options.get("data").type===e&&(t(i),n._showGeoObject(i))})})}},{key:"_visibleAllMarkers",value:function(){var e=this;this.geoObjectCollectionArray.forEach(function(t){"point"!==t.options.get("data").type&&e._showGeoObject(t)})}},{key:"hideAllMarkers",value:function(){var e=this;this.geoObjectCollectionArray.forEach(function(t){"point"!==t.options.get("data").type&&e._hideGeoObject(t)})}},{key:"_setCenterMap",value:function(e){tz.isMobile()&&this.setCenter(e,this.settings.zoom)}},{key:"_disableZoom",value:function(){var e=this.map.getZoom();this.map.behaviors.disable("dblClickZoom"),this.map.behaviors.disable("scrollZoom"),this.map.options.set("maxZoom",e),this.map.options.set("minZoom",e)}},{key:"_disableDrag",value:function(){this.map.behaviors.disable("drag")}},{key:"getMarkers",value:function(){return this.settings.markers}},{key:"setCenter",value:function(e,t){this.map.setCenter(e,t)}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,e),t}(),t3=new S,t2=/*#__PURE__*/function(){function e(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e)}return function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e,[{key:"init",value:function(){this._subscribe()}},{key:"_loadScriptApi",value:function(){if(!window.ymapsInited)return new Promise(function(e,t){var n=document.createElement("script");n.src="https://api-maps.yandex.ru/2.1/?apikey=fc8ccd61-8a5d-43e8-ae97-d91256868293&lang=ru_RU",n.async=!0,n.defer=!0,n.type="text/javascript",n.onload=e,n.onerror=function(e){t(e)},document.body.appendChild(n)}).then(function(){return window.ymapsInited=!0,new Promise(function(e){window.ymaps.ready(e)})})}},{key:"_subscribe",value:function(){var e=this;window.ymapsInited=!1,t3.subscribe("map:init",function(t){e._initMap(t)}),t3.subscribe("map:init-2",function(t){setTimeout(function(){e._initMap(t)},600)}),t3.subscribe("map:init-3",function(t){setTimeout(function(){e._initMap(t)},1200)})}},{key:"_initMap",value:function(e){e&&(window.ymapsInited?new t1(window.ymaps).init({wrapper:e,cluster:!0,fullScreenControl:!0,customFullScreenControl:!0,customZoomControl:!0}):this._loadScriptApi().then(function(t){new t1(t).init({wrapper:e,cluster:!0,fullScreenControl:!0,customFullScreenControl:!0,customZoomControl:!0}),window.ymapsInited=!0}).catch(function(e){console.error("При загрузке яндекс карт произошла ошибка: ".concat(e))}))}}]),e}(),t6=n(248),t9=n(600),t5=n(960);function t4(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var t8=/*#__PURE__*/function(){var e,t;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.wrapper=e.element,this.trigger=this.wrapper.querySelectorAll("[data-gallery-zoom-trigger]"),this.items=Array.from(this.wrapper.querySelectorAll("[data-gallery-zoom-item]")),this.isMultyple=this.items.length>1,this.inlineGallery=null}return e=[{key:"init",value:function(){this.trigger&&this.items&&(this._initGallery(),this._bindEvents())}},{key:"_bindEvents",value:function(){var e=this;this.trigger.forEach(function(t){t.addEventListener("click",function(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e._open(t.target)})})}},{key:"_open",value:function(e){var t=this._getIndex(e);this.inlineGallery.openGallery(t)}},{key:"_initGallery",value:function(){var e={plugins:[t9.A,t5.A],selector:"[data-gallery-zoom-item]",licenseKey:"1111-1111-1111-1111",getCaptionFromTitleOrAlt:!1,zoomFromOrigin:!1,download:!1,hideScrollbar:!0,zoom:!1,mobileSettings:{controls:!0,showCloseIcon:!0,download:!1}};this.inlineGallery=(0,t6.A)(this.wrapper,e),this.wrapper.classList.add("_inited")}},{key:"_getIndex",value:function(e){var t=0;if(this.isMultyple){var n=this.wrapper.querySelector(".tab-content__item.is-active");n&&(t=o.getElementIndex(n)),this.wrapper.classList.contains("popup-info__article-gallery-cols")&&(t=o.getElementIndex(e.parentNode))}return t}}],t=[{key:"init",value:function(){window.GalleryZoom={};var e=document.querySelectorAll("[data-gallery-zoom]");e.length&&e.forEach(function(e){new n({element:e}).init()}),window.GalleryZoom.update=function(){var e=document.querySelectorAll("[data-gallery-zoom]");e.length&&e.forEach(function(e){e.classList.contains("_inited")||new n({element:e}).init()})}}}],e&&t4(n.prototype,e),t&&t4(n,t),n}();function t7(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ne=/*#__PURE__*/function(){var e,t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.get=window.location.search,this.cookies=G.A,this.getObject={},this.utm=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],this.utmID=[["ym_uid","_ym_uid"],["ga_uid","_ga"],["roistat_visit","roistat_visit"]],this.utmCookieCount=0}return e=[{key:"init",value:function(){this._searchStringToObject(),Object.keys(this.getObject).length&&this._addUtmToCookie(),this._checkCookie(),this.utmCookieCount>0&&this._addUtmValueToInputs(),this._addToInputsFromUtmID()}},{key:"_searchStringToObject",value:function(){if(-1!==this.get.indexOf("&")){var e=this.get.slice(1).split("&");this.getObject=e.reduce(function(e,t){return(t=t.split("="))[0].includes("utm")&&(e[t[0]]=t[1]),e},{})}}},{key:"_addUtmToCookie",value:function(){for(var e in this.getObject){var t=this.getObject[e];this._setCookie(e,t)}}},{key:"_checkCookie",value:function(){var e=this;this.utm.forEach(function(t){e._getCookie(t)&&e.utmCookieCount++})}},{key:"_addUtmValueToInputs",value:function(){var e=this;this.formElems=document.querySelectorAll("form"),0!==this.formElems.length&&this.formElems.forEach(function(t){e.utm.forEach(function(n){var i=t.querySelector('input[name="'.concat(n,'"]'));if(i){var o=e._getCookie(n);o&&(i.value=o)}})})}},{key:"_addToInputsFromUtmID",value:function(){var e=this;this.formElems=document.querySelectorAll("form"),0!==this.formElems.length&&this.formElems.forEach(function(t){e.utmID.forEach(function(n){var i=t.querySelector('input[name="'.concat(n[0],'"]'));if(i){var o=e._getCookie(n[1]);o&&(i.value=o)}})})}},{key:"_setCookie",value:function(e,t){this.cookies.set(e,t,{expires:+this.cookieDuration})}},{key:"_getCookie",value:function(e){return this.cookies.get(e)}}],t=[{key:"init",value:function(){new n().init()}}],e&&t7(n.prototype,e),t&&t7(n,t),n}();function nt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var nn=/*#__PURE__*/function(){var e,t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n)}return e=[{key:"init",value:function(){var e=document.querySelector(".event-calendar__dates-slider");e&&new eT({item:e,settings:{slidesPerView:"auto",effect:"linear",spaceBetween:12,speed:300,loop:!1,watchSlidesProgress:!0},custom:{navigationOut:!0}}).init()}}],t=[{key:"init",value:function(){new n().init()}}],e&&nt(n.prototype,e),t&&nt(n,t),n}(),ni=n(692);function no(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var na=/*#__PURE__*/function(){var e,t;function n(e){var t=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.elem=e,this.link=document.querySelector(".j-header-projects"),this.htmlElem=document.documentElement,this.activeClass="_active",this.opened=!1,this.onMoveEnter=function(e){return(0,m.s)(16,t._onMove(e))}}return e=[{key:"init",value:function(){this.elem&&this.link&&(this._bindEvents(),this._setElems(),this._setLeftOffset())}},{key:"_setLeftOffset",value:function(){var e=200,t=document.querySelector(".header__container-inner");if(t){var n=t.querySelector(".nav-list");e=o.getElementOffset(n).left-o.getElementOffset(t).left}this.inner.style.marginLeft=e+"px"}},{key:"_setElems",value:function(){this.inner=this.elem.querySelector(".header-projects__inner")}},{key:"_bindEvents",value:function(){this._onEnter(),this.link.addEventListener("mouseenter",this._open.bind(this))}},{key:"_open",value:function(){var e=this;if(!this.opened){this.opened=!0,o.bodyFixed(this.elem);var t=document.querySelector(".header__inner").offsetHeight;t&&(this.elem.style.top=t+"px"),this.elem.style.display="block",this.link.parentNode.classList.add(this.activeClass),c.os.to(this.elem,{alpha:1,duration:.2,ease:"power2.out",onComplete:function(){e._onEnter()}})}}},{key:"_close",value:function(){var e=this;this.opened&&(this.link.parentNode.classList.remove(this.activeClass),o.bodyStatic(),c.os.to(this.elem,{alpha:0,duration:.2,ease:"power2.out",onComplete:function(){e.opened=!1,e.elem.style.display="none",e._onLeave()}}))}},{key:"_onEnter",value:function(){document.addEventListener("mousemove",this.onMoveEnter)}},{key:"_onLeave",value:function(){document.removeEventListener("mousemove",this.onMoveEnter)}},{key:"_onMove",value:function(e){this._onElem(e,this.link)||this._onElem(e,this.inner)||this._close()}},{key:"_onElem",value:function(e,t){var n=ni(t),i=ni.extend(n.offset(),{width:n.outerWidth(),height:"A"===t.tagName?n.outerHeight()+45:n.outerHeight()}),o=e.pageX,a=e.pageY;return o>=i.left&&o<=i.left+i.width&&a>=i.top&&a<=i.top+i.height}}],t=[{key:"init",value:function(){if(o.isDesktop()){var e=document.querySelector(".header-projects");e&&!window.environmentObject.isKitPage&&new n(e).init()}}}],e&&no(n.prototype,e),t&&no(n,t),n}();function ns(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var nr=new S,nl=/*#__PURE__*/function(){var e,t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n)}return e=[{key:"init",value:function(){var e=document.querySelector(".main-slider-double__main");e&&new eT({item:e,settings:{loop:!0,speed:900,watchSlidesProgress:!0,effect:"fade",dots:!0,navigation:!1}}).init();var t=document.querySelector(".main-slider-double__second");t&&new eT({item:t,settings:{loop:!0,speed:900,effect:"fade",watchSlidesProgress:!0,dots:!0,navigation:!1}}).init(),nr.subscribe("preloader:end",function(){setTimeout(function(){document.querySelectorAll(".main-slider .swiper-slide").forEach(function(e){e.classList.remove("_hidden")})},300)})}}],t=[{key:"init",value:function(){new n().init()}}],e&&ns(n.prototype,e),t&&ns(n,t),n}();function nc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var nu=/*#__PURE__*/function(){var e,t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n)}return e=[{key:"init",value:function(){if(!o.isTablet()){var e=document.querySelector(".residents-slider__slider");e&&new eT({item:e,settings:{slidesPerView:1,spaceBetween:0,speed:900,preloadImages:!1,lazy:!0,loop:!1,breakpoints:{768:{slidesPerView:3,spaceBetween:32},1441:{slidesPerView:4,spaceBetween:32}}},custom:{navigationOut:!0,paginationOut:!0}}).init()}}}],t=[{key:"init",value:function(){new n().init()}}],e&&nc(n.prototype,e),t&&nc(n,t),n}();function nh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var np=/*#__PURE__*/function(){var e,t;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.container=e.element,this.callback=function(e){},this.json=this.container.dataset.json,this.options=[],this.optionsIds=[],this.optionsCount=[],this.selectedPlaceholder=this.container.querySelector(".form-radio__placeholder-wrapper"),this.optionTemplate=null,this.content=this.container.querySelector(".form-radio__options"),this.inputChangeHandler=this.inputChangeHandler.bind(this)}return e=[{key:"init",value:function(){var e=this;this.json&&(this.json=JSON.parse(this.json),this.renderOptionsWithData()),this.formOptions=this.container.querySelectorAll(".form-radio__option-input"),this.formOptions.forEach(function(t){t.addEventListener("click",e.inputChangeHandler)}),this.selectedPlaceholder.addEventListener("click",function(){return e._handleMenuToggle()}),document.addEventListener("click",function(t){t.target.matches("[class^='form-radio']")||e.container.classList.remove("_active"),e.content.classList.remove("_active")});var t=null;this.content.querySelectorAll(".form-radio__option-input").forEach(function(e){e.checked&&(t=e)}),this.initDefaultValue(t)}},{key:"renderOptionsWithData",value:function(){var e=this;this.options=[],this.optionsIds=[],this.optionsCount=[],this.optionsName=this.json.name,this.json.data.forEach(function(t){e.options.push(t.name),e.optionsIds.push(t.id),e.optionsCount.push(t.activitiesCount)}),this.getTemplateNode(),this.renderOptions()}},{key:"inputChangeHandler",value:function(e){this.checkedValue!==e.target.id&&(this._setCheckedState(e.target.id),this._handleInputChange(e.target.value),this.callback(e.target.id)),this._handleMenuToggle()}},{key:"initDefaultValue",value:function(e){var t=this.selectedPlaceholder.querySelector(".form-radio__value-placeholder");if(e){var n=e.value,i=e.id;t.textContent=n,this._setCheckedState(i)}else""===t.textContent&&(this.formOptions[0].checked=!0,this._setCheckedState(this.formOptions[0].id))}},{key:"getTemplateNode",value:function(){var e=document.createElement("div");e.className="form-radio__option",e.innerHTML='<input class="form-radio__option-input" type="radio" id="" name="" value="">\n                        <label class="form-radio__option-label" for=""><span class="form-radio__option-label-value"></span><sup class="form-radio__disclaimer">12</sup></label>',this.optionTemplate=e}},{key:"createTemplate",value:function(e){return e.cloneNode(!0)}},{key:"createOption",value:function(e,t){var n,i=this.createTemplate(this.optionTemplate),o=i.querySelector(".form-radio__option-label"),a=i.querySelector(".form-radio__option-input"),s=i.querySelector(".form-radio__option-label-value"),r=this.optionsIds?this.optionsIds[t]:"club-".concat(t);return a.id=r,a.value=e,a.name=this.optionsName,a.checked=null!==(n=this.json.data[t].selected)&&void 0!==n&&n,o.setAttribute("for",r),s.textContent=e,i}},{key:"renderOptions",value:function(){var e=this;this.content.innerHTML="",this.options.forEach(function(t,n){var i=e.createOption(t,n);e.content.appendChild(i)})}},{key:"updateOptionsWithData",value:function(e){var t=this;this.json=e,this.renderOptionsWithData(),this.formOptions=this.container.querySelectorAll(".form-radio__option-input"),this.formOptions.forEach(function(e){e.addEventListener("click",t.inputChangeHandler)})}},{key:"_setCheckedState",value:function(e){this.checkedValue=e}},{key:"getCheckedState",value:function(){return this.checkedValue}},{key:"_handleMenuToggle",value:function(){this.container.classList.toggle("_active"),this.content.classList.toggle("_active"),this.content.scrollTop=0}},{key:"_handleInputChange",value:function(e){var t=this.selectedPlaceholder.querySelector(".form-radio__value-placeholder");t?t.textContent=e:this.selectedPlaceholder.textContent=e}}],t=[{key:"init",value:function(){var e=document.querySelectorAll("[data-form-radio]");e.length&&e.forEach(function(e){new n({element:e}).init()})}}],e&&nh(n.prototype,e),t&&nh(n,t),n}();n.p;var nd=n(692);window.Site||(window.Site={},window.Site.Modules={},window.Site.Env={});var nf=new l;nf.register([f,y,g,U,M,F,tf,Z,to,nl,nu,e7,tw,tn,tl,tp,Y,t8,L,t2,tE,ne,p,eU,nn,na,ty,np]),o.handlerDocumentReady(function(){window.jQuery=window.$=nd,nf.init()})}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=o,s.amdD=function(){throw Error("define cannot be used indirect")},s.amdO={},e=[],s.O=function(t,n,i,o){if(n){o=o||0;for(var a=e.length;a>0&&e[a-1][2]>o;a--)e[a]=e[a-1];e[a]=[n,i,o];return}for(var r=1/0,a=0;a<e.length;a++){for(var n=e[a][0],i=e[a][1],o=e[a][2],l=!0,c=0;c<n.length;c++)(!1&o||r>=o)&&Object.keys(s.O).every(function(e){return s.O[e](n[c])})?n.splice(c--,1):(l=!1,o<r&&(r=o));if(l){e.splice(a--,1);var u=i();void 0!==u&&(t=u)}}return t},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},s.p="",t={792:0},s.O.j=function(e){return 0===t[e]},n=function(e,n){var i,o,a=n[0],r=n[1],l=n[2],c=0;if(a.some(function(e){return 0!==t[e]})){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(l)var u=l(s)}for(e&&e(n);c<a.length;c++)o=a[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(u)},(i=self.webpackChunksells_builder_front=self.webpackChunksells_builder_front||[]).forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i));var r=s.O(void 0,[96],function(){return s(749)});s.O(r)}();