!function(){"use strict";var t,e,n,i,o={104:function(t,e,n){var i=n(138),o=function(){var t;function e(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,e)}return t=[{key:"handlerDocumentReady",value:function(t){return"function"==typeof t&&("interactive"===document.readyState||"complete"===document.readyState?t():document.addEventListener("DOMContentLoaded",t))}},{key:"removeElement",value:function(t){t.parentNode.removeChild(t)}},{key:"siblings",value:function(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return Array.from(t.parentNode.children).filter(function(n){return e?n:n!==t})}},{key:"show",value:function(t){t.style.display="block"}},{key:"hide",value:function(t){t.style.display="none"}},{key:"clearHtml",value:function(t){t.innerHTML=""}},{key:"insetContent",value:function(t,e){"string"==typeof e?t.insertAdjacentHTML("beforeend",e):"object"==typeof e&&t.appendChild(e)}},{key:"keyExist",value:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},{key:"isEmptyObject",value:function(t){return 0===Object.keys(t).length}},{key:"isString",value:function(t){return"string"==typeof t}},{key:"getWindowHeight",value:function(){return window.innerHeight||document.documentElement.clientHeight}},{key:"getWindowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth}},{key:"getScrollTop",value:function(){return window.scrollY||document.documentElement.scrollTop}},{key:"isTouchDevice",value:function(){var t,e;return!!("undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&"undefined"!=typeof document&&(t=document,null!=(e=window.DocumentTouch)&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e)))||!!("undefined"!=typeof navigator&&(navigator.maxTouchPoints||navigator.msMaxTouchPoints))}},{key:"isBreakpoint",value:function(t,e){return window.innerWidth>=t&&window.innerWidth<e}},{key:"isDesktop",value:function(){return window.innerWidth>1199}},{key:"isTablet",value:function(){return window.innerWidth<1023}},{key:"isMobile",value:function(){return window.innerWidth<768}},{key:"youTubeGetId",value:function(t){return t.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be[.]?\/|youtube\.com[.]?\/(?:embed\/|v\/|watch\/?\?(?:\S+=\S*&)*v=))([\w-]{11})\S*$/)?RegExp.$1:void 0}},{key:"numberFormatted",value:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}},{key:"getElementIndex",value:function(t){for(var e=0;t=t.previousElementSibling;)e++;return e}},{key:"getElementOffset",value:function(t){var e=document.documentElement,n=t.getBoundingClientRect();return{top:n.top+window.pageYOffset-e.clientTop,left:n.left+window.pageXOffset-e.clientLeft}}},{key:"loadScript",value:function(t,e){var n=document.createElement("script");n.onload=function(){if(e)return e()},n.src=t,document.getElementsByTagName("head")[0].appendChild(n)}},{key:"send",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"POST";fetch(e,{method:i,body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(t){return t.json()}).then(function(t){n.success(t),n.complete&&n.complete()}).catch(function(t){n.error&&n.error(t)})}},{key:"throttle",value:function(t,e){var n=null;return function(i){var o=n;n=Date.now(),(void 0===o||n-o>e)&&t(i)}}},{key:"debounce",value:function(t,e){var n=this,i=null;return function(o){var a=i;i=Date.now(),a&&i-a<=e&&clearTimeout(n.lastCallTimer),n.lastCallTimer=setTimeout(function(){t(o)},e)}}},{key:"wrapContent",value:function(t,e,n){var i=document.createElement(e);return n&&i.classList.add(n),t.parentNode.insertBefore(i,t),i.appendChild(t)}},{key:"bodyFixed",value:function(t){var e="".concat(window.innerWidth-document.documentElement.clientWidth,"px");setTimeout(function(){(0,i.Qp)(t,{reserveScrollBarGap:!0})},0),setTimeout(function(){var t=document.documentElement;t&&t.style.setProperty("--lock-offset",e)},0)}},{key:"bodyStatic",value:function(){setTimeout(function(){(0,i.tP)()},0),setTimeout(function(){var t=document.documentElement;t&&t.style.setProperty("--lock-offset","")},0)}},{key:"convertToNumber",value:function(t){return parseFloat(t.toString().replace(/\s/g,""))}},{key:"replaceSpace",value:function(t){return t.replace(/\s/g,"")}},{key:"convertToDigit",value:function(t){return Number(t)?Number(t).toLocaleString("ru-Ru"):t}},{key:"convertToRank",value:function(t,e){return Number(t)/e}},{key:"pluralWord",value:function(t,e){return e[t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2]}},{key:"getUrlParams",value:function(t){var e=window.location.search;return new URLSearchParams(e).get(t)}},{key:"isElement",value:function(t){return!!t.tagName}},{key:"closest",value:function(t,e){return!!t&&!!e&&t.closest(e)}},{key:"isInViewport",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t.getBoundingClientRect(),i=n.top+e,o=n.left+e,a=window.innerHeight||document.documentElement.clientHeight,s=window.innerWidth||document.documentElement.clientWidth,r=i<=a&&i+n.height>=0,l=o<=s&&o+n.width>=0;return r&&l}},{key:"hyphenate",value:function(t){var e=t,n="[а-яА-Я]",i="[аеёиоуыэюяАЕЁИОУЫЭЮЯ]",o="[бвгджзклмнпрстфхцчшщБВГДЖЗКЛМНПРСТФХЦШЩ]",a=[];a[1]=RegExp("(".concat("[йъьЙЪЬ]",")(").concat(n).concat(n,")"),"ig"),a[2]=RegExp("(".concat(i,")(").concat(i).concat(n,")"),"ig"),a[4]=RegExp("(".concat(i).concat(o,")(").concat(o).concat(i,")"),"ig"),a[3]=RegExp("(".concat(o).concat(i,")(").concat(o).concat(i,")"),"ig"),a[5]=RegExp("(".concat(i).concat(o,")(").concat(o).concat(o).concat(i,")"),"ig"),a[6]=RegExp("(".concat(i).concat(o).concat(o,")(").concat(o).concat(o).concat(i,")"),"ig");for(var s=0;s<2;++s)for(var r=0;r<=6;++r)e=e.replace(a[r],"$1".concat("\xad","$2"));return e}},{key:"checkInternetConnection",value:function(){return navigator.onLine}},{key:"isWindows",value:function(){var t,e;return -1!==["Win32","Win64","Windows","WinCE"].indexOf((null===(e=window.navigator)||void 0===e?void 0:null===(t=e.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}},{key:"cubicProgress",value:function(t){return(t=((t=t<0?0:t)>1?1:t)/.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},{key:"now",value:function(){return window.performance&&window.performance.now?window.performance.now():+new Date}},{key:"toBase64",value:function(t){return window.btoa(unescape(encodeURIComponent(t)))}},{key:"fromBase64",value:function(t){return decodeURIComponent(escape(window.atob(t)))}},{key:"clickOutside",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){var o=[];t.nodeType===Node.ELEMENT_NODE?o=[[t]]:"string"==typeof t?o.push(Array.from(document.querySelectorAll(t))):Array.from(t).forEach(function(t){o.push(Array.from(document.querySelectorAll(t)))}),document.addEventListener("click",function(a){var s=a.target;i&&(o=[],t.nodeType===Node.ELEMENT_NODE?o=[[t]]:"string"==typeof t?o.push(Array.from(document.querySelectorAll(t))):Array.from(t).forEach(function(t){o.push(Array.from(document.querySelectorAll(t)))}));do{try{o.forEach(function(t){if(-1!==t.indexOf(s))throw n(),!1})}catch(t){return}s=s.parentNode}while(s);e()})}}},{key:"addScript",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=document.createElement("script");i.type="application/javascript",i.src=t,i.onload=n.onload,i.onerror=function(t){console.warn("Ошибка загрузки "+e.src),n.onerror(t)},document.head.appendChild(i)}}],function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e,t),e}();function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=null,c=function(){var t,e;function n(){return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.components=[],l||(l=this),l}return t=[{key:"register",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.components=r(this.components).concat(r(t)),!0}},{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return this.components.length&&Array.from(this.components).forEach(function(e){e.init(t),document.dispatchEvent(new CustomEvent("afterInitComponent",{detail:{component:e,context:t}}))}),!0}}],s(n.prototype,t),e&&s(n,e),n}(),u=n(191),h=n(127);function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}u.p8.registerPlugin(h.L);var p=function(){var t,e;function n(t){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.elem=t.elem,this.maxScrollTop=null}return t=[{key:"init",value:function(){this._bindEvents()}},{key:"_bindEvents",value:function(){var t=this;this.elem.addEventListener("click",function(e){e.preventDefault(),t._scrollTo()})}},{key:"_scrollTo",value:function(){if(this.elem.hasAttribute("href")){var t=this.elem.getAttribute("href");this.scrollToAnchor(t)}else if(this.elem.dataset.scrollTo){var e=this.elem.dataset.scrollTo;this.scrollToAnchor(e)}}},{key:"scrollToAnchor",value:function(t){var e=document.querySelector(t);if(!e){console.warn("Не найдет элемент с id "+t);return}t=e.getBoundingClientRect().top+(window.scrollY||document.body.scrollTop),this._scrollBy(t)}},{key:"_scrollBy",value:function(t){this._updateMaxScroll();var e=t>this.maxScrollTop?this.maxScrollTop:t,n=Math.abs(window.scrollY-e)/500;n=(n<.15?.15:n)>1?1:n,u.p8.to(window,{duration:n,scrollTo:{y:e,autoKill:!1},ease:n>=.5?"power4.inOut":""})}},{key:"_updateMaxScroll",value:function(){this.maxScrollTop=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-window.innerHeight}}],e=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.querySelectorAll("[data-scroll-to]");e.length&&e.forEach(function(t){new n({elem:t}).init()})}}],t&&d(n.prototype,t),e&&d(n,e),n}(),f=n(732),m=n.n(f);function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var y=null,g=function(){var t,e;function n(){return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),y||(y=this),this.channels={},y}return t=[{key:"subscribe",value:function(t,e){this.channels[t]||(this.channels[t]=[]),this.channels[t].push({context:this,callback:e})}},{key:"unsubscribe",value:function(t){return!!this.channels[t]&&(delete this.channels[t],this)}},{key:"publish",value:function(t){if(!this.channels[t])return!1;var e=Array.prototype.slice.call(arguments,1);return this.channels[t].forEach(function(t){t.callback.apply(t.context,e)}),this}},{key:"installTo",value:function(t){t.channels={},t.publish=this.publish,t.subscribe=this.subscribe}}],v(n.prototype,t),e&&v(n,e),n}();function b(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function k(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}var w=new g,S=function(){function t(){b(this,t)}return k(t,null,[{key:"init",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],new E().init(),new x().init()}}]),t}(),x=function(){function t(){b(this,t),this.lazyloadEnter=null}return k(t,[{key:"init",value:function(){this.subscibe()}},{key:"subscibe",value:function(){var t=this;w.subscribe("preloader:end",function(){setTimeout(function(){t.start()},300)})}},{key:"start",value:function(){this.lazyloadEnter=new(m())({elements_selector:"[data-lazy-enter]",threshold:400,callback_exit:this._onEnter.bind(this,"exit",1),callback_enter:this._onEnter.bind(this,"enter",0)})}},{key:"_onEnter",value:function(t,e,n){var i=n.getAttribute("data-lazy-enter").split(",")[e];n.classList.contains("_".concat(t))||(w.publish(i,n),n.classList.add("_".concat(t)))}}]),t}(),E=function(){function t(){b(this,t),this.lazyloadImage=null}return k(t,[{key:"init",value:function(){this.lazyloadImage=new(m())({elements_selector:".lazy",threshold:300,unobserve_entered:!0,callback_error:function(t){}})}}]),t}();function C(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var O=new g,T=function(){var t,e;function n(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.preloader=document.querySelector(".preloader"),this.html=document.documentElement,this.timeOnView=600}return t=[{key:"init",value:function(){this.preloader&&this._subscribe()}},{key:"_subscribe",value:function(){var t=this;O.subscribe("animation:inited",function(){t._bindEvents()})}},{key:"_bindEvents",value:function(){var t=this;o.handlerDocumentReady(function(){setTimeout(function(){t._hide()},t.timeOnView)})}},{key:"_hide",value:function(){var t=this;this.preloader.classList.add("_ready"),this.html.classList.add("_loaded"),O.publish("preloader:end"),setTimeout(function(){o.removeElement(t.preloader)},1e3)}}],e=[{key:"init",value:function(){new n().init()}}],t&&C(n.prototype,t),e&&C(n,e),n}(),L=n(856),j=n(92);function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function A(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function I(t){return function(t){if(Array.isArray(t))return P(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(t,e)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}u.p8.registerPlugin(j.i);var M=function(){var t,e;function n(){var t=this;!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.parallaxElems=I(document.querySelectorAll("[data-plx-elem]")).map(function(e){return t._getParams(e,"data-plx-elem")}),this.parallaxImages=I(document.querySelectorAll("[data-plx-image]")).map(function(e){return t._getParams(e,"data-plx-image")}),this.parallaxSections=I(document.querySelectorAll("[data-plx-section]")).map(function(e){return t._getParams(e,"data-plx-section")}),this.parallaxSpeeds=I(document.querySelectorAll("[data-plx-speed]")).map(function(e){return t._getParams(e,"data-plx-speed")}),this.parallaxTitleds=I(document.querySelectorAll("[data-plx-titled]")),this.parallaxPinchElem=document.querySelector("[data-plx-pinch]"),this.viewHeight=window.innerHeight,this.scrollPosition=o.getScrollTop()}return t=[{key:"init",value:function(){this._start()}},{key:"_start",value:function(){var t=this;this.parallaxElems.forEach(function(e){t._parallaxElem(e)}),this.parallaxImages.forEach(function(e){t._parallaxImage(e)}),this.parallaxSections.forEach(function(e){t._parallaxSection(e)}),this.parallaxSpeeds.forEach(function(e){t._parallaxSpeed(e)}),this.parallaxTitleds.forEach(function(e){t._parallaxTitled(e)}),this.parallaxPinchElem&&this._parallaxPinch()}},{key:"_parallaxSpeed",value:function(t){var e=t.target,n=e.closest("[data-plx-wrap]"),i=n.offsetWidth,o=n.offsetHeight,a=e.firstChild;if(a&&"IMG"===a.tagName){var s=.5*i,r=.5*o;s=- -(s*t.x*.004),r=- -(r*t.y*.004),e.style.setProperty("left","-".concat(s,"px")),e.style.setProperty("width","calc(100% + ".concat(2*s,"px)")),e.style.setProperty("top","-".concat(r,"px")),e.style.setProperty("height","calc(100% + ".concat(2*r,"px)"))}n.addEventListener("mousemove",function(n){var a=n.pageX-.5*i,s=n.pageY-.5*o;u.p8.to(e,{x:-((e.offsetLeft+a*t.x)*.004),y:-((e.offsetTop+s*t.y)*.004),duration:1})})}},{key:"_parallaxElem",value:function(t){var e=t.target;u.p8.set(e,{force3D:!0});var n={trigger:e,start:"top bottom",end:"bottom 90%",scrub:!0},i=10*t.x,o=10*t.y;u.p8.fromTo(e,{opacity:t.fade?0:1,duration:1},{opacity:1,scrollTrigger:n}),u.p8.fromTo(e,{y:0,x:0,duration:9},{y:o,x:i,scrollTrigger:n})}},{key:"_parallaxSection",value:function(t){var e=this,n=t.target,i=n.hasAttribute("data-plx-top");u.p8.fromTo(n,{y:i?"".concat(-window.innerHeight*this._getRatio(n),"px"):"0px"},{y:function(){return"".concat(window.innerHeight*(1-e._getRatio(n)),"px")},ease:"none",scrollTrigger:{trigger:n,start:function(){return i?"top bottom":"top top"},end:"bottom top",scrub:!0,invalidateOnRefresh:!0}})}},{key:"_parallaxImage",value:function(t){n.parallaxImage(t.target)}},{key:"_parallaxTitled",value:function(t){var e=t.closest("[data-plx-wrap]"),n=e?e.querySelector("[data-plx-titled-title]"):null,i=Math.round(window.innerHeight/100*15);if(u.p8.fromTo(t,{y:"-".concat(i)},{y:"".concat(i),ease:"none",scrollTrigger:{trigger:t,start:"top bottom",end:"bottom top",scrub:!0}}),n){var o=u.p8.timeline({scrollTrigger:{trigger:t,start:"".concat(i," center"),end:"bottom center",scrub:!0,pin:n,pinSpacer:!1}});o.from(n,{autoAlpha:0,scaleY:1.2},"start"),o.to(n,{autoAlpha:1,scaleY:1},"start+=0.025"),o.to(n,{autoAlpha:0,scaleY:1.2},"start+=0.9")}}},{key:"_parallaxPinch",value:function(){var t=this,e=this.parallaxPinchElem.querySelector("[data-plx-pinch-video]");e?e.addEventListener("loadeddata",function(){u.p8.to(t.parallaxPinchElem,{scale:.8,y:"20%",scrollTrigger:{trigger:t.parallaxPinchElem,start:"top top",end:"bottom top",scrub:!0,markers:!0,onEnter:function(){return e.play()},onEnterBack:function(){return e.play()},onLeave:function(){return e.pause()}}})}):u.p8.to(this.parallaxPinchElem,{scale:.8,y:"20%",scrollTrigger:{trigger:this.parallaxPinchElem,start:"top top",end:"bottom top",scrub:!0}})}},{key:"_getRatio",value:function(t){return window.innerHeight/(window.innerHeight+t.offsetHeight)}},{key:"_getParams",value:function(t,e){var n,i,a,s,r=t.getAttribute(e),l=t.getAttribute("data-plx-fade");"data-plx-speed"===e?(n=r.split(",")[0],i=r.split(",")[1]||0,a=r.split(",")[2]||0,s=r.split(",")[3]||0):(i=r.split(",")[0],s=r.split(",")[1]||0,n=r.split(",")[2]||0,a=r.split(",")[3]||0);var c=parseInt(o.isDesktop()?i:s);c=Number.isNaN(c)?10:c;var u=parseInt(o.isDesktop()?n:a);return{target:t,y:c,x:u=Number.isNaN(u)?10:u,fade:null!==l}}}],e=[{key:"parallaxImage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=t.closest("[data-plx-wrap]")||t.parentNode,i=n?n.querySelector("[data-plx-label]"):null;t.onload=function(){u.p8.to(t,{scrollTrigger:{scroller:e,trigger:n,scrub:.5,invalidateOnRefresh:!0},y:n.offsetHeight-t.offsetHeight,ease:"none"}),i&&(u.p8.set(i,{autoAlpha:0}),u.p8.to(i,{autoAlpha:1,scrollTrigger:{trigger:t,start:"top bottom",end:"bottom center",scrub:1}}))}}}],t&&A(n.prototype,t),e&&A(n,e),n}();function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function B(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function D(t){return function(t){if(Array.isArray(t))return q(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(t,e)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}u.p8.registerPlugin(j.i);var N=new g,H=function(){var t,e;function n(){var t=this;!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.wrapper=document.querySelector("body"),this.blockSelector="[data-anim]",this.animationObjects=u.p8.utils.toArray(this.blockSelector),this.animationSettings={delayAfterPreloader:600,breakpoint:1},this.gsapSettings={ease:"power2.out",duration:.9,delay:0,scrub:!o.isDesktop()&&2},this.animationObjects=D(this.wrapper.querySelectorAll(this.blockSelector)).map(function(e){var n,i,o,a;return{animationBlock:e,items:D(e.querySelectorAll("\n                  [data-anim-item]")),delay:(null===(n=e.dataset)||void 0===n?void 0:n.animDelay)||0,duration:(null===(i=e.dataset)||void 0===i?void 0:i.animDuration)||t.gsapSettings.duration,isOnly:e.hasAttribute("data-anim-only")||!1,type:(null===(o=e.dataset)||void 0===o?void 0:o.anim)||"fadeIn",ease:(null===(a=e.dataset)||void 0===a?void 0:a.animEase)||t.gsapSettings.ease}}),u.p8.config({nullTargetWarn:!1})}return t=[{key:"init",value:function(){if(this._initOtherAnimations(),!o.isDesktop()){N.publish("animation:inited");return}this._animationInit(),this._subscribes()}},{key:"_subscribes",value:function(){var t=this;N.subscribe("preloader:end",function(){setTimeout(function(){t.animationObjects.forEach(function(e){t._show(e.animationBlock),t._animateMove(e)}),t._updateAnimation()},t.animationSettings.delayAfterPreloader)})}},{key:"_getScrollSettings",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={trigger:t,start:o.isDesktop()?"top 80%":"top 95%",end:"top 60%",scrub:this.gsapSettings.scrub,once:!0,toggleActions:"play none none reverse"};return n.onEnter&&(i.onEnter=n.onEnter),i}},{key:"_counterRowItems",value:function(t){var e=t.animationBlock,n=e.querySelector("[data-anim-item], .col");return Math.trunc(e.getBoundingClientRect().width/n.getBoundingClientRect().width)}},{key:"_animationInit",value:function(){var t=this;new M().init(),this.animationObjects.forEach(function(e){t._hide(e.animationBlock)}),N.publish("animation:inited")}},{key:"_initOtherAnimations",value:function(){}},{key:"_animateMove",value:function(t){var e=this,n=t.animationBlock,i=t.items.length?t.items:n,o=[];if(i.length){for(var a=this._counterRowItems(t),s=0;s<i.length;s+=a){var r=i.slice(s,s+a);o.push(r)}o.forEach(function(n){var i=u.p8.timeline({scrollTrigger:e._getScrollSettings(n,t)}),o=e._animatePosition(t.type);i.fromTo(n,{opacity:0,x:o.x,y:o.y},{opacity:1,y:0,x:0,duration:t.duration,delay:t.delay||0,ease:t.ease||e.gsapSettings.ease,stagger:.15})})}else{var l=u.p8.timeline({scrollTrigger:this._getScrollSettings(n,t,{onEnter:function(){}})});if("clipPath"===t.type){this._setClipPathAnimation(t);return}var c=this._animatePosition(t.type);l.fromTo(n,{opacity:0,y:c.y,x:c.x,scale:c.scale},{opacity:1,y:0,x:0,scale:1,duration:t.duration,delay:t.delay||0,ease:t.ease||this.gsapSettings.ease})}}},{key:"_animatePosition",value:function(t){var e=0,n=0,i=1;switch(t){case"fadeIn":break;case"fadeInTop":n="30";break;case"fadeInDown":n="-30";break;case"fadeInLeft":e=o.isDesktop()?"-30":0;break;case"fadeInRight":e=o.isDesktop()?"30":0;break;case"zoomIn":i=.5}return{x:e,y:n,scale:i}}},{key:"_setClipPathAnimation",value:function(t){var e=this,n=t.animationBlock,i=t.animationBlock.querySelector("img");n.style.overflow="hidden",u.p8.timeline({scrollTrigger:this._getScrollSettings(n,t,{onEnter:function(){e._show(n)}})}).from(i,{scale:1.2}).fromTo(n,{css:{opacity:0,clipPath:"polygon(0 0, 0 0, 0 100%, 0% 100%)",webkitClipPath:"polygon(0 0, 0 0, 0 100%, 0% 100%)"}},{css:{opacity:1,clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)",webkitClipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)"},duration:t.duration,ease:t.ease||this.gsapSettings.ease},0)}},{key:"_updateAnimation",value:function(){var t=document.body.scrollHeight;window.addEventListener("scroll",(0,L.D)(10,function(){var e=document.body.scrollHeight;e!==t&&(j.i.refresh(!0),t=e)}))}},{key:"_hide",value:function(t){u.p8.set(t,{opacity:0})}},{key:"_show",value:function(t){u.p8.set(t,{opacity:1})}}],e=[{key:"init",value:function(){new n().init()}}],t&&B(n.prototype,t),e&&B(n,e),n}();function z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var R=function(){var t,e;function n(t){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.openClass="_menu-opened",this.opened=!1,this.animating=!1,this.menu=t,this.closeBtn=this.menu.querySelector(".menu__head-close"),this.menuContent=this.menu.querySelector(".menu__container"),this.menuInner=this.menu.querySelector(".menu__container-inner"),this.menuOverlay=this.menu.querySelector(".menu__overlay"),this.openers=document.querySelectorAll("[data-menu-trigger]"),this.htmlElem=document.documentElement,this.animDuration=.6,this.animEase="power2.out"}return t=[{key:"init",value:function(){this._bindContext(),this._bindEvents()}},{key:"_bindContext",value:function(){this.open=this.open.bind(this),this.close=this.close.bind(this),this._changeState=this._changeState.bind(this)}},{key:"_bindEvents",value:function(){var t=this;document.addEventListener("keyup",function(e){t._closeByKeyboard(e)}),this.openers.length&&this.openers.forEach(function(e){e.addEventListener("click",t._changeState)}),this.closeBtn&&this.closeBtn.addEventListener("click",this._changeState),["resize","orientationchange"].forEach(function(e){window.addEventListener(e,t._onResize.bind(t))})}},{key:"_onResize",value:function(){this.opened&&o.isDesktop()&&this._changeState()}},{key:"_closeByKeyboard",value:function(t){27===t.keyCode&&this.opened&&this._changeState()}},{key:"_changeState",value:function(){this.opened?this.close():this.open()}},{key:"open",value:function(){var t=this;(this.opened||!this.animating)&&(this.opened=!0,this.animating=!0,this.menu.style.pointerEvents="all",this.menu.style.display="block",this.htmlElem.classList.add(this.openClass),o.isTablet()?(u.p8.set(this.menuContent,{alpha:0}),u.p8.fromTo(this.menuContent,{alpha:0},{alpha:1,duration:this.animDuration,ease:this.animEase,onComplete:function(){t.animating=!1}}),u.p8.fromTo(this.menuInner,{alpha:0,y:"20"},{y:0,alpha:1,duration:this.animDuration,ease:this.animEase,delay:this.animDuration/1.5,onComplete:function(){t.animating=!1}})):(o.bodyFixed(this.menu.querySelector(".menu__container")),u.p8.fromTo(this.menuOverlay,{alpha:0},{alpha:1,duration:this.animDuration,ease:this.animEase}),u.p8.fromTo(this.menuContent,{alpha:0,x:"100%"},{x:0,alpha:1,duration:this.animDuration,ease:this.animEase}),u.p8.fromTo(this.menuInner,{alpha:0,x:"20"},{x:0,alpha:1,duration:this.animDuration,ease:this.animEase,delay:this.animDuration/1.5,onComplete:function(){t.animating=!1}})))}},{key:"close",value:function(){var t=this;this.opened&&this.animating||(this.opened=!1,this.animating=!0,this.menu.style.pointerEvents="none",o.isTablet()?(u.p8.to(this.menuInner,{y:20,alpha:0,duration:this.animDuration,ease:this.animEase}),u.p8.to(this.menuContent,{alpha:0,duration:this.animDuration,ease:this.animEase,delay:this.animDuration/1.5,onComplete:function(){t.animating=!1,t.htmlElem.classList.remove(t.openClass),t.menu.style.display="none"}})):(u.p8.to(this.menuOverlay,{alpha:0,duration:this.animDuration,ease:this.animEase}),u.p8.to(this.menuInner,{alpha:0,duration:this.animDuration,ease:this.animEase}),u.p8.to(this.menuContent,{x:"100%",alpha:0,duration:this.animDuration,ease:this.animEase,onComplete:function(){t.animating=!1,t.htmlElem.classList.remove(t.openClass),t.menu.style.display="none",o.bodyStatic()}})))}}],e=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.querySelector(".menu");e&&new n(e).init()}}],t&&z(n.prototype,t),e&&z(n,e),n}(),W=n(955);function F(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var $=function(){var t,e;function n(t){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.cookie=t,this.cookies=W.Z,this.messageShowDelay=5e3,this.cookieDuration=this.cookie.dataset.cookieTime||365,this.activeClass="is-active",this.hideClass="is-hide"}return t=[{key:"_init",value:function(){if(0==+this.cookieDuration&&this._removeCookie("cookie-accepted"),void 0!==this._getCookie("cookie-accepted")){this._hideMessage();return}this._showMessage(),this._bindEvents()}},{key:"_bindEvents",value:function(){var t=this;document.querySelector(".cookie__close").addEventListener("click",function(){t.cookie.classList.add(t.hideClass),setTimeout(function(){t._hideMessage(),t._setCookie("cookie-accepted","yes")},300)})}},{key:"_setCookie",value:function(t,e){this.cookies.set(t,e,{expires:+this.cookieDuration})}},{key:"_getCookie",value:function(t){return this.cookies.get(t)}},{key:"_removeCookie",value:function(t){this.cookies.remove(t)}},{key:"_showMessage",value:function(){var t=this;setTimeout(function(){t.cookie.classList.add(t.activeClass)},this.messageShowDelay)}},{key:"_hideMessage",value:function(){o.removeElement(this.cookie)}}],e=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.querySelector(".j-cookie");e&&new n(e)._init()}}],t&&F(n.prototype,t),e&&F(n,e),n}();function Z(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function V(t,e,n){return e&&G(t.prototype,e),n&&G(t,n),t}function U(t,e,n){return(U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Y(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n||t):o.value}})(t,e,n||t)}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function J(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i,o=Y(t);if(e){var a=Y(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return(n=i)&&("object"==(n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)||"function"==typeof n)?n:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)}}var Q=new g,tt=function(){function t(){Z(this,t),this.openClass="is-open",this.isOpen=!1,this.closedHeight=0,this.height=null,this.elem=null,this.toggler=null,this.content=null,this.contentOuter=null,this.title=null,this.closed=null,this.changeTitle="",this.subAccordion=!1,this.close=this.close.bind(this),this.open=this.open.bind(this)}return V(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setElements(t),this._setInitState(),this._subscribe(),this._bindEvents()}},{key:"reinit",value:function(){this._setInitState()}},{key:"_setElements",value:function(t){this.elem=t.elem,this.elemParent=this.elem.parentNode||!1,this.closed=this.elem.dataset.close||!0,this.toggler=this.elem.querySelector(t.toggler)||this.elem.querySelector(".acc__head"),this.content=this.elem.querySelector(t.content)||this.elem.querySelector(".acc__content-inner"),this.contentOuter=this.elem.querySelector(t.contentOuter)||this.elem.querySelector(".acc__content"),this.title=this.elem.querySelector(t.title)||this.elem.querySelector(".acc__title"),this.contentOuter.querySelector("[data-acc]")&&(this.subAccordion=!0)}},{key:"_setInitState",value:function(){this.height=this._getHeight(),this.isOpen=this.elem.classList.contains(this.openClass),this.titleText=!!this.title&&this.title.innerHTML,this.changeTitle=this.elem.hasAttribute("data-title"),this.hiddenText=this.elem.dataset.title||"Скрыть"}},{key:"_getHeight",value:function(){return this.content.offsetHeight}},{key:"_subscribe",value:function(){throw Error("Метод _subscribe должен быть переопределен")}},{key:"_bindEvents",value:function(){var t=this;this.toggler.addEventListener("click",this._onTogglerClick.bind(this)),["resize","orientationchange"].forEach(function(e){window.addEventListener(e,t._onResize.bind(t))})}},{key:"_onTogglerClick",value:function(){var t=this.isOpen?this.close:this.open;this.height=this._getHeight(),t()}},{key:"_onResize",value:function(){this.isOpen&&this.update()}},{key:"_setContentHeight",value:function(t){this.contentOuter.style.height=t?"".concat(t,"px"):t}},{key:"open",value:function(){var t=this;this.changeTitle&&this.titleText&&(o.clearHtml(this.title),o.insetContent(this.title,this.hiddenText)),this.elem.classList.add(this.openClass),this.isOpen=!0,this._setContentHeight(this.height),setTimeout(function(){t.contentOuter.style.overflow="visible"},600),this.subAccordion&&setTimeout(function(){t.contentOuter.style.height="auto",t.elem.classList.add("_is-sub-accordion")},1e3)}},{key:"close",value:function(t){t&&this.elemParent!==t||(this.subAccordion&&(this._setContentHeight(this.height),this.elem.classList.remove("_innerAcc")),this.changeTitle&&this.titleText&&(o.clearHtml(this.title),o.insetContent(this.title,this.titleText)),this.elem.classList.remove(this.openClass),this.isOpen=!1,this.contentOuter.style.overflow="hidden",this._setContentHeight(this.closedHeight))}},{key:"update",value:function(){this.height=this._getHeight(),this._setContentHeight(this.isOpen?this.height:this.closedHeight)}}]),t}(),te=function(t){J(n,t);var e=X(n);function n(){return Z(this,n),e.apply(this,arguments)}return V(n,[{key:"_setInitState",value:function(){U(Y(n.prototype),"_setInitState",this).call(this),this._setContentHeight(this.isOpen?this.height:this.closedHeight)}},{key:"open",value:function(){Q.publish("openAccordion",this.elemParent),setTimeout(function(){Q.publish("scrollResize")},600),U(Y(n.prototype),"open",this).call(this)}},{key:"_subscribe",value:function(){"false"!==this.closed&&Q.subscribe("openAccordion",this.close)}}],[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.querySelectorAll("[data-accordion]");e.length&&e.forEach(function(t){new n().init({elem:t})});var i=t.querySelectorAll("[data-accordion-filter]");i.length&&i.forEach(function(t){new n().init({elem:t,toggler:".realty-filtres__controls-button-more"})})}}]),n}(tt),tn=function(t){J(n,t);var e=X(n);function n(){return Z(this,n),e.apply(this,arguments)}return V(n,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.breakpoint=t.breakpoint||t.elem.dataset.accMobile||1199,U(Y(n.prototype),"init",this).call(this,t)}},{key:"_isDesktop",value:function(){return o.isBreakpoint(this.breakpoint,1e4)}},{key:"_setInitState",value:function(){U(Y(n.prototype),"_setInitState",this).call(this),this._isDesktop()||this._setContentHeight(this.isOpen?this.height:this.closedHeight)}},{key:"_subscribe",value:function(){"false"!==this.closed&&Q.subscribe("openMobileAccordion",this.close)}},{key:"_onResize",value:function(){this.update()}},{key:"open",value:function(){this._isDesktop()||(Q.publish("openMobileAccordion"),U(Y(n.prototype),"open",this).call(this))}},{key:"close",value:function(){this._isDesktop()||U(Y(n.prototype),"close",this).call(this)}},{key:"update",value:function(){if(this._isDesktop()){this.height=this._getHeight(),this._setContentHeight(null);return}U(Y(n.prototype),"update",this).call(this)}}],[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.querySelectorAll("[data-accordion-mobile]");e.length&&e.forEach(function(t){new n().init({elem:t})})}}]),n}(tt),ti=function(){function t(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,t)}return function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t,[{key:"getTemplateArrows",value:function(){return'<div class="swiper-navigation">\n        <div class="swiper-button swiper-button-prev"></div>\n        <div class="swiper-button swiper-button-next"></div>\n    </div>'}},{key:"getTemplateArrowsAndPagination",value:function(){return'<div class="swiper-navigation">\n        <div class="swiper-button swiper-button-prev"></div>\n        <div class="swiper-button swiper-button-next"></div>\n        </div>\n    </div>'}},{key:"getTemplatePrev",value:function(){return'\n      <div class="swiper-button__inner">\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none" class="swiper-button__svg">\n          <path d="M15 18.4248L9 12.4248L15 6.4248" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg>\n      </div>'}},{key:"getTemplateNext",value:function(){return'\n    <div class="swiper-button__inner">\n      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none" class="swiper-button__svg">\n        <path d="M9 18.425L15 12.425L9 6.42505" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n      </svg>\n    </div>'}}]),t}(),to=function(){var t;function e(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,e)}return t=[{key:"setSettingSlidesViews",value:function(t,e){switch(t){case"1":e.slidesPerView="auto",e.spaceBetween=10;break;case"2":e.slidesPerView=1,e.breakpoints={480:{slidesPerView:2,spaceBetween:20}};break;case"3":e.slidesPerView=1,e.breakpoints={480:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:3,spaceBetween:20}};break;case"4":e.slidesPerView=1,e.spaceBetween=10,e.breakpoints={480:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:20}}}}},{key:"getTemplateGalleryButton",value:function(){return'<span class="slider-gallery-button">\n              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n              <path d="M2 9V6.5C2 4.01 4.01 2 6.5 2H9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M15 2H17.5C19.99 2 22 4.01 22 6.5V9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M22 16V17.5C22 19.99 19.99 22 17.5 22H16" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M9 22H6.5C4.01 22 2 19.99 2 17.5V15" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              </svg>\n            </span>'}},{key:"getDirection",value:function(t){return 0===t?"NONE":t>0?"NEXT":"BACK"}},{key:"zeroBeforeNumber",value:function(t){return t<9?"0".concat(t):t}}],function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e,t),e}(),ta=n(652),ts=n(80);function tr(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function tl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function tc(t,e,n){return e&&tl(t.prototype,e),n&&tl(t,n),t}function tu(t,e,n){return(tu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=th(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n||t):o.value}})(t,e,n||t)}function th(t){return(th=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function td(t,e){return(td=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tp=new g,tf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&td(t,e)}(i,t);var e,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o=th(i);if(e){var a=th(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(t=n)&&("object"==(t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)||"function"==typeof t)?t:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function i(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tr(this,i),(t=n.call(this,e)).arrayAllElements=[],t}return tc(i,[{key:"init",value:function(){var t=this;tu(th(i.prototype),"init",this).call(this),this.slider.params.parallax&&(this.slideElements=Array.from(this.sliderElement.querySelectorAll(".swiper-slide__picture")),this.slideElements.forEach(function(e){e.setAttribute("data-swiper-parallax","".concat(.75*t.sliderElement.offsetWidth))}))}},{key:"_bindEvents",value:function(){tu(th(i.prototype),"_bindEvents",this).call(this),this.slider.on("init",this._onInit.bind(this)),this.slider.on("lazyImageReady",this._lazyImageReady.bind(this))}},{key:"_lazyImageReady",value:function(){var t,e;(null===(e=this.slider.params)||void 0===e?void 0:null===(t=e.autoplay)||void 0===t?void 0:t.enabled)&&!this.slider.autoplay.running&&this.slider.autoplay.start()}},{key:"_onInit",value:function(){var t=this;this.arrayAllElements=this.arrayAllElements.concat(this.sliderElement.querySelectorAll("[data-title]")),this.arrayAllElements=this.arrayAllElements.concat(this.sliderElement.querySelectorAll("[data-subtitle]")),this.arrayAllElements=this.arrayAllElements.concat(this.sliderElement.querySelectorAll(".swiper-slide-caption")),this.slider.on("slideNextTransitionStart",this._slideNextTransitionStart.bind(this)),this.slider.on("slidePrevTransitionStart",this._slidePrevTransitionStart.bind(this)),this._hideElements(),tp.subscribe("slider:enter",function(e){if(e===t.sliderWrapper){var n,i;t._animate("next",!0),(null===(i=t.slider.params)||void 0===i?void 0:null===(n=i.autoplay)||void 0===n?void 0:n.enabled)&&t.slider.autoplay.start()}})}},{key:"_slideNextTransitionStart",value:function(){this._animate("next")}},{key:"_slidePrevTransitionStart",value:function(){this._animate("prev")}},{key:"_hideElements",value:function(){this.arrayAllElements.forEach(function(t){u.p8.to(t,{duration:"0.3",x:0,opacity:0})})}},{key:"_animate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",e=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.sliderElement.querySelector(".swiper-slide-active")),n=e.querySelector("[data-title]"),i=e.querySelector("[data-subtitle]"),o=e.querySelector(".swiper-slide-caption");this._hideElements(),u.p8.fromTo(n,{x:"next"===t?10:-10},{ease:"power2.out",delay:"0.6",duration:"0.7",x:0,opacity:1}),u.p8.fromTo(i,{x:"next"===t?10:-10},{ease:"power2.out",delay:"0.7",duration:"0.5",x:0,opacity:1}),u.p8.to(o,{ease:"power2.in",delay:"0.9",duration:"0.7",opacity:1})}}]),i}(function(){function t(e){var n;tr(this,t),this.sliderWrapper=e.item,this.sliderElement=this.sliderWrapper.querySelector(".swiper"),this.slider=null,this.sliderNum=null,this.interleaveOffset=.5,this.settingsCommon={},this.settingsOption=(null==e?void 0:e.settings)||{},this.settingsCustom=(null==e?void 0:e.custom)||{},this.settingsData=this.sliderWrapper.dataset.swiper||(null===(n=this.sliderElement)||void 0===n?void 0:n.dataset.swiper)||{},this.btnPrev=null,this.btnNext=null,this.slides=Array.from(this.sliderElement.querySelectorAll(".swiper-slide"))}return tc(t,[{key:"_setSettingsDefault",value:function(){var t="";if(null===(e=this.settingsOption.autoplay)||void 0===e?void 0:e.delay){var e,n,i,o=null===(i=this.settingsOption.autoplay)||void 0===i?void 0:i.delay;t="animation-duration: ".concat(o,"ms")}var a={},s=this.sliderWrapper.classList.contains("_pagination-counter");return a=(null===(n=this.settingsOption.custom)||void 0===n?void 0:n.paginationFraction)||s?{el:this.sliderWrapper.querySelector(".swiper-pagination"),clickable:!1,type:"fraction",renderFraction:function(){return'\n                      <div class="slider-counter__inner">\n                        <span class="slider-counter__current">\n                            '.concat(this.realIndex+1,'\n                          </span>\n                          <span class="slider-counter__spacer">/</span>\n                          <span class="slider-counter__total">\n                            ').concat(this.slides.length,"\n                          </span>\n                        </div>")}}:{el:this.sliderWrapper.querySelector(".swiper-pagination"),clickable:!0,type:"bullets",renderBullet:function(){return'\n                        <span class="swiper-pagination-bullet">\n                            <span style="'.concat(t,'"></span>\n                        </span>\n                        ')}},{modules:[ts.W_,ts.tl,ts.pt,ts.xW,ts.Gk,ts.LG,ts.N1,ts.VS,ts.Rv],init:!1,watchSlidesProgress:!0,simulateTouch:this.slides.length>1,speed:700,lazy:{loadPrevNext:!0,loadPrevNextAmount:2},fadeEffect:{crossFade:!0},loop:!0,loopedSlides:2,navigation:{nextEl:this.btnNext,prevEl:this.btnPrev,disabledClass:"is-disabled"},custom:{animation:!1},on:{resize:function(){this.update()}},pagination:a}}},{key:"init",value:function(){var t,e,n,i=null;o.isEmptyObject(this.settingsData)||(i=JSON.parse(this.settingsData));var a=!0;if((null===(t=this.settingsOption)||void 0===t?void 0:t.navigation)===!1&&(a=!1),this.slides.length>1&&a&&this._addTemplateArrowsAndIcons(),(null===(e=this.settingsOption)||void 0===e?void 0:e.custom)&&(this.settingsCustom=null===(n=this.settingsOption)||void 0===n?void 0:n.custom),(null==i?void 0:i.custom)&&this._connectSettingsCustom(null==i?void 0:i.custom),this.settingsCustom.paginationOut){var s=this.sliderWrapper.closest(".slider-wrapper");this.settingsCommon.pagination.el=s.querySelector(".swiper-pagination")}this.settingsCustom.gallery&&(o.insetContent(this.sliderWrapper,to.getTemplateGalleryButton()),this.sliderWrapper.querySelector(".slider-gallery-button").addEventListener("click",function(t){console.log("⟶ click",t)})),this.slideOnWindow=String(this.sliderWrapper.dataset.slide)||"1",to.setSettingSlidesViews(this.slideOnWindow,this.settingsCommon),this._connectSettings(this._setSettingsDefault()),this._connectSettings(this.settingsOption),i&&this._connectSettings(i),"scrolling"===this.settingsCommon.effect&&this.sliderElement.classList.add("slider-scrolling"),this.slider=new ta.Z(this.sliderElement,this.settingsCommon),this._bindEvents(),this.slider.init(),this.sliderNum=this.sliderWrapper.querySelector(".slider-counter__current")}},{key:"_addTemplateArrowsAndIcons",value:function(){o.insetContent(this.sliderWrapper,this.settingsCustom.paginationOut?ti.getTemplateArrows():ti.getTemplateArrowsAndPagination()),this.btnPrev=this.sliderWrapper.querySelector(".swiper-button-prev"),this.btnNext=this.sliderWrapper.querySelector(".swiper-button-next"),o.insetContent(this.btnNext,ti.getTemplateNext()),o.insetContent(this.btnPrev,ti.getTemplatePrev())}},{key:"_bindEvents",value:function(){this.slider.on("slideChange",this._onChange.bind(this))}},{key:"_onChange",value:function(){this._setSlideNumber()}},{key:"_setSlideNumber",value:function(){if(this.sliderNum){var t=Number(this.slider.slides[this.slider.activeIndex].dataset.swiperSlideIndex)+1||this.slider.activeIndex+1;this.sliderNum.innerHTML="".concat(t)}}},{key:"sliderDisable",value:function(){this.slider.disable()}},{key:"slideTo",value:function(t,e,n){this.slider.slideTo(t,e,n)}},{key:"_connectSettings",value:function(t){"object"==typeof t&&Object.assign(this.settingsCommon,t)}},{key:"_connectSettingsCustom",value:function(t){"object"==typeof t&&Object.assign(this.settingsCustom,t)}}]),t}());n(729);var tm=n(755);function tv(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ty(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function tg(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function tb(t,e,n){return e&&tg(t.prototype,e),n&&tg(t,n),t}function t_(t,e,n){return(t_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tk(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n||t):o.value}})(t,e,n||t)}function tk(t){return(tk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tw(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tx(t,e)}function tS(t,e){return e&&("object"==(e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e)||"function"==typeof e)?e:tv(t)}function tx(t,e){return(tx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=tk(t);if(e){var o=tk(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return tS(this,n)}}var tC=new g,tO=function(){function t(e){ty(this,t),this.settingsCommon={},this.settingsData=(null==e?void 0:e.settings)||!1}return tb(t,[{key:"init",value:function(){this._setSettingsDefault(),this._connectSettings(this._setSettingsDefault()),this._connectSettings(this.settingsData)}},{key:"_setSettingsDefault",value:function(){return{type:"inline",fixedContentPos:!1,fixedBgPos:!1,overflowY:"auto",removalDelay:700,closeBtnInside:!1,mainClass:"popup-theme-inline-white",closeMarkup:'<button title="%title%" type="button" class="mfp-close popup-close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" class="mfp-close__svg"><path d="M.393 2.331C-.131 1.807-.131.935.393.393a1.392 1.392 0 0 1 1.94 0l11.636 11.652L25.625.393a1.366 1.366 0 0 1 1.919 0 1.356 1.356 0 0 1 0 1.938L15.908 13.966l11.636 11.652a1.358 1.358 0 0 1 0 1.939 1.368 1.368 0 0 1-1.919 0L13.969 15.904 2.333 27.557a1.394 1.394 0 0 1-1.94 0c-.524-.542-.524-1.416 0-1.939L12.03 13.966.393 2.331z"/></svg></button>',midClick:!0,callbacks:{open:function(){var t=this.contentContainer[0];t.querySelector(".popup-content")&&o.bodyFixed(t.querySelector(".popup-content"))},close:function(){o.bodyStatic()}},tClose:"",tLoading:"<span></span>",ajax:{tError:"Ошибка запроса."}}}},{key:"_initPopup",value:function(){tm(this.link).magnificPopup(this.settingsCommon)}},{key:"isOpenPopup",value:function(){return!!document.querySelector(".mfp-ready")}},{key:"_connectSettings",value:function(t){"object"==typeof t&&Object.assign(this.settingsCommon,t)}}]),t}(),tT=function(t){tw(n,t);var e=tE(n);function n(t){var i,o;return(ty(this,n),i=e.call(this,t),t)?(i.link=null==t?void 0:t.item,i.view=(null===(o=i.link.dataset)||void 0===o?void 0:o.popup)||!1,i.isAjax=i.link.hasAttribute("data-popup-ajax"),i.showPopup=i.showPopup.bind(tv(i)),i.hidePopup=i.hidePopup.bind(tv(i)),i):tS(i)}return tb(n,[{key:"init",value:function(){t_(tk(n.prototype),"init",this).call(this),this._viewPopup(),this._initPopup()}},{key:"showPopup",value:function(t,e){t_(tk(n.prototype),"init",this).call(this);var i=0,o=this;this.view=e||"inline",this._connectSettings(t),this.isOpenPopup()&&(this.hidePopup(),i=800),setTimeout(function(){o._viewPopup(),tm.magnificPopup.open(o.settingsCommon)},i)}},{key:"openPopup",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0;t_(tk(n.prototype),"init",this).call(this);var s=0,r=this;this._isPopupContent(t)&&(this.isOpenPopup()&&(this.hidePopup(),s=800),setTimeout(function(){e.view=a||"inline",e.openededPopup=!1,e._connectSettings({items:{src:t}}),e._viewPopup(),setTimeout(function(){e.isOpenPopup()?tC.subscribe("popupClosed",function(){!r.openededPopup&&(setTimeout(function(){tm.magnificPopup.open(r.settingsCommon),r.openededPopup=!0},1e3),i&&r.hidePopup(i))}):(tm.magnificPopup.open(e.settingsCommon),i&&e.hidePopup(i))},o)},s))}},{key:"hidePopup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout(function(){tm.magnificPopup.close()},t)}},{key:"_isPopupContent",value:function(t){return!!document.querySelector(t)||(console.warn("[PopupStatic]: ","Упс... Не найден попан - ".concat(t)),!1)}},{key:"_viewPopup",value:function(){switch(this.view){case"gallery":this._viewGallery();break;case"side":this._viewSide();break;case"full":this._viewFull();break;case"bottom":this._viewBottom();break;default:this._viewStatic()}}},{key:"_viewSide",value:function(){this._connectSettings({mainClass:"popup-theme-side",closeBtnInside:!0})}},{key:"_viewFull",value:function(){this._connectSettings({mainClass:"popup-theme-inline-white full-popup"})}},{key:"_viewBottom",value:function(){this.isAjax?this._connectSettings({type:"ajax",mainClass:"popup-theme-bottom bottom-popup",closeBtnInside:!0,callbacks:{ajaxContentAdded:function(){var t=this.contentContainer.find(".popup")[0],e=t.querySelector(".popup-info__image img"),n=t.querySelector(".popup-content");o.bodyFixed(t.querySelector(".popup-content")),e&&n&&M.parallaxImage(e,n);var i=t.querySelector("[data-slider]");i&&new tf({item:i,settings:{effect:"linear",speed:750}}).init()},close:function(){o.bodyStatic()}}}):this._connectSettings({type:"inline",mainClass:"popup-theme-bottom bottom-popup",closeBtnInside:!0,callbacks:{open:function(){var t=this.contentContainer.find(".popup")[0],e=t.querySelector(".popup-info__image img"),n=t.querySelector(".popup-content");o.bodyFixed(t.querySelector(".popup-content")),e&&n&&M.parallaxImage(e,n)},close:function(){o.bodyStatic()}}})}},{key:"_viewGallery",value:function(){this._connectSettings({mainClass:"popup-theme-gallery",callbacks:{open:function(){var t=this.contentContainer.find(".popup-gallery")[0];tC.publish("openGalleryPopup",t),t.querySelector(".popup-content")&&o.bodyFixed(t.querySelector(".popup-content"))},close:function(){tC.publish("closeGalleryPopup",this),o.bodyStatic()}}})}},{key:"_viewStatic",value:function(){var t=this,e=null;this._connectSettings({closeOnBgClick:!1,callbacks:{open:function(){var n=this.contentContainer.find(".popup")[0],i=null==n?void 0:n.classList.contains("popup-message"),a=null==n?void 0:n.querySelector("[data-popup-dismiss]");o.bodyFixed(n.querySelector(".popup-content")),i&&(e=setTimeout(function(){t.hidePopup()},6e3)),a&&a.addEventListener("click",function(){t.hidePopup()})},beforeClose:function(){e&&clearTimeout(e)},close:function(){tC.publish("popupClosed"),o.bodyStatic()}}})}}],[{key:"init",value:function(){window.Site.Modules.Popup=new n;var t=document.querySelectorAll("[data-popup]");0!==t.length&&t.forEach(function(t){new n({item:t}).init()})}}]),n}(tO),tL=function(t){tw(n,t);var e=tE(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ty(this,n),e.call(this,t)}return tb(n,[{key:"init",value:function(){this.popupHashName=this._getPopupHashName(),this.popupHashName&&this._displayPopup()}},{key:"_displayPopup",value:function(){var t=this;this._checkPopup(this.popupHashName)&&tC.subscribe("preloader:end",function(){setTimeout(function(){window.Site.Modules.Popup.showPopup({items:{src:"#".concat(t.popupHashName)}},"inline")},600)})}},{key:"_getPopupHashName",value:function(){var t=window.location.hash.replace(RegExp("^#","u"),"");if(t.includes("popup"))return t}},{key:"_checkPopup",value:function(t){return!!document.querySelector("#".concat(t))||(console.warn("[PopupOpenByHash]: ","Упс... Не найден попан - ".concat(t)),!1)}}],[{key:"init",value:function(){new n().init()}}]),n}(tO),tj=function(t){tw(n,t);var e=tE(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ty(this,n),(t=e.call(this,i)).popup=i.item,t.popupDelay=t.popup.dataset.popupOpen||600,t.popupId=t.popup.getAttribute("id"),t}return tb(n,[{key:"init",value:function(){this.popup&&new tT().openPopup("#".concat(this.popupId),0,this.popupDelay,"inline")}}],[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.querySelector("[data-popup-open]");e&&new n({item:e}).init()}}]),n}(tO);function tP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var tA=function(){return null},tI=function(){var t,e;function n(t){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.wrapper=t.elem,this.hash=t.hash||this.wrapper.hasAttribute("data-tab-hash")||!1,this.tabsParent=this.wrapper.querySelector(t.tabsParent||"[data-tab-buttons]")||null,this.tabItem=t.tabItem||"[data-tab-opener]",this.tabs=Array.from(this.tabsParent.querySelectorAll(this.tabItem)),this.isType=t.type||this.wrapper.dataset.type,this.contentItem="true"!==this.isType?t.contentItem||"[data-tab]":"[data-tab-type]",this.contentsParent=this.wrapper.querySelector(t.contentsParent||"[data-tab-contents]")||null,this.contents=!!this.contentsParent&&o.siblings(this.contentsParent.querySelector(this.contentItem)),this.dataTab={},this.onChangeCallback=t.onChangeCallback||tA,this.activeClass="is-active"}return t=[{key:"init",value:function(){0!==this.tabs.length&&(this._setInitialState(),this._bindEvents())}},{key:"_setInitialState",value:function(){var t=this.tabsParent.querySelector(".".concat(this.activeClass))||this.tabs[0];if(this.hash){var e=this._getHash();t=e&&this.wrapper.querySelector('[data-tab-opener="'.concat(e,'"]'))||t}this.isType&&(this.contents=!!this.contentsParent&&Array.from(this.contentsParent.querySelectorAll(".col"))),this.toggleTab(t)}},{key:"_getHash",value:function(){return window.location.hash.replace(RegExp("^#","u"),"")}},{key:"_bindEvents",value:function(){this.wrapper.addEventListener("click",this._onTabs.bind(this))}},{key:"_onTabs",value:function(t){var e=t.target;e.closest(this.tabItem)&&(t.preventDefault(),t.stopPropagation()),e&&e.closest(this.tabItem)&&this.toggleTab(e.closest(this.tabItem))}},{key:"toggleTab",value:function(t){this._setData(t),this._changeState(),this.onChangeCallback(this.dataTab),this.isType&&this._toggleTabType()}},{key:"_setData",value:function(t){this.dataTab={tab:t,id:t.dataset.tabOpener}}},{key:"_changeState",value:function(){var t=this,e=this.dataTab.id;this.tabs.forEach(function(n){n.classList.toggle(t.activeClass,n.dataset.tabOpener===e)}),this.contentsParent&&this.contents.forEach(function(n){n.classList.toggle(t.activeClass,n.dataset.tab===e)})}},{key:"_toggleTabType",value:function(){var t=this.dataTab.id;this.contents.forEach(function(e){e.dataset.tab===t||"all"===t?setTimeout(function(){e.style.display="block",e.style.opacity=1},200):(e.style.opacity=0,setTimeout(function(){e.style.display="none"},200))})}}],e=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.querySelectorAll("[data-tabs]");e.length&&e.forEach(function(t){new n({elem:t}).init()})}}],t&&tP(n.prototype,t),e&&tP(n,e),n}();function tM(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var tq=function(){var t,e;function n(t){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.textContent=t,this.textContent&&(this.iframes=this.textContent.querySelectorAll(":scope > iframe"),this.images=this.textContent.querySelectorAll(":scope > img"))}return t=[{key:"_init",value:function(){var t=this;this.iframes.forEach(function(e){t.iframeContent(e)}),this.images.forEach(function(e){t.imageContent(e)})}},{key:"iframeContent",value:function(t){o.wrapContent(t,"div","ui-iframe")}},{key:"imageContent",value:function(t){var e=t.getAttribute("alt");if(""!==e&&!t.classList.length){o.wrapContent(t,"figure");var n=t.parentNode;o.insetContent(n,"<figcaption>"+e+"</figcaption>")}}}],e=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.querySelectorAll(".text-content");e.length&&e.forEach(function(t){new n(t)._init()})}}],t&&tM(n.prototype,t),e&&tM(n,e),n}();function tB(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var tD=new g,tN=function(){var t,e;function n(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n)}return t=[{key:"init",value:function(){var t=document.querySelectorAll("[data-slider]");t.length&&t.forEach(function(t){new tf({item:t,settings:{loop:!1,effect:"fade"}}).init()});var e=document.querySelectorAll(".intro-main__slider");e.length&&(e.forEach(function(t){new tf({item:t,settings:{loop:!0,speed:1e3,watchSlidesProgress:!0,effect:"fade",pagination:!1,dots:!1,autoplay:{delay:6e3,enabled:!0,disableOnInteraction:!1}}}).init()}),tD.subscribe("preloader:end",function(){setTimeout(function(){document.querySelectorAll(".intro-main__slider .swiper-slide").forEach(function(t){t.classList.remove("is-hidden")})},300)}));var n=document.querySelectorAll("[data-slider-cards]");n.length&&n.forEach(function(t){new tf({item:t,settings:{slidesPerView:"auto",spaceBetween:24,speed:750,loop:!1,pagination:!1,breakpoints:{1540:{spaceBetween:32}}}}).init()});var i=document.querySelectorAll(".grid-container__slider");i.length&&o.isTablet()&&i.forEach(function(t){new tf({item:t,settings:{slidesPerView:"auto",spaceBetween:24,speed:750,loop:!1,pagination:!1,breakpoints:{601:{spaceBetween:32}}}}).init()})}}],e=[{key:"init",value:function(){new n().init()}}],t&&tB(n.prototype,t),e&&tB(n,e),n}(),tH=function(){var t;function e(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,e)}return t=[{key:"ru",value:function(){return{errorLoading:function(){return"Результат не может быть загружен."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Пожалуйста, удалите "+e+" символ";return e>=2&&e<=4?n+="а":e>=5&&(n+="ов"),n},inputTooShort:function(t){return"Пожалуйста, введите "+(t.minimum-t.input.length)+" или более символов"},loadingMore:function(){return"Загружаем ещё ресурсы…"},maximumSelected:function(t){var e="Вы можете выбрать "+t.maximum+" элемент";return t.maximum>=2&&t.maximum<=4?e+="а":t.maximum>=5&&(e+="ов"),e},noResults:function(){return"Ничего не найдено"},searching:function(){return"Поиск…"},removeAllItems:function(){return"Удалить все елементы"}}}}],function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e,t),e}();n(686);var tz=n(755);function tR(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var tW=function(){var t,e;function n(t){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.$element=tz(t.element),this.element=t.element,this.isSingle=this.$element.hasClass("j-select-single"),this.isMultiple=this.$element.hasClass("j-select-multiple"),this.right=this.$element.hasClass("select-right"),this.data=this.$element.data("json")}return t=[{key:"init",value:function(){this.options={minimumResultsForSearch:1/0,dropdownCssClass:":all:",templateResult:this._formatState,cashe:!0,width:"100%",multiple:this.isMultiple,closeOnSelect:!this.isMultiple,allowClear:!1,dropdownAutoWidth:!0,dropdownParent:this.$element.parent(),language:tH.ru(),data:this.data?this.data:null,escapeMarkup:function(t){return t}},this.$element.select2(this.options),this._bindEvents(),this.getNumberSelection(),this.setPlaceholder()}},{key:"_bindEvents",value:function(){this.$element.on("select2:open",this._onOpen.bind(this)),this.$element.on("select2:selecting",this._onSelecting.bind(this)),this.$element.on("select2:select",this._onSelect.bind(this)),this.$element.on("select2:unselect",this._onUnSelect.bind(this)),this.$element.on("select2:close",this._onClose.bind(this))}},{key:"_formatState",value:function(t){if(!t.id)return t.text;var e=t.status?'<span class="select2-item-state">'.concat(t.status,"</span>"):"";return tz('<div class="select2-item">\n            <span class="select2-item-text"> '.concat(t.text," </span>\n            ").concat(e,"\n            </div>"))}},{key:"_onOpen",value:function(){}},{key:"_onSelecting",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$element.find('option[value="all"]').prop("selected",e)}},{key:"_onSelect",value:function(t){this.getNumberSelection(),this.checkOptions();var e=t.params.data;this.checkOptions(e);var n="";void 0!==e.$element&&(n=e.$element.dataset.link),void 0!==n&&""!==n&&(document.location.href=n)}},{key:"_onUnSelect",value:function(){this.checkOptions(),this.getNumberSelection()}},{key:"_onClose",value:function(){this.getNumberSelection()}},{key:"getNumberSelection",value:function(){var t=this.$element.select2("data").length;0===t&&this.setPlaceholder(),t<3||this.$element.next("span.select2").find("ul").html('<li class="select2-selection__choice__display">Выбрано: '.concat(t,"</li>"))}},{key:"setPlaceholder",value:function(){var t=this.$element.data("placeholder"),e=this.isMultiple?this.$element.next("span.select2").find("ul"):this.$element.next("span.select2").find(".select2-selection__rendered"),n=this.$element.find("option:selected"),i=this.$element.find('option[value="all"]:selected');1!==i.length&&""!==t&&t&&e.html("".concat(t)),i.length||n.length||(this._onSelecting(this,!0),e.html("<li>".concat(t,"</li>")))}},{key:"checkOptions",value:function(t){var e=this.element.querySelectorAll("option"),n=[];if(t&&"all"===t.element.getAttribute("value")){this.getValue("all"),this.$element.select2("close");return}e.forEach(function(t){t.selected&&("all"===t.getAttribute("value")&&(t.selected=!1),n.push(t))}),0===n.length&&(this.getValue("all"),this.$element.select2("close"))}},{key:"destroy",value:function(){this.$element.select2("destroy")}},{key:"disable",value:function(){this.$element.prop("disabled",!0)}},{key:"clearingfilter",value:function(){this.$element.val(null).trigger("change")}},{key:"getValue",value:function(t){this.$element.val(t).trigger("change")}},{key:"checkInit",value:function(){return this.$element.hasClass("select2-hidden-accessible")}}],e=[{key:"init",value:function(){var t=document.querySelectorAll(".j-select");t.length&&t.forEach(function(t){new n({element:t}).init()})}}],t&&tR(n.prototype,t),e&&tR(n,e),n}();n(334);var tF=n(755);function t$(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var tZ=new g,tG=function(){var t,e;function n(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.rangeSlider={}}return t=[{key:"initRange",value:function(t){this.$wrapper=tF(t.element),this.outerOptions=t.outerOptions||this.$wrapper.find(".j-form-range-base").data(),this._setOptions(),this._initRangeSlider(),this._getElements(),this._bindEvents(),this._subscribes(),this._initDigit()}},{key:"_setOptions",value:function(){var t=this;this.options={skin:"round",type:this.outerOptions.type,min:this.outerOptions.min,max:this.outerOptions.max,from:this.outerOptions.from,to:this.outerOptions.to,step:this.outerOptions.step,min_interval:this.outerOptions.step,digit:this.outerOptions.digit||!1,disable:this.outerOptions.disable||!1,validate:this.outerOptions.validate,hide_from_to:!0,hide_min_max:!0,prettify_enabled:!0,onStart:function(e){tZ.publish("rangesliderStart",e,t)},onChange:function(e){t._updateInputs(e),tZ.publish("rangesliderChange",e)},onFinish:function(t){tZ.publish("rangesliderFinish",t)}},this.startOptions=this.options,this.isNumberShort="number_short"===this.options.validate}},{key:"_initRangeSlider",value:function(){this.$rangeSlider=this.$wrapper.find(".j-form-range-base"),this.$rangeSlider.ionRangeSlider(this.options)}},{key:"_getElements",value:function(){this.$inputs=this.$wrapper.find(".form-range__input"),this.$inputFrom=this.$inputs.first(),this.$inputTo="double"===this.options.type?this.$inputs.last():null,this.slider=this.$rangeSlider.data("ionRangeSlider"),this.id=this.slider.input.id,this.rangeSlider[this.id]=this.slider,this.$inputOutMin=this.$wrapper.find(".j-form-range-output-min"),this.$inputOutMax=this.$wrapper.find(".j-form-range-output-max")}},{key:"_subscribes",value:function(){tZ.subscribe("resetFilter",this._reset.bind(this))}},{key:"_bindEvents",value:function(){var t=this;this.$inputFrom.on("change",this._onInputFromChange.bind(this)),"double"===this.options.type&&this.$inputTo.on("change",this._onInputToChange.bind(this)),this.$inputs.each(function(e,n){if(t.isNumberShort){var i=tF(n),o=i.val();i.val(t._getNumberDecimal(o))}n.addEventListener("input",function(e){var n=tF(e.target),i=n.val();t._validate(n),t._setDigit(n,i)})})}},{key:"_onInputFromChange",value:function(t){var e=t.target.name.slice(0,-5),n=this._getNumber(tF(t.target).val()),i=this.slider.result.to,o="number_decimal"===this.options.validate?1:0,a="number"===this.options.validate,s="single"===this.options.type?0:this.options.step;a||(n=this._getNumberThousands(n)),n<this.options.min?n=this.options.min:n>i&&(n=i-s),n=n.toFixed(o),tF(t.target).val(a?n:this._getNumberDecimal(n)),this._getOutputInputs("".concat(e,"-from"),n),this._setDigit(tF(t.target),n),this._update({from:n})}},{key:"_onInputToChange",value:function(t){var e=t.target.name.slice(0,-5),n=this._getNumber(tF(t.target).val()),i=this.slider.result.from,o="number_decimal"===this.options.validate?1:0,a="number"===this.options.validate;a||(n=this._getNumberThousands(n)),n<=i?n=i+this.options.step:n>this.options.max&&(n=this.options.max),n=n.toFixed(o),tF(t.target).val(a?n:this._getNumberDecimal(n)),this._getOutputInputs("".concat(e,"-to"),n),this._setDigit(tF(t.target),n),this._update({to:n})}},{key:"_validate",value:function(t){var e=this.options.validate;if(e)switch(e){case"number":this._validateNumber(t);break;case"number_decimal":this._validateNumberDecimal(t)}}},{key:"_validateNumber",value:function(t){var e=t.val();e=e.replace(/\s/g,""),t.val(/\d*/.exec(e))}},{key:"_validateNumberDecimal",value:function(t){var e=t.val();t.val(/\d*\.?\d?/g.exec(e))}},{key:"_getNumberDecimal",value:function(t){return(t/1e6).toFixed(1)}},{key:"_getNumberThousands",value:function(t){return 1e6*t}},{key:"_update",value:function(t){this.slider.update(t)}},{key:"_updateInputs",value:function(t){var e=this.$rangeSlider[0].id;this.$inputFrom.val(this.isNumberShort?this._getNumberDecimal(t.from):t.from),"price"===e&&this._getOutputInputs("".concat(e,"-from"),this._getNumber(t.from_pretty)),this._setDigit(this.$inputFrom,t.from),"double"===this.options.type&&(this.$inputTo.val(this.isNumberShort?this._getNumberDecimal(t.to):t.to),"price"===e&&this._getOutputInputs("".concat(e,"-to"),this._getNumber(t.to_pretty)),this._setDigit(this.$inputTo,t.to))}},{key:"_reset",value:function(){this.slider.input.classList.contains("is-not-search")||("double"===this.options.type?(this.startOptions.from=this.startOptions.min,this.startOptions.to=this.startOptions.max,this.$inputFrom[0].setAttribute("value",this.startOptions.from),this.$inputTo[0].setAttribute("value",this.startOptions.to),this.$inputFrom.val(this.startOptions.from),this.$inputTo.val(this.startOptions.to)):(this.startOptions.from=this.startOptions.max,this.$inputFrom[0].setAttribute("value",this.startOptions.max),this.$inputFrom.val(this.startOptions.max)),this.slider.update(this.startOptions),this._updateInputs(this.startOptions))}},{key:"_initDigit",value:function(){var t=this;this.$inputs.each(function(e,n){t.options.digit&&t._setDigit(tF(n))})}},{key:"_setDigit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.options.digit){var n=e||t.val(),i=this._getNumber(n);t.val(o.convertToDigit(i))}}},{key:"_getNumber",value:function(t){return t?o.convertToNumber(t):0}},{key:"_getOutputInputs",value:function(t,e){"price-from"===t&&this.$inputOutMin.val(e),"price-to"===t&&this.$inputOutMax.val(e)}}],e=[{key:"init",value:function(){var t=document.querySelectorAll(".form-range:not(.form-range--mortgage)");t&&t.forEach(function(t){new n().initRange({element:t})})}}],t&&t$(n.prototype,t),e&&t$(n,e),n}();function tV(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var tU=function(){var t,e;function n(t){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.header=t,this.headerMain=document.querySelector(".header"),this.innerElement=this.header.querySelector(".header__inner"),this.height=this.header.offsetHeight,this.heightBase=this.innerElement.offsetHeight,this.scrollPosition=0,this.classes={show:"is-showed",hide:"is-hidden",animate:"is-animate",fix:"is-fixed",themeTransparent:"is-theme--transparent"},this.wrapperSite=document.querySelector(".wrapper"),this._changeState=this._changeState.bind(this),this.transitionTime=300,this.isFixedDefault=document.querySelector(".main-slider")||!1}return t=[{key:"init",value:function(){this._checkTop(),this._initState(),this._bindEvents()}},{key:"_checkTop",value:function(){if(this.isFixedDefault)return document.querySelector("html").classList.add("_main-page"),this.headerMain.classList.add(this.classes.themeTransparent),!1;o.isDesktop()&&(this.wrapperSite.style.paddingTop=this.height+"px")}},{key:"_initState",value:function(){!this.header.dataset.static&&(this.scrollPosition=o.getScrollTop(),this._isScrollInTarget()||this.header.classList.add(this.classes.fix,this.classes.hide))}},{key:"_bindEvents",value:function(){var t=this;window.addEventListener("scroll",(0,L.D)(6,this._changeState)),["resize","orientationchange"].forEach(function(e){window.addEventListener(e,function(){t.height=t.header.offsetHeight,t.heightBase=t.innerElement.offsetHeight,t._changeState()})})}},{key:"_changeState",value:function(){if(!this.header.dataset.static){this.scrollPosition=o.getScrollTop();var t=this.classes,e=t.animate,n=t.fix,i=t.hide,a=t.show;this._isScrollUp()&&(window.scrollY>10&&(this.header.classList.add(a,n,e),this.header.classList.remove(i)),this._isScrollInTarget(-1*this.height)&&this.header.classList.remove(n,e,i,a)),this._isScrollDown()&&window.scrollY>10&&(this.header.classList.add(i,e),this.header.classList.add(a,n)),this.prevScrollPosition=this.scrollPosition}}},{key:"_isScrollUp",value:function(){return this.scrollPosition-this.prevScrollPosition<-1}},{key:"_isScrollDown",value:function(){return this.scrollPosition>this.height&&this.scrollPosition-this.prevScrollPosition>1}},{key:"_isScrollInTarget",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.scrollPosition<100)return!0;if(!this.targetElement)return!1;var e=this.targetElement.offsetHeight-t;return e<0&&(e=0),e>this.scrollPosition&&this.scrollPosition}}],e=[{key:"init",value:function(){var t=document.querySelector(".header");t&&new n(t).init()}}],t&&tV(n.prototype,t),e&&tV(n,e),n}(),tY=n(765),tJ=n.n(tY);n(688);var tK=n(755);function tX(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var tQ=function(){var t,e;function n(t){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.form=t,this.form&&(this.formValidate="false"!==this.form.dataset.validate,this.constraints=null,this.inputs=this.form.querySelectorAll(".form-input__input, .form-textarea__textarea"),this.BtnSubmit=this.form.querySelector("button"),this.inputs=Array.from(this.inputs).filter(function(t){return"hidden"!==t.type&&""!==t.getAttribute("notvalidate")}))}return t=[{key:"init",value:function(){this.initPhoneMask(),this.inputFocus(),this.formValidate&&(this.setOptions(),this.checkInputAttributes(),this.bindEvents())}},{key:"initPhoneMask",value:function(){tK(this.form).find("input[type=tel]").mask("+7(A00)000-00-00",{translation:{A:{pattern:/[0-69]/}}})}},{key:"checkRequiredEmail",value:function(){var t=!1;return(this.inputs.forEach(function(e){"email"===e.type&&e.required&&(t=!0)}),t)?{message:"^Поле обязятельно для заполнения"}:null}},{key:"checkInputAttributes",value:function(){this.inputs.forEach(function(t){t.required&&t.removeAttribute("required")})}},{key:"setOptions",value:function(){this.constraints={email:{presence:this.checkRequiredEmail(),email:{message:"^Введите корректный e-mail"}},phone:{presence:{message:"^Поле обязятельно для заполнения"},length:{minimum:16,tooShort:function(t){return"^Минимум 10 цифр, сейчас ".concat(t.replace(/[^\d]/g,"").length-1)}}},message:{length:{minimum:5,message:"^Минимум 5 символов"}},name:{presence:{message:"^Поле обязятельно для заполнения"},length:{minimum:2,maximum:20,message:"^Минимум 2 символа"},format:{pattern:/^[a-zA-Zа-яёА-ЯЁs\s]+$/i,message:"^Имя может содержать только буквы"}},agreement:{presence:{message:"^Для продолжения необходимо согласие с условиями"},inclusion:{within:[!0],message:"^Для продолжения необходимо согласие с условиями"}}}}},{key:"inputFocus",value:function(){var t=document.querySelectorAll(".form-input__label, .form-textarea__label");function e(t){var e=t.target.parentNode;e.classList.add("is-focused"),e.classList.add("is-filled")}function n(t){var e=t.target.parentNode,n=t.target;e.classList.remove("is-focused"),""===n.value.trim()&&e.classList.remove("is-filled")}t.length&&t.forEach(function(t){var i=t.previousElementSibling,o=t.parentNode;i.value&&""!==i.value.trim()&&o.classList.add(".is-filled"),i.addEventListener("focus",e),i.addEventListener("blur",n)})}},{key:"bindEvents",value:function(){var t=this;this.inputs.forEach(function(e){e.addEventListener("change",function(){var n=tJ()(t.form,t.constraints)||{};t.showErrorsForInput(e,n[e.name]),t._validate()}),e.addEventListener("keyup",function(){var n=tJ()(t.form,t.constraints)||{};""!==e.value.trim()&&(t.showErrorsForInput(e,n[e.name]),t._validate())})})}},{key:"_validate",value:function(){var t=this,e=!0;this.inputs.forEach(function(n){var i=t.validateInput(n);void 0===i||i.result||(e=!1)}),this.BtnSubmit&&e&&this.BtnSubmit.classList.remove("is-disabled")}},{key:"validateInput",value:function(t){var e=t.closest(".form-input");if(e||(e=t.closest(".form__consent")),e)return e.classList.contains("has-error")?{result:!1}:{result:!0}}},{key:"showErrorsForInput",value:function(t,e){var n=this,i=t.closest(".form-input");if(i||(i=t.closest(".form__consent")),i){var o=i.querySelector(".form-input__messages")||i.querySelector(".messages");this.resetFormGroup(i),e?(i.classList.add("has-error"),e.forEach(function(t){n.addError(o,t)}),this.BtnSubmit.classList.add("is-disabled")):i.classList.add("has-success")}}},{key:"resetFormGroup",value:function(t){t.classList.remove("has-error"),t.classList.remove("has-success");var e=t.querySelectorAll(".help-block.error");e.length&&e.forEach(function(t){t.parentNode.removeChild(t)})}},{key:"addError",value:function(t,e){var n=document.createElement("p");n.classList.add("help-block"),n.classList.add("error"),n.innerText=e,t.appendChild(n)}}],e=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.querySelectorAll("[data-validate]");e.length&&e.forEach(function(t){new n(t).init()})}}],t&&tX(n.prototype,t),e&&tX(n,e),n}();function t0(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var t1=function(){var t,e;function n(t){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.container=t,this.labelElement=this.container.querySelector("[data-photo-label]"),this.inputElem=this.container.querySelector("[data-photo-input]"),this.buttonElement=this.container.querySelector("[data-photo-button]"),this.buttonTextElement=this.container.querySelector("[data-photo-text]"),this.reader=new FileReader,this.fileName=null,this.fileSrc=null,this.isUploaded=!1,this.onInputChange=this.onInputChange.bind(this),this.onUploadSuccess=this.onUploadSuccess.bind(this),this.onUploadError=this.onUploadError.bind(this),this.onButtonClick=this.onButtonClick.bind(this),this.onLabelClick=this.onLabelClick.bind(this),this.fileExtension=["jpg","jpeg","png"]}return t=[{key:"init",value:function(){this.inputElem.addEventListener("change",this.onInputChange),this.buttonElement.addEventListener("click",this.onButtonClick),this.labelElement&&this.labelElement.addEventListener("click",this.onLabelClick),this.reader.addEventListener("load",this.onUploadSuccess)}},{key:"onInputChange",value:function(){var t=this;if(!this.isUploaded){var e=this.inputElem.files[0];this.fileName=e.name.toLowerCase(),this.fileExtension.some(function(e){return t.fileName.endsWith(e)})?this.reader.readAsDataURL(e):this.onUploadError()}}},{key:"onUploadSuccess",value:function(){this.buttonElement.classList.add("_cross"),this.buttonElement.classList.remove("_invalid"),this.inputElem.classList.remove("_invalid"),this.buttonTextElement.textContent=this.fileName,this.fileSrc=this.reader.result,this.isUploaded=!0}},{key:"onUploadError",value:function(){this.reset(),this.inputElem.classList.add("_invalid"),this.buttonElement.classList.add("_invalid"),console.warn("Неверный формат файла")}},{key:"onButtonClick",value:function(t){this.isUploaded&&(t.preventDefault(),this.reset())}},{key:"onLabelClick",value:function(t){this.isUploaded&&t.preventDefault()}},{key:"reset",value:function(){this.buttonElement.classList.remove("_cross"),this.inputElem.value="",this.buttonTextElement.textContent="Выбрать фото",this.fileName=null,this.fileSrc=null,this.isUploaded=!1}},{key:"resetHard",value:function(){this.reset(),this.inputElem.classList.remove("_invalid"),this.buttonElement.classList.remove("_invalid")}}],e=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.querySelectorAll("[data-photo]");e.length&&e.forEach(function(t){new n(t).init()})}}],t&&t0(n.prototype,t),e&&t0(n,e),n}();function t2(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var t3=function(){var t,e;function n(t){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.kitWrap=t,this.bodyNode=document.body,this.themeSwitcherElem=this.kitWrap.querySelector(".switch-appearance"),this.themeMode="light",this.navItems=this.kitWrap.querySelectorAll(".kit-nav__item"),this.rightItems=this.kitWrap.querySelectorAll(".kit-content__item"),this.dropdownElems=this.kitWrap.querySelectorAll("[data-dropdown-toggle]")}return t=[{key:"init",value:function(){this._themeDetect(),this._bindEvents(),this.bodyNode.classList.add("page-kit"),this._initPrism(),this._initClipboard(),this._initCloseSidebar(),this._checkDropdownOnActiveElement()}},{key:"_bindEvents",value:function(){var t=this;this.themeSwitcherElem&&this.themeSwitcherElem.addEventListener("click",this._themeToggle.bind(this)),this.navItems.forEach(function(e){e.addEventListener("click",t._setHash.bind(t))}),this.dropdownElems.length&&this.dropdownElems.forEach(function(e){e.addEventListener("click",t._toggleDropdown.bind(t))})}},{key:"_initPrism",value:function(){Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0})}},{key:"_initCloseSidebar",value:function(){var t=this,e=document.querySelector(".kit-sidebar__head-toggle"),n="default";"collapsed"===localStorage.getItem("layout-style")&&(n="collapsed",this.kitWrap.setAttribute("data-layout-style",n)),e&&e.addEventListener("click",function(){n="default"===n?"collapsed":"default",t.kitWrap.setAttribute("data-layout-style",n),localStorage.setItem("layout-style",n)})}},{key:"_initClipboard",value:function(){var t=document.querySelectorAll("[data-clipboard]");t.length<1||t.forEach(function(t){var e=t.querySelector("[data-clipboard-tooltip]"),n=new ClipboardJS(t,{target:function(t){return t.nextElementSibling}});n.on("success",function(){e.innerHTML="Скопировано!"}),n.on("error",function(){e.innerHTML="Ошибка!"})})}},{key:"_checkDropdownOnActiveElement",value:function(){this.dropdownElems.forEach(function(t){var e=t.nextElementSibling;e.querySelectorAll(".kit-nav__dropdown-link").forEach(function(t){t.firstChild.classList.contains("is-active")&&e.previousElementSibling.classList.add("is-open")})})}},{key:"_toggleDropdown",value:function(t){var e=t.target,n=e.classList.contains("is-open");this.dropdownElems.forEach(function(t){t.classList.remove("is-open")}),n?e.classList.remove("is-open"):e.classList.add("is-open")}},{key:"_setHash",value:function(t){var e=(t.target.dataset.tabOpener?t.target:t.target.parentNode).dataset.tabOpener;e&&this.setHash(e),o.isDesktop()||this._menuToggle()}},{key:"_themeDetect",value:function(){var t=localStorage.getItem("theme-appearance");t?"light"===t?this._setThemeLight():this._setThemeDark():(localStorage.setItem("theme-appearance","light"),this._setThemeLight())}},{key:"_themeToggle",value:function(){"light"===this.themeMode?this._setThemeDark():this._setThemeLight()}},{key:"_setThemeLight",value:function(){this.themeMode="light",localStorage.setItem("theme-appearance",this.themeMode),this.kitWrap.setAttribute("data-theme",this.themeMode)}},{key:"_setThemeDark",value:function(){this.themeMode="dark",localStorage.setItem("theme-appearance",this.themeMode),this.kitWrap.setAttribute("data-theme",this.themeMode)}},{key:"getHash",value:function(){return window.location.hash.replace(RegExp("^#","u"),"")}},{key:"setHash",value:function(t){return window.location.hash="#"+t}},{key:"isBreakpoint",value:function(t,e){return window.innerWidth>=t&&window.innerWidth<e}}],e=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.querySelector(".kit-wrapper");e&&new n(e).init()}}],t&&t2(n.prototype,t),e&&t2(n,e),n}();function t6(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var t5=function(){var t;function e(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,e),this.ymaps=window.ymaps}return t6(e.prototype,[{key:"init",value:function(t){this.geoObjectCollection=t,this.create()}},{key:"create",value:function(){var t=this.ymaps.templateLayoutFactory.createClass('<div class="yandex-map__cluster">{{ properties.geoObjects.length }}</div>');this.clusterer=new this.ymaps.Clusterer({clusterIconLayout:t,groupByCoordinates:!1,gridSize:128,zoomMargin:50,hasBalloon:!1,minClusterSize:5,clusterIconShape:{type:"Circle",coordinates:[0,0],radius:40}});var e=this.geoObjectCollection.toArray().filter(function(t){return"Placemark"===t.options.get("type")&&!t.options.get("data").not_cluster});this.clusterer.add(e),this.geoObjectCollection.add(this.clusterer)}},{key:"addGeoObjectToClusterer",value:function(t){this.clusterer.add(t)}},{key:"removeGeoObjectToClusterer",value:function(t){this.clusterer.remove(t)}}]),t&&t6(e,t),e}(),t9=n(755);function t8(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var t4=new g,t7=function(){var t,e;function n(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n)}return t=[{key:"init",value:function(t,e,n){this.map=t,this.rootMap=this.map.container._parentElement.closest(".yandex-map"),this.overlay=this.rootMap.querySelector(".j-yandex-map-overlay"),this.settings=e,this.ymaps=n,this.body=document.querySelector("body"),this.header=document.querySelector(".header"),this._initZoom(),this._initScrollZoom(),this._addFullScreenControl(),this._bindEvents(),e.disableMobileDrag&&this._disableMobileDrag()}},{key:"_initZoom",value:function(){this.settings.zoomControl&&(this.settings.customZoomControl?this._initCustomZoomControl():this.map.controls.add("zoomControl"))}},{key:"_initScrollZoom",value:function(){this.settings.zoomScroll?this.map.behaviors.enable("scrollZoom"):this.map.behaviors.disable("scrollZoom")}},{key:"_addFullScreenControl",value:function(){this.settings.fullScreenControl&&(this.settings.customFullScreenControl?this._initCustomFullscreenControl():this.map.controls.add("fullscreenControl"))}},{key:"_bindEvents",value:function(){var t=this;["resize","orientationchange"].forEach(function(e){window.addEventListener(e,t._setZoomControlPosition.bind(t))})}},{key:"_disableMobileDrag",value:function(){var t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}};(t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows())&&this.map.behaviors.disable("drag")}},{key:"_initCustomZoomControl",value:function(){var t=this.ymaps;this.zoomControl=new t.control.ZoomControl({options:{layout:this._createLayoutZoomControl()}}),this.map.controls.add(this.zoomControl,{float:"none"}),this._setZoomControlPosition()}},{key:"_createLayoutZoomControl",value:function(){var t,e=this.ymaps,n=this.map.container._parentElement.id,i=e.templateLayoutFactory.createClass((t={mapId:n},'\n  <div class="yandex-map__zoom-wrapper">\n    <div class="yandex-map__zoom-button yandex-map__zoom-button--zoom-in" id="'.concat(t.mapId,'-zoom-in">\n        <svg width="13" height="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12"><path d="M7 5h4a1 1 0 0 1 0 2H7v4a1 1 0 0 1-2 0V7H1a1 1 0 0 1 0-2h4V1a1 1 0 0 1 2 0v4z"/></svg>\n    </div>\n    <div class="yandex-map__zoom-button yandex-map__zoom-button--zoom-out" id="').concat(t.mapId,'-zoom-out">\n          <svg width="13" height="2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 2"><path d="M7 0h4a1 1 0 1 1 0 2H1a1 1 0 1 1 0-2h6z"/></svg>\n    </div>\n    </div>')),{build:function(){i.superclass.build.call(this),this.zoomInCallback=e.util.bind(this.zoomIn,this),this.zoomOutCallback=e.util.bind(this.zoomOut,this),t9("#".concat(n,"-zoom-in")).bind("click",this.zoomInCallback),t9("#".concat(n,"-zoom-out")).bind("click",this.zoomOutCallback)},clear:function(){t9("#".concat(n,"-zoom-in")).unbind("click",this.zoomInCallback),t9("#".concat(n,"-zoom-out")).unbind("click",this.zoomOutCallback),i.superclass.clear.call(this)},zoomIn:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()-1,{checkZoomRange:!0})}});return i}},{key:"_setZoomControlPosition",value:function(){var t=this.map.container._size[1];this.zoomControl&&this.zoomControl.options.set("position",{top:t/2,right:0})}},{key:"_initCustomFullscreenControl",value:function(){var t=this,e=this.ymaps,n=e.templateLayoutFactory.createClass('<div class="yandex-map__fullscreen-button yandex-map__fullscreen-button-open" '.concat(void 0,' data-tooltip="На весь экран" data-tooltip-position="left">\n    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path fill-rule="evenodd" clip-rule="evenodd" d="M19.0512 4H12V2H21H22V3V12H20V5.86693L5.46313 20H12V22H3H2V21V12H4V18.6331L19.0512 4Z"/>\n    </svg>\n      </div>')+'<div class="yandex-map__fullscreen-button yandex-map__fullscreen-button-close" data-tooltip="Закрыть" data-tooltip-position="left">\n        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n        </svg>\n        </div>'),i=new e.control.FullscreenControl({options:{layout:n,position:{top:null,right:0}}});this.map.controls.add(i),this.overlay&&this.overlay.addEventListener("click",function(e){e.preventDefault(),i.enterFullscreen(),t._setZoomControlPosition(),t.header.classList.remove("is-showed"),t.header.classList.add("is-hidden")}),this.map.container.events.add("fullscreenexit",function(){setTimeout(function(){t4.publish("fullscreenexit"),t.body.classList.remove("map-open"),o.isDesktop()||t.map.behaviors.disable("drag")},100)}),this.map.container.events.add("fullscreenenter",function(){t.body.classList.add("map-open"),t.map.behaviors.enable("drag")})}}],t8(n.prototype,t),e&&t8(n,e),n}();function et(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ee=new g,en=function(){var t,e;function n(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n)}return t=[{key:"init",value:function(t,e,n){this.map=e,this.settings=n,this.content=t,this.settings.groups&&this.settings.groups.length&&(this._clearIfHas(),this._createLayout(),this._initElements(),this._subscribes(),this._bindEvent())}},{key:"_subscribes",value:function(){var t=this;ee.subscribe("map:updateGroups",function(e){var n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)!function(){var e=a.value;t.items.find(function(t){return t.dataset.id===e.groupId.toString()}).querySelector(".j-yandex-map__group-count").innerHTML=e.count}()}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}})}},{key:"_clearIfHas",value:function(){var t=this.content.querySelector(".j-yandex-map__groups");t&&o.removeElement(t)}},{key:"_createLayout",value:function(){this.content.children[0].insertAdjacentHTML("beforeend",(this.settings.groups,'<div class="yandex-map__groups j-yandex-map__groups">\n    <div class="yandex-map__group j-yandex-map__group" data-coords="" data-zoom="">\n        <span class="j-yandex-map__group-count"></span>\n    </div>\n</div>'))}},{key:"_initElements",value:function(){this.items=Array.from(this.content.querySelectorAll(".j-yandex-map__group"))}},{key:"_bindEvent",value:function(){var t=this;this.items.forEach(function(e){e.addEventListener("click",function(){var n=e.dataset.coords.split(","),i=e.dataset.zoom;t.map.panTo([t.map.getCenter(),n],{delay:0,flying:!1,safe:!1,duration:300}).then(function(){t.map.setZoom(i,{duration:300})})})})}}],et(n.prototype,t),e&&et(n,e),n}();function ei(t){function e(){return t.balloon.title?'<div class="yandex-map-balloon__title">'.concat(t.balloon.title,"</div>"):""}function n(){return t.balloon.text?'<div class="yandex-map-balloon__text">'.concat(t.balloon.text,"</div>"):""}return'\n  <div class="yandex-map-balloon yandex-map-balloon--default j-yandex-map-balloon yandex-map-balloon--'.concat(t.modifyClass,'">\n    <div class="yandex-map-balloon__modal">\n      <div class="yandex-map-balloon__content">\n        ').concat(e(),"\n        ").concat(n(),'\n      </div>\n    </div>\n  <div class="yandex-map-balloon__panel">\n      <div class="yandex-map-balloon__content">\n        ').concat(e(),"\n        ").concat(n(),'\n      </div>\n  </div>\n  <div class="yandex-map-balloon__close j-yandex-map-balloon-close">\n    <svg width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n    </svg>\n  </div>\n  </div>\n')}function eo(t){function e(){if(!t.balloon.tags)return"";var e=t.balloon.tags,n="";return e.forEach(function(t){n+='<div class="yandex-map-balloon__tags-item">'.concat(t,"</div>")}),'<div class="yandex-map-balloon__tags">'.concat(n,"</div>")}function n(){return t.icon?'<img class="yandex-map-balloon__image" src="'.concat(t.icon,'" alt="ЖК"/>'):""}function i(){return t.balloon.title?'<div class="yandex-map-balloon__title">'.concat(t.balloon.title,"</div>"):""}function o(){var e="",n="";return t.balloon.deadline||t.balloon.walkToCenter?(t.balloon.deadline&&(e="<li>Передача ключей  ".concat(t.balloon.deadline," </li>")),t.balloon.walkToCenter&&(n='<li><span class="walking"></span>до центра '.concat(t.balloon.walkToCenter," </li>")),"<ul>".concat(e).concat(n,"</ul>")):t.balloon.text?"".concat(t.balloon.text):void 0}return'<div class="yandex-map-balloon j-yandex-map-balloon yandex-map-balloon--'.concat(t.modifyClass,'">\n    <div class="yandex-map-balloon__modal">\n    <div class="yandex-map-balloon__content">\n        ').concat(e(),'\n          <div class="yandex-map-balloon__top">\n            ').concat(n(),'\n            <div class="yandex-map-balloon__top-right">\n              ').concat(t.typeName?'<div class="yandex-map-balloon__type">'.concat(t.typeName,"</div>"):"","\n              ").concat(i(),'\n            </div>\n          </div>\n          <div class="yandex-map-balloon__list">').concat(o(),'</div>\n          <div class="yandex-map-balloon__bottom">\n            <div class="yandex-map-balloon__price"> ').concat(t.balloon.price,'</div>\n            <div class="yandex-map-balloon__counter">').concat(t.balloon.rooms,'</div>\n          </div>\n\n    </div>\n    </div>\n      <div class="yandex-map-balloon__panel">\n          <div class="yandex-map-balloon__content">\n          ').concat(e(),"\n          ").concat(n(!0),'\n              <div class="yandex-map-balloon__info">\n                ').concat(i(!0),'\n                <div class="yandex-map-balloon__list">').concat(o(),'</div>\n                <div class="yandex-map-balloon__bottom">\n                  <div class="yandex-map-balloon__price"> ').concat(t.balloon.price,'</div>\n                  <div class="yandex-map-balloon__counter">').concat(t.balloon.rooms,"</div>\n                </div>\n                ").concat(t.active&&t.href?'<a href="'+t.href+'" class="yandex-map-balloon__link">Подробнее</a>':"",'\n              </div>\n          </div>\n      </div>\n      <div class="yandex-map-balloon__close j-yandex-map-balloon-close">\n        <svg width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n        </svg>\n      </div>\n      </div>\n  ')}function ea(t){function e(){return t.balloon.image?'<img class="" src="'.concat(t.balloon.image,'" alt="ЖК"/>'):""}function n(){return t.balloon.type?'<div class="yandex-map-balloon__type">'.concat(t.balloon.type,"</div>"):""}function i(){return t.balloon.title?'<div class="yandex-map-balloon__title">'.concat(t.balloon.title,"</div>"):""}return'\n  <div class="j-yandex-map-balloon yandex-map-balloon yandex-map-balloon--'.concat(t.modifyClass,'">\n    <div class="yandex-map-balloon__modal">\n      <div class="yandex-map-balloon__content">\n        <div class="yandex-map-balloon__image">\n          ').concat(e(),'\n        </div>\n        <div class="yandex-map-balloon__info">\n          ').concat(n(),"\n          ").concat(i(),'\n        </div>\n      </div>\n    </div>\n    <div class="yandex-map-balloon__panel">\n      <div class="yandex-map-balloon__content">\n        <div class="yandex-map-balloon__image">\n          ').concat(e(),'\n        </div>\n        <div class="yandex-map-balloon__info">\n          ').concat(n(),"\n          ").concat(i(),'\n        </div>\n      </div>\n    </div>\n    <div class="yandex-map-balloon__close j-yandex-map-balloon-close">\n      <svg width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n      </svg>\n    </div>\n  </div>\n')}function es(t){function e(){return t.balloon.title?'<div class="yandex-map-balloon__title">'.concat(t.balloon.title,"</div>"):""}function n(){return t.balloon.text?'<div class="yandex-map-balloon__text">'.concat(t.balloon.text,"</div>"):""}function i(){return t.balloon.worktime?'<div class="yandex-map-balloon__text">'.concat(t.balloon.worktime,"</div>"):""}function o(){return t.balloon.phones?'<div class="yandex-map-balloon__text">'.concat(t.balloon.phones,"</div>"):""}return'\n<div class="yandex-map-balloon yandex-map-balloon--office j-yandex-map-balloon yandex-map-balloon--'.concat(t.modifyClass,'">\n  <div class="yandex-map-balloon__modal">\n    <div class="yandex-map-balloon__content">\n    ').concat(e(),"\n    ").concat(n(),"\n    ").concat(i(),"\n    ").concat(o(),'\n    </div>\n  </div>\n<div class="yandex-map-balloon__panel">\n    <div class="yandex-map-balloon__content">\n      ').concat(e(),"\n      ").concat(n(),"\n      ").concat(i(),"\n      ").concat(o(),"\n      ").concat(t.active&&t.href?'<a href="'.concat(t.href,'" class="btn btn-primary btn-fluid btn-md">\n                    <span class="btn-text">Подробнее</span>\n                </a>'):"",'\n    </div>\n</div>\n<div class="yandex-map-balloon__close j-yandex-map-balloon-close">\n  <svg width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n  </svg>\n</div>\n</div>\n')}function er(t){function e(){return t.balloon.title?'<div class="yandex-map-balloon__title">'.concat(t.balloon.title,"</div>"):""}function n(){return t.balloon.text?'<div class="yandex-map-balloon__text">'.concat(t.balloon.text,"</div>"):""}return'\n    <div class="yandex-map-balloon j-yandex-map-balloon yandex-map-balloon--'.concat(t.modifyClass,'">\n      <div class="yandex-map-balloon__modal">\n        <div class="yandex-map-balloon__content">\n          ').concat(e(),"\n          ").concat(n(),'\n        </div>\n      </div>\n    <div class="yandex-map-balloon__panel">\n        <div class="yandex-map-balloon__content">\n          ').concat(e(),"\n          ").concat(n(),'\n        </div>\n    </div>\n    <div class="yandex-map-balloon__close j-yandex-map-balloon-close">\n      <svg width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M6.00005 5.36846L0.631575 0L0 0.631574L5.36847 6.00003L6.74523e-05 11.3684L0.631643 12L6.00005 6.63161L11.3684 11.9999L11.9999 11.3683L6.63162 6.00003L12 0.631668L11.3684 9.42307e-05L6.00005 5.36846Z"/>\n      </svg>\n    </div>\n    </div>\n')}function el(){return'<div class="yandex-map__dot-marker j-yandex-map-marker"></div>'}function ec(t){return'<div class="yandex-map__text-marker j-yandex-map-marker">'.concat(t.text,"</div>")}function eu(t){return'<div class="yandex-map__infrastructure-marker j-yandex-map-marker" style="background: '.concat(t.color,'">\n    <i class="yandex-map__infrastructure-marker-icon ').concat(t.icon,'"></i>\n</div>')}var eh={needBalloonPanel:function(){return window.innerWidth<1199},isMobile:function(){return window.innerWidth<1199}};function ed(t){return'<div class="yandex-map__marker j-yandex-map-marker">\n    <img src="'.concat(t.icon,'" alt=""/>\n</div>')}function ep(t){return'<div data-href="'.concat(t.href,'" class="yandex-map__object-marker j-yandex-map-marker j-map-project ').concat(t.active?" is-active":"",'" data-marker-id="').concat(t.id,'">\n      <div class="marker-image">\n      ').concat(t.icon?'<img class="marker-image__image" src="'+t.icon+'" alt="ЖК"/>':"",'\n      </div>\n      <div class="marker-content">\n        <div class="marker-content__type">').concat(t.typeName?t.typeName:"",'</div>\n        <div class="marker-content__name">').concat(t.name?t.name:"","</div>\n      </div>\n</div>")}function ef(t){return'<div class="yandex-map__point-marker j-yandex-map-marker data-marker-id="'.concat(t.id,'">\n    <div class="marker-image">\n    ').concat(t.icon?'<img class="marker-image__image" src="'+t.icon+'" alt="ЖК"/>':"","\n    </div>\n</div>")}function em(t){return t.active?'\n            <div data-href="'.concat(t.href,'" class="yandex-map__office-marker j-yandex-map-marker j-map-project ').concat(t.active?" is-active":"",'" data-marker-id="').concat(t.id,'">\n                <svg class="yandex-map__office-marker-svg" width="46" height="46" viewBox="0 0 46 46" xmlns="http://www.w3.org/2000/svg">\n                <path d="M22.9998 24.9167C26.1755 24.9167 28.7498 22.3423 28.7498 19.1667C28.7498 15.9911 26.1755 13.4167 22.9998 13.4167C19.8242 13.4167 17.2498 15.9911 17.2498 19.1667C17.2498 22.3423 19.8242 24.9167 22.9998 24.9167Z"  stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round"/>\n                <path d="M22.9998 42.1667C30.6665 34.5 38.3332 27.6351 38.3332 19.1667C38.3332 10.6983 31.4682 3.83337 22.9998 3.83337C14.5315 3.83337 7.6665 10.6983 7.6665 19.1667C7.6665 27.6351 15.3332 34.5 22.9998 42.1667Z"  stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round"/>\n                </svg>\n            </div>'):'\n    <div class="yandex-map__office-marker j-yandex-map-marker " data-marker-id="'.concat(t.id,'">\n        <svg class="yandex-map__office-marker-svg" width="46" height="46" viewBox="0 0 46 46" xmlns="http://www.w3.org/2000/svg">\n          <path d="M22.9998 24.9167C26.1755 24.9167 28.7498 22.3423 28.7498 19.1667C28.7498 15.9911 26.1755 13.4167 22.9998 13.4167C19.8242 13.4167 17.2498 15.9911 17.2498 19.1667C17.2498 22.3423 19.8242 24.9167 22.9998 24.9167Z"  stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round"/>\n          <path d="M22.9998 42.1667C30.6665 34.5 38.3332 27.6351 38.3332 19.1667C38.3332 10.6983 31.4682 3.83337 22.9998 3.83337C14.5315 3.83337 7.6665 10.6983 7.6665 19.1667C7.6665 27.6351 15.3332 34.5 22.9998 42.1667Z"  stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg>\n    </div>')}function ev(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ey=new g,eg=function(){var t,e;function n(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.state="close",this.id=null,this.defDelay=300,this.aciveClass="is-active",this.isFullScreen=!1,this._subscribes(),this._addWrapperToPage()}return t=[{key:"_addWrapperToPage",value:function(){var t=document.querySelector("body");o.insetContent(t,'<div class="yandex-map__panel-wrap"></div>')}},{key:"_subscribes",value:function(){var t=this;ey.subscribe("fullscreenexit",function(){"close"!==t.state&&t._close()})}},{key:"open",value:function(t){this.data=t.options.get("data"),this.template=t.options.get("template"),this.domTarget=t.getOverlaySync().getLayoutSync().getElement(),this.marker=this.domTarget.querySelector(".j-yandex-map-marker"),this.wrapper=document.querySelector(".yandex-map__panel-wrap"),this.id===Number(this.data.id)?this._close():this.id!==Number(this.data.id)&&"close"!==this.state?(this._close(),this._createTemplate("repeat")):this._createTemplate()}},{key:"_createTemplate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=e?this.defDelay:0;this._setStateMarker(),setTimeout(function(){o.insetContent(t.wrapper,t.template(t.data)),t.id=Number(t.data.id),t._getElements(),t._bindEvents(),t._showPanel()},n)}},{key:"_getElements",value:function(){this.panel=this.wrapper.querySelector(".j-yandex-map-balloon"),this.panelHeight=this.panel.offsetHeight}},{key:"_bindEvents",value:function(){var t=this,e=Array.from(this.panel.querySelectorAll(".j-yandex-map-balloon-close"));e.length&&e.forEach(function(e){e.addEventListener("click",function(){t._close()})})}},{key:"_showPanel",value:function(){this.panel.style.transform="translateY(".concat(-this.panelHeight,"px)"),this.state="show",this.wrapper.classList.add(this.aciveClass)}},{key:"_hideAll",value:function(){this.panel.style.transform="translateY(0)",this.state="close",this.wrapper.classList.remove(this.aciveClass)}},{key:"_close",value:function(){var t=this;this._removeStateMarker(),this._hideAll(),setTimeout(function(){o.removeElement(t.panel)},this.defDelay)}},{key:"_setStateMarker",value:function(){this.marker&&this.marker.classList.add(this.aciveClass)}},{key:"_removeStateMarker",value:function(){this.marker&&(this.activeMarker=document.querySelector(".j-yandex-map-marker.is-active"),this.activeMarker&&this.activeMarker.classList.remove(this.aciveClass),this.marker.classList.remove(this.aciveClass))}}],ev(n.prototype,t),e&&ev(n,e),n}(),eb=n(755);function e_(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ek=new eg,ew=function(){var t,e;function n(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.ymaps=window.ymaps,this.desktopBreakpoint=1199}return t=[{key:"createMarker",value:function(t){return(this._setSettings(t),t.balloon.title||t.balloon.text)?this._initWithBallon():this._initWithoutBalloon()}},{key:"createHtmlMarker",value:function(t){this._setTemplateMarker(t),this._setTemplateBalloon(t),this.ballon=t,this.office=t.office||!1,this.route=t.route||!1;var e=this.ymaps.templateLayoutFactory.createClass(this.markerTemplate(t),{build:function(){this.constructor.superclass.build.call(this),this._$element=eb(".yandex-map__".concat(t.modifyClass,"-marker"),this.getParentElement()),this._options=this.getData().options,this._size=[this._$element[0].offsetWidth,this._$element[0].offsetHeight],this._offset=this._calcElementOffset();var e={type:"Rectangle",coordinates:[this._offset,[this._offset[0]+this._size[0],this._offset[1]+this._size[1]]]};this._options.set("shape",e),this._applyElementOffset(this._offset),this._bindEvents()},_bindEvents:function(){var t=this;this.inited||(this.inited=!0,this.innerWidth=window.innerWidth,window.addEventListener("resize",function(){window.innerWidth!==t.innerWidth&&(t.innerWidth=window.innerWidth,t.rebuild())}))},_calcElementOffset:function(){switch(t.modifyClass){case"infrastructure":case"point":return[-this._size[0]/2,-this._size[1]/2];case"object":return[-this._size[1]/2,-this._size[1]/2];default:return[-this._size[0]/2,-this._size[1]]}},_applyElementOffset:function(t){this._$element[0].style.marginLeft="".concat(t[0],"px"),this._$element[0].style.marginTop="".concat(t[1],"px")}}),n=t.zIndex||!1,i=t.balloon,o=!eh.needBalloonPanel()&&!!i&&this._createBalloonContentLayout(),a=new this.ymaps.Placemark(t.coords,{},{type:"Placemark",balloonLayout:o,iconLayout:e,hideIconOnBalloonOpen:this.hideIconOnBalloonOpen,office:this.office,template:this.balloonTemplate,data:t,iconShape:this._setIconShape(t),zIndex:n,panel:ek,cursor:i?"pointer":"default",isBalloon:i});return this._bindEventsMarker(a),t.isHidden&&a.options.set("visible",!1),a}},{key:"_setSettings",value:function(t){var e={};e.lat=59.939014,e.lon=30.315545,e.iconWidth=24,e.iconHeight=24,e.offsetTop=0,e.offsetLeft=0,this.type=t.type||"Point",this.coords=t.coords||[e.lat,e.lon],this.iconLayout="default#image",this.iconImageHref=t.icon||"../../webicons/map/media/markers/marker.svg",this.iconImageSize=t.size||[e.iconWidth,e.iconHeight],this.iconImageOffset=t.offset||[e.offsetTop,e.offsetLeft],this.route=t.route||!1,this.ballon=t}},{key:"_initWithoutBalloon",value:function(){return new this.ymaps.Placemark(this.coords,{type:this.type},{iconLayout:this.iconLayout,iconImageHref:this.iconImageHref,iconImageSize:this.iconImageSize,iconImageOffset:this.iconImageOffset})}},{key:"_initWithBallon",value:function(){this._setTemplateBalloon();var t=new this.ymaps.Placemark(this.coords,{type:this.type},{balloonLayout:this._createBalloonContentLayout(),iconLayout:this.iconLayout,iconImageHref:this.iconImageHref,iconImageSize:this.iconImageSize,iconImageOffset:this.iconImageOffset,route:this.route,template:this.balloonTemplate,data:this.ballon,hideIconOnBalloonOpen:!1});return this._bindEventsMarker(t),t}},{key:"_setTemplateMarker",value:function(t){switch(t.modifyClass){case"object":this.hideIconOnBalloonOpen=!1,this.markerTemplate=ep;break;case"point":this.hideIconOnBalloonOpen=!1,this.markerTemplate=ef;break;case"infrastructure":this.hideIconOnBalloonOpen=!1,this.markerTemplate=eu;break;case"office":this.hideIconOnBalloonOpen=!1,this.markerTemplate=em;break;case"dot":this.hideIconOnBalloonOpen=!1,this.markerTemplate=el;break;case"text":this.hideIconOnBalloonOpen=!1,this.markerTemplate=ec;break;default:this.hideIconOnBalloonOpen=!1,this.markerTemplate=ed}}},{key:"_setTemplateBalloon",value:function(t){switch(t.modifyClass){case"object":this.balloonTemplate=eo;break;case"point":this.balloonTemplate=ea;break;case"office":this.balloonTemplate=es;break;case"infrastructure":this.balloonTemplate=er;break;default:this.balloonTemplate=ei}}},{key:"_setIconShape",value:function(t){return eh.needBalloonPanel()?this.iconImageSize=[Number(t.size.height),Number(t.size.height)]:this.iconImageSize=[-Number(t.size.width/2),-Number(t.size.height)],{type:"Rectangle",coordinates:[[0,0],this.iconImageSize]}}},{key:"_createBalloonContentLayout",value:function(){var t=this,e=this.ymaps.templateLayoutFactory.createClass(this.balloonTemplate(this.ballon),{build:function(){var e=this;this.constructor.superclass.build.call(this),this.balloon=document.querySelector(".j-yandex-map-balloon"),this.closeBallooneButtons=Array.from(document.querySelectorAll(".j-yandex-map-balloon-close")),t.markerOffset(this.balloon),this.closeBallooneButtons.forEach(function(t){t.addEventListener("click",e.onCloseClick.bind(e))})},clear:function(){this.constructor.superclass.clear.call(this)},onCloseClick:function(t){t.preventDefault(),this.events.fire("userclose")},onSublayoutSizeChange:function(){e.superclass.onSublayoutSizeChange.apply(this,arguments),this.balloon&&(t.markerOffset(this.balloon),this.events.fire("shapechange"))},getShape:function(){if(!this.balloon)return e.superclass.getShape.call(this);var t=this.balloon.offsetHeight,n=this.balloon.offsetWidth,i=this.balloon.offsetTop,o=this.balloon.offsetLeft;return new window.ymaps.shape.Rectangle(new window.ymaps.geometry.pixel.Rectangle([[o,i],[o+n,i+t]]))}});return e}},{key:"markerOffset",value:function(t){var e=this.iconImageSize[0],n=this.iconImageSize[1],i=t.classList;switch(!0){case i.contains("yandex-map-balloon--infrastructure"):t.style.left="".concat(-(t.offsetWidth/2),"px"),t.style.top="".concat(-t.offsetHeight-10+n/2,"px");break;case i.contains("yandex-map-balloon--object"):t.style.left="".concat(e,"px"),t.style.top="".concat(-(n-10)/2,"px");break;case i.contains("yandex-map-balloon--point"):t.style.left="".concat(-(t.offsetWidth/2),"px"),t.style.top="".concat(-t.offsetHeight-10+n/2,"px");break;case i.contains("yandex-map-balloon--office"):t.style.left="".concat(-(t.offsetWidth/2),"px"),t.style.top="".concat(-t.offsetHeight-10+n,"px");break;default:t.style.left="".concat(-(t.offsetWidth/2)+e/2,"px"),t.style.top="".concat(-t.offsetHeight-n/2,"px")}}},{key:"closeBalloonOnClickMap",value:function(t){window.innerWidth>this.desktopBreakpoint&&(t.geoObjects.events.add("click",function(){t.balloon.isOpen()&&t.balloon.close()}),t.events.add("click",function(){t.balloon.isOpen()&&t.balloon.close()}))}},{key:"_bindEventsMarker",value:function(t){window.innerWidth>=this.desktopBreakpoint&&!t.options.get("data").onlyPanel?(t.events.add("mouseenter",this.onMouseenterMarker.bind(this)),t.events.add("mousemove",this.onMousemoveMarker.bind(this)),t.events.add("mouseleave",this.onMouseleaveMarker.bind(this)),t.events.add("click",this._onMouseClickMarker.bind(this))):t.events.add("click",this.onMouseenterMarker.bind(this))}},{key:"_getMarkerElement",value:function(t){return t.get("target").getOverlaySync().getLayoutSync().getElement().querySelector(".j-yandex-map-marker")}},{key:"_onMouseClickMarker",value:function(t){var e=t.get("target"),n=this._getMarkerElement(t);if(e.options.get("data").href){n.closest(".j-map-project")&&n.classList.contains("is-active")&&window.open(e.options.get("data").href);return}eh.needBalloonPanel()&&e.options.get("balloonLayout")&&(t.preventDefault(),ek.open(e))}},{key:"onMousemoveMarker",value:function(t){var e=t.get("target").balloon,n=e.isOpen(),i=this._getMarkerElement(t);n||(this.bindEventsBalloon(e),i.classList.add("is-open-balloon"),e.open())}},{key:"onMouseenterMarker",value:function(t){var e=t.get("target"),n=e.balloon;if(n._geoObject.options._options.isBalloon){var i=e.options.get("data").onlyPanel;eh.needBalloonPanel()||i?ek.open(e):this.bindEventsBalloon(n)}}},{key:"onMouseleaveMarker",value:function(t){var e=t.get("target").balloon,n=this._getMarkerElement(t);this.timerCloseBalloon=this.getSetTimeoutClosingBalloon(e,n)}},{key:"bindEventsBalloon",value:function(t){t.events.add("mouseenter",this.onMouseenterBalloon.bind(this)),t.events.add("mouseleave",this.onMouseleaveBalloon.bind(this))}},{key:"onMouseenterBalloon",value:function(){clearTimeout(this.timerCloseBalloon),this.timerCloseBalloon=null}},{key:"onMouseleaveBalloon",value:function(t){var e=t.get("target").balloon,n=this._getMarkerElement(t);this.getSetTimeoutClosingBalloon(e,n)}},{key:"getSetTimeoutClosingBalloon",value:function(t,e){e.classList.remove("is-open-balloon"),e.classList.add("is-hide-balloon");var n=document.querySelector(".yandex-map-balloon");return n&&n.classList.add("is-hide-balloon"),setTimeout(function(){t.close(),e.classList.remove("is-hide-balloon")},300)}}],e_(n.prototype,t),e&&e_(n,e),n}();function eS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ex=new g,eE=function(){var t;function e(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,e),this.buttons=null,this.resetButton=null,this.disableClass="is-active"}return eS(e.prototype,[{key:"init",value:function(t){this.buttons=Array.from(t.target.querySelectorAll(".j-map-filter-item")),this.resetButton=t.resetButton||null,this._bindEvents()}},{key:"_bindEvents",value:function(){var t=this;this.buttons.forEach(function(e){e.addEventListener("change",function(){t._changeFilter(e)})}),this._resetFilter(),this.resetButton.addEventListener("click",function(){t._resetFilter()})}},{key:"_changeFilter",value:function(t){if(this.buttons.every(function(t){return!1===t.checked})){this.resetButton.classList.add(this.disableClass),ex.publish("showAllMarkers");return}var e=t.checked?"addFilterItem":"removeFilterItem",n=[];this.buttons.forEach(function(t){!0===t.checked&&n.push(t.dataset.type)}),this.resetButton.classList.remove(this.disableClass),ex.publish(e,n),ex.publish("filterUpdated")}},{key:"_resetFilter",value:function(){this.buttons.forEach(function(t){t.checked=!1}),this.resetButton.classList.add(this.disableClass),ex.publish("showAllMarkers")}}]),t&&eS(e,t),e}();function eC(t,e,n,i,o,a,s){try{var r=t[a](s),l=r.value}catch(t){n(t);return}r.done?e(l):Promise.resolve(l).then(i,o)}function eO(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function s(t){eC(a,i,o,s,r,"next",t)}function r(t){eC(a,i,o,s,r,"throw",t)}s(void 0)})}}function eT(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function eL(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}}var ej=new g,eP=function(){var t,e;function n(t){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.ymaps=t,this.geoObjectCollection=new this.ymaps.GeoObjectCollection,this.settings={},this.map=null,this.baseClass=".j-yandex-map-base",this.preloaderClass="is-loading",this.desktopBreakpoint=1199}return t=[{key:"init",value:function(t){this.outerOptions=t,this.mapWrapper=t.wrapper,this.content=this.mapWrapper.querySelector(this.baseClass),this.mapRoot=this.mapWrapper.closest(".j-yandex-map-root"),this.id=this.content.id,this.json=this.mapWrapper.dataset.json||t.json,this.mapWrapper.removeAttribute("data-json"),this._runMap(),this._subscribes()}},{key:"update",value:function(){this.geoObjectCollection&&(this.map.geoObjects.remove(this.geoObjectCollection),this.geoObjectCollection=new this.ymaps.GeoObjectCollection),this._initHistoricalPolygon(),this._initMarker(),this._initGroups(),this._initCircles()}},{key:"_subscribes",value:function(){var t=this;this._showGeoObject=this._showGeoObject.bind(this),this._hideGeoObject=this._hideGeoObject.bind(this),ej.subscribe("addFilterItem",function(e){t._toggleGeoObjects(e,t._showGeoObject)}),ej.subscribe("removeFilterItem",function(e){t._toggleGeoObjects(e,t._hideGeoObject)}),ej.subscribe("showAllMarkers",function(){t._visibleAllMarkers()}),ej.subscribe("mapSetCenter",function(){t._setCenterMap()})}},{key:"removeFilterItem",value:function(t){var e=this;t.forEach(function(t){e.geoObjectCollectionArray.forEach(function(n){n.options.get("data").type===t&&e._hideGeoObject(n)})})}},{key:"addFilterItem",value:function(t){var e=this;t.forEach(function(t){e.geoObjectCollectionArray.forEach(function(n){n.options.get("data").type===t&&e._showGeoObject(n)})})}},{key:"updateGroups",value:function(t){if(this.settings.groups){var e=[],n=!0,i=!1,o=void 0;try{for(var a,s=this,r=this.settings.groups[Symbol.iterator]();!(n=(a=r.next()).done);n=!0)!function(){var n=a.value,i=s.geoObjectCollectionArray.filter(function(e){return e.options.get("data").type===t&&e.options.get("data").group===n.id});e.push({groupId:n.id,count:i.length})}()}catch(t){i=!0,o=t}finally{try{n||null==r.return||r.return()}finally{if(i)throw o}}ej.publish("map:updateGroups",e)}}},{key:"_runMap",value:function(){var t=this;return eO(function(){return eL(this,function(e){switch(e.label){case 0:return[4,t._setSettings()];case 1:return e.sent(),[4,t._initYandexMap()];case 2:return e.sent(),t._setDeviceSettings(),t._initMarker(),t._initControls(),t._initCluster(),t._initGroups(),t._initCircles(),t._bindEvents(),t._showMap(),t._createFilterList(),t._initMapFilter(),ej.publish("map:ready"),[2]}})})()}},{key:"_setSettings",value:function(){var t=this;return eO(function(){var e;return eL(this,function(n){return t._connectSettings(t._setDefaultSettings()),t._connectSettings(t._setScriptSettings()),t.json&&(e=JSON.parse(t.json),t._connectSettings(e.data)),[2]})})()}},{key:"_initYandexMap",value:function(){var t=this;return eO(function(){var e,n;return eL(this,function(i){switch(i.label){case 0:e=function(){return new Promise(function(e){if(t.map=new t.ymaps.Map(t.id,t.settings,{suppressMapOpenBlock:!0}),t.map)e();else throw Error()})},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e()];case 2:return[2,i.sent()];case 3:throw n=i.sent(),console.error("При инициализации Яндекс Карт произошла критическая ошибка ".concat(n)),Error();case 4:return[2]}})})()}},{key:"_connectSettings",value:function(t){"object"==typeof t&&Object.assign(this.settings,t)}},{key:"_setDefaultSettings",value:function(){return{center:[59.939014,30.315545],mapTypeControl:!1,autoZoom:!1,zoom:12,zoomMargin:250,minZoom:10,maxZoom:18,zoomStep:1,controls:[],zoomControl:!0,customZoomControl:!0,fullScreenControl:!0,customFullScreenControl:!0,height:this.content.offsetHeight,zoomScroll:!1,markers:[]}}},{key:"_setScriptSettings",value:function(){return this.outerOptions}},{key:"_setDeviceSettings",value:function(){this._setDeviceCenter(),this._setDeviceZoom(),this.outerOptions.disableZoom&&this._disableZoom(),this.outerOptions.disableDrag&&this._disableDrag()}},{key:"_setDeviceCenter",value:function(){if(this.settings.centerMobile){var t=this.map.getZoom();o.isMobile()?this.map.setCenter(this.settings.centerMobile,t,{useMapMargin:!0}):this.map.setCenter(this.settings.center,t,{useMapMargin:!0})}}},{key:"_setDeviceZoom",value:function(){this.settings.zoomMobile&&(o.isMobile()?this.map.setZoom(this.settings.zoomMobile):this.map.setZoom(this.settings.zoom))}},{key:"_initMarker",value:function(){var t=this;this.settings.markers.forEach(function(e){var n=new ew;t.geoObjectCollection.add(n.createHtmlMarker(e)),n.closeBalloonOnClickMap(t.map)}),this.geoObjectCollectionArray=this.geoObjectCollection.toArray().map(function(t){return t}),this.map.geoObjects.add(this.geoObjectCollection),this.geoObjectCollectionArray.length>1&&this.settings.autoZoom&&this.map.setBounds(this.geoObjectCollection.getBounds(),{zoomMargin:this.settings.zoomMargin}),this._bindMapClick()}},{key:"_bindMapClick",value:function(){var t=this,e=new CustomEvent("bindMapClick");window.dispatchEvent(e),this.map.events.add("click",function(){window.innerWidth<t.desktopBreakpoint&&window.dispatchEvent(e)})}},{key:"_initControls",value:function(){new t7().init(this.map,this.settings,this.ymaps)}},{key:"_initCluster",value:function(){var t=this.settings.markers.filter(function(t){return"object-min"===t.modifyClass});this.outerOptions.cluster&&!t.length&&(this.cluster=new t5,this.cluster.init(this.geoObjectCollection))}},{key:"_initGroups",value:function(){this.settings.groups&&this.settings.groups.length&&new en().init(this.content,this.map,this.settings)}},{key:"_initCircles",value:function(){var t=this,e=this.settings.circles;e&&e.forEach(function(e){var n=new ymaps.Circle([e.center,e.radius],{},{fillColor:e.fillColor,fillOpacity:e.fillOpacity,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWidth:e.strokeWidth,strokeStyle:e.strokeStyle});t.map.geoObjects.add(n)})}},{key:"_bindEvents",value:function(){var t=this;this._setDeviceSettings=this._setDeviceSettings.bind(this),["resize","orientationchange"].forEach(function(e){window.addEventListener(e,o.debounce(t._setDeviceSettings,100))})}},{key:"_showMap",value:function(){this.content.classList.remove(this.preloaderClass),this.content.style.opacity="1",this.outerOptions.afterShow&&this.outerOptions.afterShow()}},{key:"_createFilterList",value:function(){var t=this;if(this.mapRoot&&this.mapRoot.querySelector(".j-yandex-map-infrastructure")){var e=this.mapRoot.querySelector(".j-map-filter"),n=this.settings.markers,i="",o=[];n.forEach(function(e){if("infrastructure"===e.modifyClass){var n=e.type;o.includes(n)||(i+=t.createFilterItem(e),o.push(n))}}),e.innerHTML=i}}},{key:"createFilterItem",value:function(t){return'\n        <li class="infrastructure-legend__list-item">\n          <label class="infrastructure-label">\n            <input class="infrastructure-label__checkbox j-map-filter-item" type="checkbox" name="'.concat(t.type,'" data-type="').concat(t.type,'" id="').concat(t.type,'" />\n            <div class="infrastructure-label__inner">\n              <span class="infrastructure-label__text">').concat(t.name,'</span>\n              <span class="infrastructure-label__icon">\n                <i class="').concat(t.icon,'"></i>\n              </span>\n            </div>\n          </label>\n        </li>\n      ')}},{key:"_initMapFilter",value:function(){if(this.mapRoot){var t=this.mapRoot.querySelector(".j-map-filter"),e=this.mapRoot.querySelector(".j-map-filter-reset"),n=this.mapRoot.querySelector(".j-map-filter-apply");t&&(new eE().init({target:t,resetButton:e}),n&&ej.subscribe("filterUpdated",function(){n.classList.remove("is-hidden")}));var i=this.mapRoot.querySelector(".j-yandex-map-infrastructure"),o=this.mapRoot.querySelector(".j-yandex-map-filter-toggle");o&&i&&(o.addEventListener("click",function(){i.classList.toggle("is-open"),o.classList.toggle("is-open")}),n.addEventListener("click",function(){n.classList.add("is-hidden"),i.classList.remove("is-open"),o.classList.remove("is-open")}))}}},{key:"_showGeoObject",value:function(t){this.cluster.addGeoObjectToClusterer(t)}},{key:"_hideGeoObject",value:function(t){this.cluster.removeGeoObjectToClusterer(t)}},{key:"_toggleGeoObjects",value:function(t,e){var n=this;this.geoObjectCollectionArray.forEach(function(t){"point"!==t.options.get("data").type&&"text"!==t.options.get("data").type&&n._hideGeoObject(t)}),t.forEach(function(t){n.geoObjectCollectionArray.forEach(function(i){i.options.get("data").type===t&&(e(i),n._showGeoObject(i))})})}},{key:"_visibleAllMarkers",value:function(){var t=this;this.geoObjectCollectionArray.forEach(function(e){"point"!==e.options.get("data").type&&t._showGeoObject(e)})}},{key:"hideAllMarkers",value:function(){var t=this;this.geoObjectCollectionArray.forEach(function(e){"point"!==e.options.get("data").type&&t._hideGeoObject(e)})}},{key:"_setCenterMap",value:function(t){eh.isMobile()&&this.setCenter(t,this.settings.zoom)}},{key:"_disableZoom",value:function(){var t=this.map.getZoom();this.map.behaviors.disable("dblClickZoom"),this.map.behaviors.disable("scrollZoom"),this.map.options.set("maxZoom",t),this.map.options.set("minZoom",t)}},{key:"_disableDrag",value:function(){this.map.behaviors.disable("drag")}},{key:"getMarkers",value:function(){return this.settings.markers}},{key:"setCenter",value:function(t,e){this.map.setCenter(t,e)}}],eT(n.prototype,t),e&&eT(n,e),n}();function eA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var eI=function(){var t,e;function n(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.container=null,this.activeClass="is-active",this.ymaps=window.ymaps}return t=[{key:"init",value:function(t){this.container=t.container,this.container&&this.ymaps&&(this._initElements(),this._initMap())}},{key:"_initElements",value:function(){this.mapEl=this.container.querySelector(".yandex-map__base"),this.objectsContainer=document.querySelector("[data-map-objects]")}},{key:"_initMap",value:function(){var t=this;this.container.dataset.json&&this.ymaps.ready(function(){t.map=new eP(t.ymaps),t.map.init({wrapper:t.container,cluster:!0,fullScreenControl:!0,customFullScreenControl:!0,customZoomControl:!0,json:t.container.dataset.json||!1,afterShow:t._afterShowMap.bind(t)})})}},{key:"_afterShowMap",value:function(){this._bindEventNavigation()}},{key:"_bindEventNavigation",value:function(){var t=this;this.objectsContainer.querySelectorAll(".yandex-map__object").forEach(function(e){e.addEventListener("mouseenter",function(e){if(t.map&&t.map.geoObjectCollectionArray){var n=e.target.dataset.objectId;t.map.geoObjectCollectionArray.forEach(function(e){t._setActiveMarkerParams(e,n)})}})}),this.objectsContainer.addEventListener("mouseleave",function(){t.map.geoObjectCollectionArray.forEach(function(e){t._setActiveMarkerParams(e,"leave")})})}},{key:"_setActiveMarkerParams",value:function(t,e){var n=this;t.getOverlay().then(function(i){n._getDomElement(i);var o=n.domMarker.dataset.markerId===e;t.options.set("cursor","pointer"),t.options.set("zIndex",1),n.domMarker.classList.toggle("_active",o),n.domMarker.dataset.markerId===e&&n._setMapBounds(t)})}},{key:"_getDomElement",value:function(t){var e=t.getLayoutSync().getElement();this.domMarker=e.querySelector(".j-yandex-map-marker")}},{key:"_setMapBounds",value:function(t){this.ymaps.util.bounds.containsPoint(this.map.map.getBounds(),t.geometry.getCoordinates())||this.map.map.setCenter(t.geometry.getCoordinates(),this.map.map.getZoom(),{duration:300})}}],eA(n.prototype,t),e&&eA(n,e),n}(),eM=new g,eq=function(){var t;function e(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,e)}return t=[{key:"init",value:function(){this._subscribe()}},{key:"_loadScriptApi",value:function(){if(!window.ymapsInited)return new Promise(function(t,e){var n=document.createElement("script");n.src="https://api-maps.yandex.ru/2.1/?apikey=fc8ccd61-8a5d-43e8-ae97-d91256868293&lang=ru_RU",n.async=!0,n.defer=!0,n.type="text/javascript",n.onload=t,n.onerror=function(t){e(t)},document.body.appendChild(n)}).then(function(){return window.ymapsInited=!0,new Promise(function(t){window.ymaps.ready(t)})})}},{key:"_subscribe",value:function(){var t=this;window.ymapsInited=!1,eM.subscribe("map:init",function(e){t._initMap(e)}),eM.subscribe("map:init-2",function(e){setTimeout(function(){t._initMap(e)},600)}),eM.subscribe("map:objects",function(e){setTimeout(function(){t._initMap(e,!0)},600)})}},{key:"_initMap",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(window.ymapsInited?e?new eI(window.ymaps).init({container:t}):new eP(window.ymaps).init({wrapper:t,cluster:!0,fullScreenControl:!0,customFullScreenControl:!0,customZoomControl:!0}):this._loadScriptApi().then(function(n){e?new eI(n).init({container:t}):new eP(n).init({wrapper:t,cluster:!0,fullScreenControl:!0,customFullScreenControl:!0,customZoomControl:!0}),window.ymapsInited=!0}).catch(function(t){console.error("При загрузке яндекс карт произошла ошибка: ".concat(t))}))}}],function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e,t),e}();function eB(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var eD=function(){var t,e;function n(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.get=window.location.search,this.cookies=W.Z,this.getObject={},this.utm=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],this.utmID=[["ym_uid","_ym_uid"],["ga_uid","_ga"],["roistat_visit","roistat_visit"]],this.utmCookieCount=0}return t=[{key:"init",value:function(){this._searchStringToObject(),Object.keys(this.getObject).length&&this._addUtmToCookie(),this._checkCookie(),this.utmCookieCount>0&&this._addUtmValueToInputs(),this._addToInputsFromUtmID()}},{key:"_searchStringToObject",value:function(){if(-1!==this.get.indexOf("&")){var t=this.get.slice(1).split("&");this.getObject=t.reduce(function(t,e){return(e=e.split("="))[0].includes("utm")&&(t[e[0]]=e[1]),t},{})}}},{key:"_addUtmToCookie",value:function(){for(var t in this.getObject){var e=this.getObject[t];this._setCookie(t,e)}}},{key:"_checkCookie",value:function(){var t=this;this.utm.forEach(function(e){t._getCookie(e)&&t.utmCookieCount++})}},{key:"_addUtmValueToInputs",value:function(){var t=this;this.formElems=document.querySelectorAll("form"),0!==this.formElems.length&&this.formElems.forEach(function(e){t.utm.forEach(function(n){var i=e.querySelector('input[name="'.concat(n,'"]'));if(i){var o=t._getCookie(n);o&&(i.value=o)}})})}},{key:"_addToInputsFromUtmID",value:function(){var t=this;this.formElems=document.querySelectorAll("form"),0!==this.formElems.length&&this.formElems.forEach(function(e){t.utmID.forEach(function(n){var i=e.querySelector('input[name="'.concat(n[0],'"]'));if(i){var o=t._getCookie(n[1]);o&&(i.value=o)}})})}},{key:"_setCookie",value:function(t,e){this.cookies.set(t,e,{expires:+this.cookieDuration})}},{key:"_getCookie",value:function(t){return this.cookies.get(t)}}],e=[{key:"init",value:function(){new n().init()}}],t&&eB(n.prototype,t),e&&eB(n,e),n}();function eN(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}u.p8.registerPlugin(j.i);var eH=function(){var t,e;function n(t){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),this.element=t.element,this.items=this.element.querySelectorAll(".page-nav__item"),this.elementFixed=document.querySelector(".page-nav--fixed"),this.desktopBreakpoint=768}return t=[{key:"init",value:function(){this._setActiveClass(),this._bindEvents(),window.innerWidth>this.desktopBreakpoint&&this._navFixed()}},{key:"_bindEvents",value:function(){var t=this;this.items.forEach(function(e){e.addEventListener("click",t._toggleItem.bind(t))})}},{key:"_toggleItem",value:function(t){var e=t.target.parentNode;e.classList.contains("is-active")||(this.items.forEach(function(t){t.classList.remove("is-active")}),e.classList.add("is-active"))}},{key:"_setActiveClass",value:function(){}},{key:"_navFixed",value:function(){var t=this;this.elementFixed&&j.i.create({trigger:this.element,start:"bottom 10%",endTrigger:".footer",end:"top bottom",onEnter:function(){return t._show()},onEnterBack:function(){return t._show()},onLeave:function(){return t._hide()},onLeaveBack:function(){return t._hide()},markers:!0})}},{key:"_hide",value:function(){this.elementFixed.classList.remove("is-active")}},{key:"_show",value:function(){this.elementFixed.classList.add("is-active")}}],e=[{key:"init",value:function(){var t=document.querySelectorAll(".page-nav");t.length&&t.forEach(function(t){new n({element:t}).init()})}}],t&&eN(n.prototype,t),e&&eN(n,e),n}();n.p;var ez=n(755);window.Site||(window.Site={},window.Site.Modules={},window.Site.Env={});var eR=new c;eR.register([$,T,p,H,tU,R,tN,tT,tL,tj,tQ,tq,tI,tW,tG,te,tn,S,t1,eq,t3,eD,eH]),o.handlerDocumentReady(function(){window.jQuery=window.$=ez,eR.init()})}},a={};function s(t){var e=a[t];if(void 0!==e)return e.exports;var n=a[t]={id:t,loaded:!1,exports:{}};return o[t].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=o,s.amdD=function(){throw Error("define cannot be used indirect")},s.amdO={},t=[],s.O=function(e,n,i,o){if(n){o=o||0;for(var a=t.length;a>0&&t[a-1][2]>o;a--)t[a]=t[a-1];t[a]=[n,i,o];return}for(var r=1/0,a=0;a<t.length;a++){for(var n=t[a][0],i=t[a][1],o=t[a][2],l=!0,c=0;c<n.length;c++)r>=o&&Object.keys(s.O).every(function(t){return s.O[t](n[c])})?n.splice(c--,1):(l=!1,o<r&&(r=o));if(l){t.splice(a--,1);var u=i();void 0!==u&&(e=u)}}return e},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,{a:e}),e},s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},s.p="",e={179:0},s.O.j=function(t){return 0===e[t]},n=function(t,n){var i,o,a=n[0],r=n[1],l=n[2],c=0;if(a.some(function(t){return 0!==e[t]})){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(l)var u=l(s)}for(t&&t(n);c<a.length;c++)o=a[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},(i=self.webpackChunkstarttemplate=self.webpackChunkstarttemplate||[]).forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i));var r=s.O(void 0,[216],function(){return s(104)});s.O(r)}();